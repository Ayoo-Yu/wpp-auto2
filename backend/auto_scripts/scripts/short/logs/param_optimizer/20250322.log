2025-03-22 20:20:27,937 - 
================================================================================
2025-03-22 20:20:27,937 - >>> 开始参数优化 <<<
2025-03-22 20:20:27,938 - ================================================================================

2025-03-22 20:20:27,938 - 开始LightGBM参数优化流程
2025-03-22 20:20:27,938 - 找到最新的数据文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short\20250322.csv
2025-03-22 20:20:27,938 - 加载数据: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short\20250322.csv
2025-03-22 20:20:28,005 - 数据加载完成，共 2973 条记录
2025-03-22 20:20:28,011 - 数据集划分完成，训练集: (2675, 304), 验证集: (298, 304)
2025-03-22 20:20:28,085 - 特征工程完成，训练特征: (2672, 859), 验证特征: (295, 859)
2025-03-22 20:20:28,115 - 数据标准化完成
2025-03-22 20:20:28,169 - 时间窗口创建完成，训练窗口: (2657, 16, 859), 验证窗口: (280, 16, 859)
2025-03-22 20:20:28,169 - 调整时间戳长度与验证集窗口匹配: 280
2025-03-22 20:20:28,169 - 当前参数版本: 20250321
2025-03-22 20:20:28,169 - 
================================================================================
2025-03-22 20:20:28,169 - >>> 优化 GBDT 算法参数 <<<
2025-03-22 20:20:28,169 - ================================================================================

2025-03-22 20:20:28,169 - 开始优化 GBDT 算法参数
2025-03-22 20:20:28,170 - 使用当前参数训练 GBDT 模型作为基准
2025-03-22 20:20:48,447 - 当前 GBDT 参数基准分数: score=0.6513, rmse=67.1426, k=0.4608
2025-03-22 20:20:48,448 - 开始 GBDT 的参数随机搜索
2025-03-22 20:20:48,489 - 开始为 GBDT 进行随机参数搜索 (10 次迭代)
2025-03-22 20:20:54,659 - [GBDT] 迭代 1/10: score=0.8271, rmse=47.5166, k=0.7590, 用时=6.17秒
2025-03-22 20:20:54,659 - [GBDT] 新的最佳分数: 0.8271, 参数: {'objective': 'regression', 'metric': 'rmse', 'random_state': 42, 'verbose': -1, 'boosting_type': 'gbdt', 'name': 'GBDT', 'device': 'gpu', 'gpu_platform_id': 0, 'gpu_device_id': 0, 'gpu_use_dp': False, 'num_leaves': np.int64(50), 'learning_rate': np.float64(0.1), 'feature_fraction': np.float64(0.8), 'max_depth': np.int64(5), 'n_estimators': np.int64(130)}
2025-03-22 20:21:22,444 - [GBDT] 迭代 2/10: score=0.7982, rmse=58.6101, k=0.7256, 用时=27.78秒
2025-03-22 20:21:43,090 - [GBDT] 迭代 3/10: score=0.8197, rmse=50.6926, k=0.7511, 用时=20.65秒
2025-03-22 20:21:52,803 - [GBDT] 迭代 4/10: score=0.7923, rmse=60.1810, k=0.7174, 用时=9.71秒
2025-03-22 20:22:00,221 - [GBDT] 迭代 5/10: score=0.8057, rmse=54.5158, k=0.7317, 用时=7.42秒
2025-03-22 20:22:03,906 - [GBDT] 迭代 6/10: score=0.8172, rmse=48.0926, k=0.7404, 用时=3.68秒
2025-03-22 20:22:11,609 - [GBDT] 迭代 7/10: score=0.8182, rmse=49.5027, k=0.7456, 用时=7.70秒
2025-03-22 20:22:19,302 - [GBDT] 迭代 8/10: score=0.8211, rmse=48.9269, k=0.7501, 用时=7.69秒
2025-03-22 20:22:29,168 - [GBDT] 迭代 9/10: score=0.7807, rmse=64.0979, k=0.7028, 用时=9.87秒
2025-03-22 20:22:46,552 - [GBDT] 迭代 10/10: score=0.8200, rmse=51.3652, k=0.7533, 用时=17.38秒
2025-03-22 20:22:46,552 - 发现更好的模型类型: GBDT, 分数: 0.8271
2025-03-22 20:22:46,558 - 找到 GBDT 的最佳参数: {'objective': 'regression', 'metric': 'rmse', 'random_state': 42, 'verbose': -1, 'boosting_type': 'gbdt', 'name': 'GBDT', 'device': 'gpu', 'gpu_platform_id': 0, 'gpu_device_id': 0, 'gpu_use_dp': False, 'num_leaves': np.int64(50), 'learning_rate': np.float64(0.1), 'feature_fraction': np.float64(0.8), 'max_depth': np.int64(5), 'n_estimators': np.int64(130)}
2025-03-22 20:22:58,173 - 新 GBDT 参数评分: score=0.6488, rmse=67.7465, k=0.4568
2025-03-22 20:22:58,173 - 
================================================================================
2025-03-22 20:22:58,173 - >>> 优化 DART 算法参数 <<<
2025-03-22 20:22:58,173 - ================================================================================

2025-03-22 20:22:58,173 - 开始优化 DART 算法参数
2025-03-22 20:22:58,173 - 使用当前参数训练 DART 模型作为基准
2025-03-22 20:23:18,267 - 当前 DART 参数基准分数: score=0.7416, rmse=62.3280, k=0.6255
2025-03-22 20:23:18,267 - 开始 DART 的参数随机搜索
2025-03-22 20:23:18,306 - 开始为 DART 进行随机参数搜索 (10 次迭代)
2025-03-22 20:23:40,167 - [DART] 迭代 1/10: score=0.4172, rmse=187.4132, k=0.2477, 用时=21.86秒
2025-03-22 20:23:40,168 - [DART] 新的最佳分数: 0.4172, 参数: {'objective': 'regression', 'metric': 'rmse', 'random_state': 42, 'verbose': -1, 'boosting_type': 'dart', 'name': 'DART', 'device': 'gpu', 'gpu_platform_id': 0, 'gpu_device_id': 0, 'gpu_use_dp': False, 'num_leaves': np.int64(20), 'learning_rate': np.float64(0.01), 'feature_fraction': np.float64(0.9), 'max_depth': np.int64(9), 'n_estimators': np.int64(130), 'drop_rate': np.float64(0.3), 'skip_drop': np.float64(0.3)}
2025-03-22 20:24:16,060 - [DART] 迭代 2/10: score=0.4469, rmse=178.2991, k=0.2870, 用时=35.89秒
2025-03-22 20:24:16,061 - [DART] 新的最佳分数: 0.4469, 参数: {'objective': 'regression', 'metric': 'rmse', 'random_state': 42, 'verbose': -1, 'boosting_type': 'dart', 'name': 'DART', 'device': 'gpu', 'gpu_platform_id': 0, 'gpu_device_id': 0, 'gpu_use_dp': False, 'num_leaves': np.int64(70), 'learning_rate': np.float64(0.01), 'feature_fraction': np.float64(0.9), 'max_depth': np.int64(6), 'n_estimators': np.int64(190), 'drop_rate': np.float64(0.3), 'skip_drop': np.float64(0.3)}
2025-03-22 20:25:06,547 - [DART] 迭代 3/10: score=0.7876, rmse=67.3873, k=0.7239, 用时=50.49秒
2025-03-22 20:25:06,549 - [DART] 新的最佳分数: 0.7876, 参数: {'objective': 'regression', 'metric': 'rmse', 'random_state': 42, 'verbose': -1, 'boosting_type': 'dart', 'name': 'DART', 'device': 'gpu', 'gpu_platform_id': 0, 'gpu_device_id': 0, 'gpu_use_dp': False, 'num_leaves': np.int64(40), 'learning_rate': np.float64(0.1), 'feature_fraction': np.float64(0.9), 'max_depth': np.int64(8), 'n_estimators': np.int64(190), 'drop_rate': np.float64(0.4), 'skip_drop': np.float64(0.3)}
2025-03-22 20:25:32,638 - [DART] 迭代 4/10: score=0.7538, rmse=80.4933, k=0.6850, 用时=26.09秒
2025-03-22 20:25:36,382 - [DART] 迭代 5/10: score=0.6262, rmse=123.1852, k=0.5240, 用时=3.74秒
2025-03-22 20:26:03,302 - [DART] 迭代 6/10: score=0.6257, rmse=123.7957, k=0.5244, 用时=26.92秒
2025-03-22 20:26:15,056 - [DART] 迭代 7/10: score=0.7321, rmse=88.1063, k=0.6584, 用时=11.75秒
2025-03-22 20:26:51,242 - [DART] 迭代 8/10: score=0.8210, rmse=51.7756, k=0.7562, 用时=36.19秒
2025-03-22 20:26:51,245 - [DART] 新的最佳分数: 0.8210, 参数: {'objective': 'regression', 'metric': 'rmse', 'random_state': 42, 'verbose': -1, 'boosting_type': 'dart', 'name': 'DART', 'device': 'gpu', 'gpu_platform_id': 0, 'gpu_device_id': 0, 'gpu_use_dp': False, 'num_leaves': np.int64(90), 'learning_rate': np.float64(0.05), 'feature_fraction': np.float64(0.8), 'max_depth': np.int64(6), 'n_estimators': np.int64(190), 'drop_rate': np.float64(0.1), 'skip_drop': np.float64(0.7)}
2025-03-22 20:27:18,172 - [DART] 迭代 9/10: score=0.7271, rmse=89.8085, k=0.6522, 用时=26.93秒
2025-03-22 20:27:47,866 - [DART] 迭代 10/10: score=0.7096, rmse=95.5550, k=0.6300, 用时=29.69秒
2025-03-22 20:27:47,866 - 发现更好的模型类型: DART, 分数: 0.8210
2025-03-22 20:27:47,872 - 找到 DART 的最佳参数: {'objective': 'regression', 'metric': 'rmse', 'random_state': 42, 'verbose': -1, 'boosting_type': 'dart', 'name': 'DART', 'device': 'gpu', 'gpu_platform_id': 0, 'gpu_device_id': 0, 'gpu_use_dp': False, 'num_leaves': np.int64(90), 'learning_rate': np.float64(0.05), 'feature_fraction': np.float64(0.8), 'max_depth': np.int64(6), 'n_estimators': np.int64(190), 'drop_rate': np.float64(0.1), 'skip_drop': np.float64(0.7)}
2025-03-22 20:28:24,493 - 新 DART 参数评分: score=0.6653, rmse=64.9048, k=0.4834
2025-03-22 20:28:24,493 - 
================================================================================
2025-03-22 20:28:24,493 - >>> 优化 GOSS 算法参数 <<<
2025-03-22 20:28:24,493 - ================================================================================

2025-03-22 20:28:24,493 - 开始优化 GOSS 算法参数
2025-03-22 20:28:24,493 - 使用当前参数训练 GOSS 模型作为基准
2025-03-22 20:28:40,022 - 当前 GOSS 参数基准分数: score=0.6442, rmse=68.3105, k=0.4494
2025-03-22 20:28:40,022 - 开始 GOSS 的参数随机搜索
2025-03-22 20:28:40,064 - 开始为 GOSS 进行随机参数搜索 (10 次迭代)
2025-03-22 20:28:48,555 - [GOSS] 迭代 1/10: score=0.8171, rmse=50.9628, k=0.7465, 用时=8.49秒
2025-03-22 20:28:48,555 - [GOSS] 新的最佳分数: 0.8171, 参数: {'objective': 'regression', 'metric': 'rmse', 'random_state': 42, 'verbose': -1, 'boosting_type': 'goss', 'name': 'GOSS', 'device': 'gpu', 'gpu_platform_id': 0, 'gpu_device_id': 0, 'gpu_use_dp': False, 'num_leaves': np.int64(80), 'learning_rate': np.float64(0.1), 'feature_fraction': np.float64(0.6), 'max_depth': np.int64(6), 'n_estimators': np.int64(90), 'top_rate': np.float64(0.1), 'other_rate': np.float64(0.3)}
2025-03-22 20:29:03,350 - [GOSS] 迭代 2/10: score=0.8121, rmse=51.8736, k=0.7387, 用时=14.79秒
2025-03-22 20:29:12,960 - [GOSS] 迭代 3/10: score=0.8224, rmse=48.1839, k=0.7510, 用时=9.61秒
2025-03-22 20:29:12,962 - [GOSS] 新的最佳分数: 0.8224, 参数: {'objective': 'regression', 'metric': 'rmse', 'random_state': 42, 'verbose': -1, 'boosting_type': 'goss', 'name': 'GOSS', 'device': 'gpu', 'gpu_platform_id': 0, 'gpu_device_id': 0, 'gpu_use_dp': False, 'num_leaves': np.int64(30), 'learning_rate': np.float64(0.05), 'feature_fraction': np.float64(0.7), 'max_depth': np.int64(3), 'n_estimators': np.int64(150), 'top_rate': np.float64(0.1), 'other_rate': np.float64(0.2)}
2025-03-22 20:29:19,373 - [GOSS] 迭代 4/10: score=0.8199, rmse=49.1419, k=0.7483, 用时=6.41秒
2025-03-22 20:29:27,534 - [GOSS] 迭代 5/10: score=0.8184, rmse=49.9461, k=0.7469, 用时=8.16秒
2025-03-22 20:29:42,768 - [GOSS] 迭代 6/10: score=0.8194, rmse=49.1265, k=0.7472, 用时=15.23秒
2025-03-22 20:29:50,729 - [GOSS] 迭代 7/10: score=0.8010, rmse=56.2126, k=0.7259, 用时=7.96秒
2025-03-22 20:30:08,788 - [GOSS] 迭代 8/10: score=0.8188, rmse=51.4369, k=0.7510, 用时=18.06秒
2025-03-22 20:30:26,347 - [GOSS] 迭代 9/10: score=0.8221, rmse=50.1854, k=0.7549, 用时=17.56秒
2025-03-22 20:30:47,774 - [GOSS] 迭代 10/10: score=0.8086, rmse=54.0997, k=0.7365, 用时=21.43秒
2025-03-22 20:30:47,774 - 发现更好的模型类型: GOSS, 分数: 0.8224
2025-03-22 20:30:47,780 - 找到 GOSS 的最佳参数: {'objective': 'regression', 'metric': 'rmse', 'random_state': 42, 'verbose': -1, 'boosting_type': 'goss', 'name': 'GOSS', 'device': 'gpu', 'gpu_platform_id': 0, 'gpu_device_id': 0, 'gpu_use_dp': False, 'num_leaves': np.int64(30), 'learning_rate': np.float64(0.05), 'feature_fraction': np.float64(0.7), 'max_depth': np.int64(3), 'n_estimators': np.int64(150), 'top_rate': np.float64(0.1), 'other_rate': np.float64(0.2)}
2025-03-22 20:31:08,610 - 新 GOSS 参数评分: score=0.6637, rmse=64.3415, k=0.4789
2025-03-22 20:31:08,610 - GBDT 参数改进: False (新分数: 0.6488, 旧分数: 0.6513, 改进: -0.39%)
2025-03-22 20:31:08,610 - GBDT 改进是否显著: False (最小阈值: 5.0%)
2025-03-22 20:31:08,610 - DART 参数改进: False (新分数: 0.6653, 旧分数: 0.7416, 改进: -10.28%)
2025-03-22 20:31:08,610 - DART 改进是否显著: False (最小阈值: 5.0%)
2025-03-22 20:31:08,611 - GOSS 参数改进: True (新分数: 0.6637, 旧分数: 0.6442, 改进: 3.03%)
2025-03-22 20:31:08,611 - GOSS 改进是否显著: False (最小阈值: 5.0%)
2025-03-22 20:31:08,611 - 
================================================================================
2025-03-22 20:31:08,611 - >>> 更新部分算法参数 <<<
2025-03-22 20:31:08,611 - ================================================================================

2025-03-22 20:31:08,611 - 不是所有算法都有显著改进，分别检查更新
2025-03-22 20:31:08,611 - GBDT 参数没有显著改进，保持当前参数不变
2025-03-22 20:31:08,611 - DART 参数没有显著改进，保持当前参数不变
2025-03-22 20:31:08,611 - GOSS 参数没有显著改进，保持当前参数不变
2025-03-22 20:31:08,611 - 没有任何算法参数达到显著改进标准，保持当前参数不变
2025-03-22 20:31:08,611 - 参数优化完成，已创建标志文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\scripts\short\logs\param_optimizer\20250317_param_opt_done.flag
2025-03-22 20:42:47,792 - 
================================================================================
2025-03-22 20:42:47,793 - >>> 开始参数优化 <<<
2025-03-22 20:42:47,793 - ================================================================================

2025-03-22 20:42:47,793 - 开始LightGBM参数优化流程
2025-03-22 20:42:47,793 - 检测到本周参数优化已经执行过 (标志文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\scripts\short\logs\param_optimizer\20250317_param_opt_done.flag)
2025-03-22 20:42:47,793 - 
================================================================================
2025-03-22 20:42:47,793 - >>> 参数优化已执行 <<<
2025-03-22 20:42:47,793 - ================================================================================

2025-03-22 20:42:47,793 - 本周已经执行过参数优化，跳过此次运行
2025-03-22 20:48:41,549 - 
================================================================================
2025-03-22 20:48:41,549 - >>> 开始参数优化 <<<
2025-03-22 20:48:41,549 - ================================================================================

2025-03-22 20:48:41,549 - 开始LightGBM参数优化流程
2025-03-22 20:48:41,549 - 检测到本周参数优化已经执行过 (标志文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\scripts\short\logs\param_optimizer\20250317_param_opt_done.flag)
2025-03-22 20:48:41,549 - 
================================================================================
2025-03-22 20:48:41,549 - >>> 参数优化已执行 <<<
2025-03-22 20:48:41,549 - ================================================================================

2025-03-22 20:48:41,549 - 本周已经执行过参数优化，跳过此次运行
2025-03-22 20:53:26,474 - 
================================================================================
2025-03-22 20:53:26,474 - >>> 开始参数优化 <<<
2025-03-22 20:53:26,474 - ================================================================================

2025-03-22 20:53:26,474 - 开始LightGBM参数优化流程
2025-03-22 20:53:26,474 - 检测到本周参数优化已经执行过 (标志文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\scripts\short\logs\param_optimizer\20250317_param_opt_done.flag)
2025-03-22 20:53:26,474 - 
================================================================================
2025-03-22 20:53:26,474 - >>> 参数优化已执行 <<<
2025-03-22 20:53:26,474 - ================================================================================

2025-03-22 20:53:26,474 - 本周已经执行过参数优化，跳过此次运行
