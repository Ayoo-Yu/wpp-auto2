2025-03-21 11:47:29,176 - 今天的日期是: 20250321
2025-03-21 11:47:29,177 - 开始监视 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short 文件夹以进行训练...
2025-03-21 11:47:29,177 - 开始监视 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv 文件夹以进行预测...
2025-03-21 11:47:29,177 - 发现新的训练文件：D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short\20250321.csv，执行训练...
2025-03-21 11:47:29,177 - 输出结果将保存到: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\train_predictions\short_predictions
2025-03-21 11:47:29,177 - 开始加载和预处理数据...
2025-03-21 11:47:29,177 - 未有可用模型，等待模型训练完成...
2025-03-21 11:47:29,897 - 数据加载完成，共 38172 条记录
2025-03-21 11:47:29,898 - 将使用以下时间段训练模型: [1, 3, 6, 9, 12, None]
2025-03-21 11:47:29,902 - 使用1个月的数据进行训练...
2025-03-21 11:47:29,940 - 多数据集训练失败: name 'split_data' is not defined
2025-03-21 11:47:29,940 - 回退到传统的单一模型训练方法
2025-03-21 11:47:30,190 - 数据加载与预处理完成
2025-03-21 11:47:30,499 - 数据标准化完成
2025-03-21 11:47:31,250 - 创建时间窗口完成
2025-03-21 11:47:31,250 - 获取模型参数完成
2025-03-21 11:47:59,182 - 未有可用模型，等待模型训练完成...
2025-03-21 11:48:29,189 - 未有可用模型，等待模型训练完成...
2025-03-21 11:48:59,202 - 未有可用模型，等待模型训练完成...
2025-03-21 11:49:29,207 - 未有可用模型，等待模型训练完成...
2025-03-21 11:49:59,212 - 未有可用模型，等待模型训练完成...
2025-03-21 11:50:05,127 - 训练与评估完成
2025-03-21 11:50:05,146 - 保存预测结果完成
2025-03-21 11:50:05,359 - 可视化结果完成
2025-03-21 11:50:05,658 - 模型已成功保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321，模型可用。
2025-03-21 11:50:29,223 - 未找到预测 CSV 文件，等待 30 秒后重试...
2025-03-21 11:50:59,236 - 未找到预测 CSV 文件，等待 30 秒后重试...
2025-03-21 11:51:29,248 - 未找到预测 CSV 文件，等待 30 秒后重试...
2025-03-21 11:51:59,257 - 未找到预测 CSV 文件，等待 30 秒后重试...
2025-03-21 11:52:29,262 - 未找到预测 CSV 文件，等待 30 秒后重试...
2025-03-21 11:52:59,269 - 未找到预测 CSV 文件，等待 30 秒后重试...
2025-03-21 11:53:29,272 - 发现新的预测文件：D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv\20250321.csv，执行预测...
2025-03-21 12:00:57,905 - 今天的日期是: 20250321
2025-03-21 12:00:57,905 - 开始监视 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short 文件夹以进行训练...
2025-03-21 12:00:57,905 - 开始监视 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv 文件夹以进行预测...
2025-03-21 12:00:57,906 - 发现新的训练文件：D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short\20250321.csv，执行训练...
2025-03-21 12:00:57,906 - 未有可用模型，等待模型训练完成...
2025-03-21 12:00:57,906 - 输出结果将保存到: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\train_predictions\short_predictions
2025-03-21 12:00:57,906 - 开始加载和预处理数据...
2025-03-21 12:00:58,644 - 数据加载完成，共 38172 条记录
2025-03-21 12:00:58,644 - 将使用以下时间段训练模型: [1, 3, 6, 9, 12, None]
2025-03-21 12:00:58,645 - 使用1个月的数据进行训练...
2025-03-21 12:01:15,152 - 多数据集训练失败: 实际值、预测值和时间戳长度必须相同
2025-03-21 12:01:15,152 - 回退到传统的单一模型训练方法
2025-03-21 12:01:15,427 - 数据加载与预处理完成
2025-03-21 12:01:15,724 - 数据标准化完成
2025-03-21 12:01:16,369 - 创建时间窗口完成
2025-03-21 12:01:16,369 - 获取模型参数完成
2025-03-21 12:01:27,920 - 未有可用模型，等待模型训练完成...
2025-03-21 12:01:57,923 - 未有可用模型，等待模型训练完成...
2025-03-21 12:02:27,937 - 未有可用模型，等待模型训练完成...
2025-03-21 12:02:57,952 - 未有可用模型，等待模型训练完成...
2025-03-21 12:03:27,953 - 未有可用模型，等待模型训练完成...
2025-03-21 12:03:57,570 - 训练与评估完成
2025-03-21 12:03:57,586 - 保存预测结果完成
2025-03-21 12:03:57,781 - 可视化结果完成
2025-03-21 12:03:57,966 - 发现新的预测文件：D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv\20250321.csv，执行预测...
2025-03-21 12:03:57,970 - 模型已成功保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321，模型可用。
2025-03-21 12:03:58,076 - 今天的训练和预测任务已完成。
2025-03-21 12:29:51,653 - 
================================================================================
2025-03-21 12:29:51,654 - >>> 自动训练预测系统启动 <<<
2025-03-21 12:29:51,654 - ================================================================================

2025-03-21 12:29:51,654 - 自动训练预测系统启动
2025-03-21 12:29:51,654 - 今天的日期是: 20250321
2025-03-21 12:29:51,654 - 创建监视线程...
2025-03-21 12:29:51,654 - 启动训练线程...
2025-03-21 12:29:51,654 - 
================================================================================
2025-03-21 12:29:51,655 - >>> 启动训练监视线程 <<<
2025-03-21 12:29:51,655 - ================================================================================

2025-03-21 12:29:51,655 - 启动预测线程...
2025-03-21 12:29:51,655 - 启动训练监视线程
2025-03-21 12:29:51,655 - 
================================================================================
2025-03-21 12:29:51,655 - >>> 启动预测监视线程 <<<
2025-03-21 12:29:51,655 - ================================================================================

2025-03-21 12:29:51,655 - 等待线程完成...
2025-03-21 12:29:51,655 - 启动预测监视线程
2025-03-21 12:29:51,655 - 训练文件路径: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short\20250321.csv
2025-03-21 12:29:51,655 - 模型存储目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 12:29:51,655 - 训练完成标志文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\20250321_train_done.flag
2025-03-21 12:29:51,655 - 预测数据文件路径: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv\20250321.csv
2025-03-21 12:29:51,656 - 开始监视 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short 文件夹以进行训练...
2025-03-21 12:29:51,656 - 模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 12:29:51,656 - 预测完成标志文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\results\shortresult\20250321\20250321_predict_done.flag
2025-03-21 12:29:51,656 - 开始监视 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv 文件夹以进行预测...
2025-03-21 12:29:51,656 - ✅ 发现新的训练文件：D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short\20250321.csv，执行训练...
2025-03-21 12:29:51,656 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 12:29:51,656 - 未找到best_models目录，检查传统模型文件
2025-03-21 12:29:51,656 - 
================================================================================
2025-03-21 12:29:51,656 - >>> 开始模型训练 <<<
2025-03-21 12:29:51,656 - 未找到任何可用模型文件
2025-03-21 12:29:51,656 - ================================================================================

2025-03-21 12:29:51,657 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 12:29:51,657 - 配置信息:
2025-03-21 12:29:51,657 -   - 窗口大小: 16
2025-03-21 12:29:51,657 -   - 滞后特征数: 4
2025-03-21 12:29:51,657 -   - 训练集比例: 0.9
2025-03-21 12:29:51,657 -   - 输出目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\train_predictions\short_predictions
2025-03-21 12:29:51,657 -   - 模型存储路径: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 12:29:51,657 - 输出结果将保存到: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\train_predictions\short_predictions
2025-03-21 12:29:51,657 - 
================================================================================
2025-03-21 12:29:51,657 - >>> 数据加载与预处理 <<<
2025-03-21 12:29:51,657 - ================================================================================

2025-03-21 12:29:51,657 - 加载数据文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short\20250321.csv
2025-03-21 12:29:51,657 - 开始加载和预处理数据...
2025-03-21 12:29:52,383 - 数据加载完成，共 38172 条记录
2025-03-21 12:29:52,403 - 数据前5行预览: 
       Timestamp    129.128_1    129.128_2  ...  ws200_15  wp_true    ws_all
0  2023/3/2 0:00  15950.07031  16250.82031  ...  8.808324    26.02  4.092251
1  2023/3/2 0:15  15950.07031  16250.82031  ...  8.549524    19.92  3.833974
2  2023/3/2 0:30  15950.07031  16250.82031  ...  8.295010    14.90  3.591723
3  2023/3/2 0:45  15950.07031  16250.82031  ...  8.045185     8.43  3.206756
4  2023/3/2 1:00  15950.07031  16250.82031  ...  7.800503     5.47  2.986988

[5 rows x 303 columns]
2025-03-21 12:29:52,403 - 将使用以下时间段训练模型: [1, 3, 6, 9, 12, None]
2025-03-21 12:29:52,403 - 
================================================================================
2025-03-21 12:29:52,403 - >>> 开始多数据集训练 <<<
2025-03-21 12:29:52,403 - ================================================================================

2025-03-21 12:29:52,403 - 将使用多种时间跨度的数据训练模型...
2025-03-21 12:29:52,403 - 
--------------------------------------------------
【使用多个数据集训练模型】
--------------------------------------------------
2025-03-21 12:29:52,404 - 最佳模型将保存到: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 12:29:52,404 - 获取统一参数成功，包含 3 种模型类型
2025-03-21 12:29:52,404 - 
--------------------------------------------------
【训练数据集: 1个月】
--------------------------------------------------
2025-03-21 12:29:52,404 - 使用1个月的数据进行训练...
2025-03-21 12:29:52,405 - 过滤数据为最近1个月...
2025-03-21 12:29:52,420 - 过滤后的数据量: 2977
2025-03-21 12:29:52,421 - 对1个月数据进行预处理...
2025-03-21 12:29:52,425 - 预处理后的特征维度: (2977, 304), 目标变量维度: (2977,)
2025-03-21 12:29:52,425 - 数据集划分完成，训练集: (2679, 304), 验证集: (298, 304)
2025-03-21 12:29:52,425 - 提取了 298 个验证集时间戳，用于时间加权评估
2025-03-21 12:29:52,425 - 执行特征工程，滞后特征数: 4...
2025-03-21 12:29:52,471 - 特征工程后的特征维度 - 训练集: (2676, 859), 验证集: (295, 859)
2025-03-21 12:29:52,471 - 数据标准化...
2025-03-21 12:29:52,500 - 数据标准化完成
2025-03-21 12:29:52,500 - 创建时间窗口，窗口大小: 16...
2025-03-21 12:29:52,553 - 时间窗口创建完成 - 训练集: (2661, 16, 859), 验证集: (280, 16, 859)
2025-03-21 12:29:52,554 - 为1个月数据创建模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\1months
2025-03-21 12:29:52,554 - 开始训练1个月数据的模型...
2025-03-21 12:29:52,554 - 
--------------------------------------------------
【开始模型训练与评估】
--------------------------------------------------
2025-03-21 12:29:52,554 - 模型和 scaler 将被保存到目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\1months
2025-03-21 12:29:52,555 - 
--------------------------------------------------
【训练 GBDT 模型】
--------------------------------------------------
2025-03-21 12:29:52,555 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'gbdt', 'name': 'GBDT'}
2025-03-21 12:29:52,555 - 开始训练 GBDT 模型...
2025-03-21 12:30:08,922 - GBDT 模型训练完成
2025-03-21 12:30:08,923 - 使用 GBDT 模型预测验证集...
2025-03-21 12:30:08,929 - 使用时间加权方式计算模型评分...
2025-03-21 12:30:08,929 - 
================================================================================
2025-03-21 12:30:08,929 - >>> 多数据集训练失败 <<<
2025-03-21 12:30:08,929 - ================================================================================

2025-03-21 12:30:08,929 - 多数据集训练失败
2025-03-21 12:30:08,929 - ❌ 错误信息: 实际值、预测值和时间戳长度必须相同
2025-03-21 12:30:08,930 - 回退到传统的单一模型训练方法...
2025-03-21 12:30:08,930 - 
================================================================================
2025-03-21 12:30:08,930 - >>> 开始传统单一模型训练 <<<
2025-03-21 12:30:08,930 - ================================================================================

2025-03-21 12:30:08,930 - 开始传统单一模型训练
2025-03-21 12:30:08,930 - 使用全部数据进行预处理...
2025-03-21 12:30:08,955 - 数据集划分完成，训练集: (34354, 304), 验证集: (3818, 304)
2025-03-21 12:30:08,955 - 执行特征工程...
2025-03-21 12:30:09,178 - 特征工程后的数据集大小 - 训练: (34351, 859), 验证: (3815, 859)
2025-03-21 12:30:09,178 - 执行数据标准化...
2025-03-21 12:30:09,470 - 数据标准化完成
2025-03-21 12:30:09,470 - 创建时间窗口，窗口大小: 16...
2025-03-21 12:30:10,074 - 时间窗口创建完成，窗口数量 - 训练: 34336, 验证: 3800
2025-03-21 12:30:10,075 - 获取模型参数...
2025-03-21 12:30:10,075 - 模型参数获取完成，共 3 种参数配置
2025-03-21 12:30:10,075 - 
================================================================================
2025-03-21 12:30:10,075 - >>> 开始模型训练与评估 <<<
2025-03-21 12:30:10,075 - ================================================================================

2025-03-21 12:30:10,075 - 开始模型训练与评估
2025-03-21 12:30:10,075 - 训练3种不同的LightGBM模型: GBDT, DART, GOSS
2025-03-21 12:30:10,075 - 
--------------------------------------------------
【开始模型训练与评估】
--------------------------------------------------
2025-03-21 12:30:10,075 - 模型和 scaler 将被保存到目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 12:30:10,075 - 
--------------------------------------------------
【训练 GBDT 模型】
--------------------------------------------------
2025-03-21 12:30:10,075 - 模型参数: {'boosting_type': 'gbdt', 'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'name': 'GBDT'}
2025-03-21 12:30:10,075 - 开始训练 GBDT 模型...
2025-03-21 12:30:21,660 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 12:30:21,661 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 12:30:21,661 - 未找到GBDT模型文件
2025-03-21 12:30:21,661 - 未找到DART模型文件
2025-03-21 12:30:21,662 - 未找到GOSS模型文件
2025-03-21 12:30:21,662 - 未找到任何可用模型文件
2025-03-21 12:30:21,662 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 12:30:51,670 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 12:30:51,670 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 12:30:51,670 - 未找到GBDT模型文件
2025-03-21 12:30:51,670 - 未找到DART模型文件
2025-03-21 12:30:51,671 - 未找到GOSS模型文件
2025-03-21 12:30:51,671 - 未找到任何可用模型文件
2025-03-21 12:30:51,671 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 12:30:58,458 - GBDT 模型训练完成
2025-03-21 12:30:58,458 - 使用 GBDT 模型预测验证集...
2025-03-21 12:30:58,548 - 使用简单加权方式计算模型评分...
2025-03-21 12:30:58,548 - GBDT 评估结果 - RMSE: 46.2606, K: 0.6942, 加权评分: 0.7961
2025-03-21 12:30:58,548 - ✅ GBDT 成为当前最佳模型 (基于加权评分)
2025-03-21 12:30:58,561 - GBDT 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\GBDT.joblib
2025-03-21 12:30:58,562 - 
--------------------------------------------------
【训练 DART 模型】
--------------------------------------------------
2025-03-21 12:30:58,562 - 模型参数: {'boosting_type': 'dart', 'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'drop_rate': 0.1, 'name': 'DART'}
2025-03-21 12:30:58,562 - 开始训练 DART 模型...
2025-03-21 12:31:21,678 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 12:31:21,678 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 12:31:21,679 - 未找到GBDT模型文件
2025-03-21 12:31:21,679 - 未找到DART模型文件
2025-03-21 12:31:21,679 - 未找到GOSS模型文件
2025-03-21 12:31:21,680 - 未找到任何可用模型文件
2025-03-21 12:31:21,680 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 12:31:51,684 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 12:31:51,684 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 12:31:51,685 - 未找到GBDT模型文件
2025-03-21 12:31:51,685 - 未找到DART模型文件
2025-03-21 12:31:51,685 - 未找到GOSS模型文件
2025-03-21 12:31:51,685 - 未找到任何可用模型文件
2025-03-21 12:31:51,685 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 12:31:54,641 - DART 模型训练完成
2025-03-21 12:31:54,641 - 使用 DART 模型预测验证集...
2025-03-21 12:31:54,826 - 使用简单加权方式计算模型评分...
2025-03-21 12:31:54,826 - DART 评估结果 - RMSE: 59.3663, K: 0.7118, 加权评分: 0.7904
2025-03-21 12:31:54,838 - DART 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\DART.joblib
2025-03-21 12:31:54,839 - 
--------------------------------------------------
【训练 GOSS 模型】
--------------------------------------------------
2025-03-21 12:31:54,839 - 模型参数: {'boosting_type': 'goss', 'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'top_rate': 0.2, 'other_rate': 0.1, 'name': 'GOSS'}
2025-03-21 12:31:54,839 - 开始训练 GOSS 模型...
2025-03-21 12:32:21,700 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 12:32:21,700 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 12:32:21,700 - 未找到GBDT模型文件
2025-03-21 12:32:21,700 - 未找到DART模型文件
2025-03-21 12:32:21,701 - 未找到GOSS模型文件
2025-03-21 12:32:21,701 - 未找到任何可用模型文件
2025-03-21 12:32:21,701 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 12:32:50,099 - GOSS 模型训练完成
2025-03-21 12:32:50,099 - 使用 GOSS 模型预测验证集...
2025-03-21 12:32:50,347 - 使用简单加权方式计算模型评分...
2025-03-21 12:32:50,348 - GOSS 评估结果 - RMSE: 46.2717, K: 0.6971, 加权评分: 0.7975
2025-03-21 12:32:50,348 - ✅ GOSS 成为当前最佳模型 (基于加权评分)
2025-03-21 12:32:50,368 - GOSS 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\GOSS.joblib
2025-03-21 12:32:50,369 - Scaler 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\scaler.joblib
2025-03-21 12:32:50,380 - 最佳模型 'GOSS' 已额外保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\model.joblib
2025-03-21 12:32:50,380 - 模型训练与评估完成!
2025-03-21 12:32:50,380 -   - GBDT: RMSE=46.2606, K=0.6942
2025-03-21 12:32:50,380 -   - DART: RMSE=59.3663, K=0.7118
2025-03-21 12:32:50,380 -   - GOSS: RMSE=46.2717, K=0.6971
2025-03-21 12:32:50,380 - 保存预测结果到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\train_predictions\short_predictions...
2025-03-21 12:32:50,380 - 
--------------------------------------------------
【保存预测结果】
--------------------------------------------------
2025-03-21 12:32:50,380 - 预测结果将保存到目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\train_predictions\short_predictions\20250321
2025-03-21 12:32:50,386 - 预测结果已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\train_predictions\short_predictions\20250321\GBDT_predicted_vs_actual_power.csv
2025-03-21 12:32:50,390 - 预测结果已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\train_predictions\short_predictions\20250321\DART_predicted_vs_actual_power.csv
2025-03-21 12:32:50,394 - 预测结果已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\train_predictions\short_predictions\20250321\GOSS_predicted_vs_actual_power.csv
2025-03-21 12:32:50,394 - 预测结果保存完成
2025-03-21 12:32:50,395 - 创建可视化结果...
2025-03-21 12:32:50,601 - 可视化结果创建完成
2025-03-21 12:32:50,823 - ✅ 训练完成，已创建标志文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\20250321_train_done.flag
2025-03-21 12:32:50,823 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 12:32:50,823 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 12:32:50,823 - 未找到GBDT模型文件
2025-03-21 12:32:50,823 - 未找到DART模型文件
2025-03-21 12:32:50,823 - 未找到GOSS模型文件
2025-03-21 12:32:50,824 - 发现传统模型文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\model.joblib
2025-03-21 12:32:50,824 - ✅ 模型已成功保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321，模型可用。
2025-03-21 12:32:51,703 - ✅ 发现新的预测文件：D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv\20250321.csv，执行预测...
2025-03-21 12:32:51,704 - 
============================================================
【风电功率预测开始】
============================================================
2025-03-21 12:32:51,704 - 配置信息:
2025-03-21 12:32:51,704 -   - 数据文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv\20250321.csv
2025-03-21 12:32:51,704 -   - 模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 12:32:51,704 -   - 窗口大小: 16
2025-03-21 12:32:51,704 -   - 滞后特征数: 4
2025-03-21 12:32:51,705 - 
============================================================
【预处理新数据】
============================================================
2025-03-21 12:32:51,705 - 加载数据文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv\20250321.csv
2025-03-21 12:32:51,736 - 数据加载完成，去除缺失值后共 999 条记录
2025-03-21 12:32:51,784 - 数据前5行预览:
       Timestamp    129.128_1    129.128_2  ...  ws200_13  ws200_14  ws200_15
0  2023/3/2 0:00  14949.40234  14798.71484  ...  4.791524  5.417394  8.808324
1  2023/3/2 0:15  14949.40234  14798.71484  ...  4.572055  5.141109  8.549524
2  2023/3/2 0:30  14949.40234  14798.71484  ...  4.359378  4.866984  8.295010
3  2023/3/2 0:45  14949.40234  14798.71484  ...  4.154538  4.595407  8.045185
4  2023/3/2 1:00  14949.40234  14798.71484  ...  3.958750  4.326855  7.800503

[5 rows x 188 columns]
2025-03-21 12:32:51,784 - 预处理数据...
2025-03-21 12:32:51,786 - 预处理完成，特征维度: (999, 191)
2025-03-21 12:32:51,786 - 执行特征工程，滞后特征数: 4...
2025-03-21 12:32:51,826 - 特征工程完成，特征维度: (996, 746)
2025-03-21 12:32:51,826 - 新数据预处理完成，共 996 个样本
2025-03-21 12:32:51,826 - ✅ 发现最佳模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models，尝试使用多模型加权预测
2025-03-21 12:32:51,826 - 
============================================================
【加载多个模型】
============================================================
2025-03-21 12:32:51,826 - 从目录加载模型和 scaler: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 12:32:51,828 - ❌ 未找到 GBDT 模型或 scaler 文件: GBDT.joblib, GBDT_scaler.joblib
2025-03-21 12:32:51,828 - ❌ 未找到 DART 模型或 scaler 文件: DART.joblib, DART_scaler.joblib
2025-03-21 12:32:51,828 - ❌ 未找到 GOSS 模型或 scaler 文件: GOSS.joblib, GOSS_scaler.joblib
2025-03-21 12:32:51,828 - 加载完成，共加载了 0 个模型: 
2025-03-21 12:32:51,828 - ❌ 未找到可用的模型，将回退到单一模型预测
2025-03-21 12:32:51,828 - 
============================================================
【多模型预测失败】
============================================================
2025-03-21 12:32:51,828 - 多模型预测失败
2025-03-21 12:32:51,828 - ❌ 错误信息: 没有找到可用的模型
2025-03-21 12:32:51,828 - 回退到单一模型预测...
2025-03-21 12:32:51,828 - 
============================================================
【加载模型和标准化器】
============================================================
2025-03-21 12:32:51,828 - 加载 scaler: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\scaler.joblib
2025-03-21 12:32:51,828 - ✅ 已成功加载 scaler
2025-03-21 12:32:51,829 - 加载模型: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\model.joblib
2025-03-21 12:32:51,836 - ✅ 已成功加载模型
2025-03-21 12:32:51,836 - 
============================================================
【使用单一模型进行预测】
============================================================
2025-03-21 12:32:51,837 - 标准化数据...
2025-03-21 12:32:51,842 - 
================================================================================
2025-03-21 12:32:51,842 - >>> 系统任务完成 <<<
2025-03-21 12:32:51,842 - ================================================================================

2025-03-21 12:32:51,842 - 系统任务完成
2025-03-21 12:32:51,842 - 今天的训练和预测任务已完成。
2025-03-21 12:46:37,361 - 
================================================================================
2025-03-21 12:46:37,361 - >>> 自动训练预测系统启动 <<<
2025-03-21 12:46:37,361 - ================================================================================

2025-03-21 12:46:37,361 - 自动训练预测系统启动
2025-03-21 12:46:37,361 - 今天的日期是: 20250321
2025-03-21 12:46:37,361 - 创建监视线程...
2025-03-21 12:46:37,361 - 启动训练线程...
2025-03-21 12:46:37,362 - 启动预测线程...
2025-03-21 12:46:37,362 - 
================================================================================
2025-03-21 12:46:37,362 - >>> 启动训练监视线程 <<<
2025-03-21 12:46:37,362 - 等待线程完成...
2025-03-21 12:46:37,362 - ================================================================================

2025-03-21 12:46:37,362 - 
================================================================================
2025-03-21 12:46:37,362 - 启动训练监视线程
2025-03-21 12:46:37,362 - >>> 启动预测监视线程 <<<
2025-03-21 12:46:37,362 - ================================================================================

2025-03-21 12:46:37,363 - 训练文件路径: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short\20250321.csv
2025-03-21 12:46:37,363 - 启动预测监视线程
2025-03-21 12:46:37,363 - 模型存储目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 12:46:37,363 - 训练完成标志文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\20250321_train_done.flag
2025-03-21 12:46:37,363 - 开始监视 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short 文件夹以进行训练...
2025-03-21 12:46:37,363 - 预测数据文件路径: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv\20250321.csv
2025-03-21 12:46:37,363 - 模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 12:46:37,363 - 预测完成标志文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\results\shortresult\20250321\20250321_predict_done.flag
2025-03-21 12:46:37,363 - 开始监视 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv 文件夹以进行预测...
2025-03-21 12:46:37,363 - ✅ 发现新的训练文件：D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short\20250321.csv，执行训练...
2025-03-21 12:46:37,363 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 12:46:37,364 - 
================================================================================
2025-03-21 12:46:37,364 - 未找到best_models目录，检查传统模型文件
2025-03-21 12:46:37,364 - >>> 开始模型训练 <<<
2025-03-21 12:46:37,364 - ================================================================================

2025-03-21 12:46:37,364 - 未找到任何可用模型文件
2025-03-21 12:46:37,364 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 12:46:37,364 - 配置信息:
2025-03-21 12:46:37,364 -   - 窗口大小: 16
2025-03-21 12:46:37,364 -   - 滞后特征数: 4
2025-03-21 12:46:37,364 -   - 训练集比例: 0.9
2025-03-21 12:46:37,364 -   - 输出目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\train_predictions\short_predictions
2025-03-21 12:46:37,364 -   - 模型存储路径: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 12:46:37,364 - 输出结果将保存到: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\train_predictions\short_predictions
2025-03-21 12:46:37,365 - 
================================================================================
2025-03-21 12:46:37,365 - >>> 数据加载与预处理 <<<
2025-03-21 12:46:37,365 - ================================================================================

2025-03-21 12:46:37,365 - 加载数据文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short\20250321.csv
2025-03-21 12:46:37,365 - 开始加载和预处理数据...
2025-03-21 12:46:38,120 - 数据加载完成，共 38172 条记录
2025-03-21 12:46:38,140 - 数据前5行预览: 
       Timestamp    129.128_1    129.128_2  ...  ws200_15  wp_true    ws_all
0  2023/3/2 0:00  15950.07031  16250.82031  ...  8.808324    26.02  4.092251
1  2023/3/2 0:15  15950.07031  16250.82031  ...  8.549524    19.92  3.833974
2  2023/3/2 0:30  15950.07031  16250.82031  ...  8.295010    14.90  3.591723
3  2023/3/2 0:45  15950.07031  16250.82031  ...  8.045185     8.43  3.206756
4  2023/3/2 1:00  15950.07031  16250.82031  ...  7.800503     5.47  2.986988

[5 rows x 303 columns]
2025-03-21 12:46:38,140 - 将使用以下时间段训练模型: [1, 3, 6, 9, 12, None]
2025-03-21 12:46:38,140 - 
================================================================================
2025-03-21 12:46:38,140 - >>> 开始多数据集训练 <<<
2025-03-21 12:46:38,140 - ================================================================================

2025-03-21 12:46:38,140 - 将使用多种时间跨度的数据训练模型...
2025-03-21 12:46:38,141 - 
--------------------------------------------------
【使用多个数据集训练模型】
--------------------------------------------------
2025-03-21 12:46:38,141 - 最佳模型将保存到: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 12:46:38,141 - 获取统一参数成功，包含 3 种模型类型
2025-03-21 12:46:38,141 - 
--------------------------------------------------
【训练数据集: 1个月】
--------------------------------------------------
2025-03-21 12:46:38,141 - 使用1个月的数据进行训练...
2025-03-21 12:46:38,141 - 过滤数据为最近1个月...
2025-03-21 12:46:38,158 - 过滤后的数据量: 2977
2025-03-21 12:46:38,158 - 对1个月数据进行预处理...
2025-03-21 12:46:38,163 - 预处理后的特征维度: (2977, 304), 目标变量维度: (2977,)
2025-03-21 12:46:38,163 - 数据集划分完成，训练集: (2679, 304), 验证集: (298, 304)
2025-03-21 12:46:38,163 - 提取了 298 个验证集时间戳，用于时间加权评估
2025-03-21 12:46:38,163 - 执行特征工程，滞后特征数: 4...
2025-03-21 12:46:38,209 - 特征工程后的特征维度 - 训练集: (2676, 859), 验证集: (295, 859)
2025-03-21 12:46:38,209 - 数据标准化...
2025-03-21 12:46:38,238 - 数据标准化完成
2025-03-21 12:46:38,238 - 创建时间窗口，窗口大小: 16...
2025-03-21 12:46:38,286 - 时间窗口创建完成 - 训练集: (2661, 16, 859), 验证集: (280, 16, 859)
2025-03-21 12:46:38,286 - 为1个月数据创建模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\1months
2025-03-21 12:46:38,286 - 开始训练1个月数据的模型...
2025-03-21 12:46:38,287 - 
--------------------------------------------------
【开始模型训练与评估】
--------------------------------------------------
2025-03-21 12:46:38,287 - 模型和 scaler 将被保存到目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\1months
2025-03-21 12:46:38,287 - 
--------------------------------------------------
【训练 GBDT 模型】
--------------------------------------------------
2025-03-21 12:46:38,287 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'gbdt', 'name': 'GBDT'}
2025-03-21 12:46:38,287 - 开始训练 GBDT 模型...
2025-03-21 12:46:54,755 - GBDT 模型训练完成
2025-03-21 12:46:54,756 - 使用 GBDT 模型预测验证集...
2025-03-21 12:46:54,762 - 使用时间加权方式计算模型评分...
2025-03-21 12:46:54,774 - 
================================================================================
2025-03-21 12:46:54,774 - >>> 多数据集训练失败 <<<
2025-03-21 12:46:54,774 - ================================================================================

2025-03-21 12:46:54,774 - 多数据集训练失败
2025-03-21 12:46:54,774 - ❌ 错误信息: 实际值、预测值和时间戳长度必须相同
2025-03-21 12:46:54,774 - 回退到传统的单一模型训练方法...
2025-03-21 12:46:54,774 - 
================================================================================
2025-03-21 12:46:54,774 - >>> 开始传统单一模型训练 <<<
2025-03-21 12:46:54,774 - ================================================================================

2025-03-21 12:46:54,774 - 开始传统单一模型训练
2025-03-21 12:46:54,774 - 使用全部数据进行预处理...
2025-03-21 12:46:54,806 - 数据集划分完成，训练集: (34354, 304), 验证集: (3818, 304)
2025-03-21 12:46:54,806 - 执行特征工程...
2025-03-21 12:46:55,059 - 特征工程后的数据集大小 - 训练: (34351, 859), 验证: (3815, 859)
2025-03-21 12:46:55,060 - 执行数据标准化...
2025-03-21 12:46:55,361 - 数据标准化完成
2025-03-21 12:46:55,361 - 创建时间窗口，窗口大小: 16...
2025-03-21 12:46:55,960 - 时间窗口创建完成，窗口数量 - 训练: 34336, 验证: 3800
2025-03-21 12:46:55,960 - 获取模型参数...
2025-03-21 12:46:55,960 - 模型参数获取完成，共 3 种参数配置
2025-03-21 12:46:55,960 - 
================================================================================
2025-03-21 12:46:55,960 - >>> 开始模型训练与评估 <<<
2025-03-21 12:46:55,960 - ================================================================================

2025-03-21 12:46:55,961 - 开始模型训练与评估
2025-03-21 12:46:55,961 - 训练3种不同的LightGBM模型: GBDT, DART, GOSS
2025-03-21 12:46:55,961 - 
--------------------------------------------------
【开始模型训练与评估】
--------------------------------------------------
2025-03-21 12:46:55,961 - 模型和 scaler 将被保存到目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 12:46:55,961 - 
--------------------------------------------------
【训练 GBDT 模型】
--------------------------------------------------
2025-03-21 12:46:55,961 - 模型参数: {'boosting_type': 'gbdt', 'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'name': 'GBDT'}
2025-03-21 12:46:55,961 - 开始训练 GBDT 模型...
2025-03-21 12:47:07,378 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 12:47:07,378 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 12:47:07,378 - 未找到GBDT模型文件
2025-03-21 12:47:07,378 - 未找到DART模型文件
2025-03-21 12:47:07,378 - 未找到GOSS模型文件
2025-03-21 12:47:07,378 - 未找到任何可用模型文件
2025-03-21 12:47:07,379 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 12:47:37,388 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 12:47:37,388 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 12:47:37,388 - 未找到GBDT模型文件
2025-03-21 12:47:37,388 - 未找到DART模型文件
2025-03-21 12:47:37,388 - 未找到GOSS模型文件
2025-03-21 12:47:37,389 - 未找到任何可用模型文件
2025-03-21 12:47:37,389 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 12:47:44,635 - GBDT 模型训练完成
2025-03-21 12:47:44,635 - 使用 GBDT 模型预测验证集...
2025-03-21 12:47:44,736 - 使用简单加权方式计算模型评分...
2025-03-21 12:47:44,736 - GBDT 评估结果 - RMSE: 46.2606, K: 0.6942, 加权评分: 0.7961
2025-03-21 12:47:44,736 - ✅ GBDT 成为当前最佳模型 (基于加权评分)
2025-03-21 12:47:44,748 - GBDT 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\GBDT.joblib
2025-03-21 12:47:44,749 - 
--------------------------------------------------
【训练 DART 模型】
--------------------------------------------------
2025-03-21 12:47:44,749 - 模型参数: {'boosting_type': 'dart', 'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'drop_rate': 0.1, 'name': 'DART'}
2025-03-21 12:47:44,749 - 开始训练 DART 模型...
2025-03-21 12:48:07,394 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 12:48:07,394 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 12:48:07,395 - 未找到GBDT模型文件
2025-03-21 12:48:07,395 - 未找到DART模型文件
2025-03-21 12:48:07,395 - 未找到GOSS模型文件
2025-03-21 12:48:07,395 - 未找到任何可用模型文件
2025-03-21 12:48:07,395 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 12:48:37,406 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 12:48:37,406 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 12:48:37,406 - 未找到GBDT模型文件
2025-03-21 12:48:37,407 - 未找到DART模型文件
2025-03-21 12:48:37,407 - 未找到GOSS模型文件
2025-03-21 12:48:37,407 - 未找到任何可用模型文件
2025-03-21 12:48:37,407 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 12:48:42,096 - DART 模型训练完成
2025-03-21 12:48:42,096 - 使用 DART 模型预测验证集...
2025-03-21 12:48:42,304 - 使用简单加权方式计算模型评分...
2025-03-21 12:48:42,304 - DART 评估结果 - RMSE: 59.3663, K: 0.7118, 加权评分: 0.7904
2025-03-21 12:48:42,315 - DART 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\DART.joblib
2025-03-21 12:48:42,315 - 
--------------------------------------------------
【训练 GOSS 模型】
--------------------------------------------------
2025-03-21 12:48:42,315 - 模型参数: {'boosting_type': 'goss', 'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'top_rate': 0.2, 'other_rate': 0.1, 'name': 'GOSS'}
2025-03-21 12:48:42,315 - 开始训练 GOSS 模型...
2025-03-21 12:49:07,414 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 12:49:07,414 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 12:49:07,414 - 未找到GBDT模型文件
2025-03-21 12:49:07,414 - 未找到DART模型文件
2025-03-21 12:49:07,414 - 未找到GOSS模型文件
2025-03-21 12:49:07,414 - 未找到任何可用模型文件
2025-03-21 12:49:07,414 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 12:49:37,427 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 12:49:37,427 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 12:49:37,427 - 未找到GBDT模型文件
2025-03-21 12:49:37,428 - 未找到DART模型文件
2025-03-21 12:49:37,428 - 未找到GOSS模型文件
2025-03-21 12:49:37,428 - 未找到任何可用模型文件
2025-03-21 12:49:37,428 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 12:49:37,762 - GOSS 模型训练完成
2025-03-21 12:49:37,762 - 使用 GOSS 模型预测验证集...
2025-03-21 12:49:38,027 - 使用简单加权方式计算模型评分...
2025-03-21 12:49:38,027 - GOSS 评估结果 - RMSE: 46.2717, K: 0.6971, 加权评分: 0.7975
2025-03-21 12:49:38,027 - ✅ GOSS 成为当前最佳模型 (基于加权评分)
2025-03-21 12:49:38,047 - GOSS 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\GOSS.joblib
2025-03-21 12:49:38,048 - Scaler 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\scaler.joblib
2025-03-21 12:49:38,059 - 最佳模型 'GOSS' 已额外保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\model.joblib
2025-03-21 12:49:38,059 - 模型训练与评估完成!
2025-03-21 12:49:38,059 -   - GBDT: RMSE=46.2606, K=0.6942
2025-03-21 12:49:38,059 -   - DART: RMSE=59.3663, K=0.7118
2025-03-21 12:49:38,059 -   - GOSS: RMSE=46.2717, K=0.6971
2025-03-21 12:49:38,059 - 保存预测结果到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\train_predictions\short_predictions...
2025-03-21 12:49:38,059 - 
--------------------------------------------------
【保存预测结果】
--------------------------------------------------
2025-03-21 12:49:38,060 - 预测结果将保存到目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\train_predictions\short_predictions\20250321
2025-03-21 12:49:38,069 - 预测结果已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\train_predictions\short_predictions\20250321\GBDT_predicted_vs_actual_power.csv
2025-03-21 12:49:38,075 - 预测结果已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\train_predictions\short_predictions\20250321\DART_predicted_vs_actual_power.csv
2025-03-21 12:49:38,083 - 预测结果已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\train_predictions\short_predictions\20250321\GOSS_predicted_vs_actual_power.csv
2025-03-21 12:49:38,083 - 预测结果保存完成
2025-03-21 12:49:38,083 - 创建可视化结果...
2025-03-21 12:49:38,291 - 可视化结果创建完成
2025-03-21 12:49:38,536 - ✅ 训练完成，已创建标志文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\20250321_train_done.flag
2025-03-21 12:49:38,536 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 12:49:38,536 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 12:49:38,536 - 未找到GBDT模型文件
2025-03-21 12:49:38,536 - 未找到DART模型文件
2025-03-21 12:49:38,537 - 未找到GOSS模型文件
2025-03-21 12:49:38,537 - 发现传统模型文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\model.joblib
2025-03-21 12:49:38,537 - ✅ 模型已成功保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321，模型可用。
2025-03-21 12:50:07,431 - ✅ 发现新的预测文件：D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv\20250321.csv，执行预测...
2025-03-21 12:50:07,432 - 
============================================================
【风电功率预测开始】
============================================================
2025-03-21 12:50:07,432 - 配置信息:
2025-03-21 12:50:07,433 -   - 数据文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv\20250321.csv
2025-03-21 12:50:07,433 -   - 模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 12:50:07,433 -   - 窗口大小: 16
2025-03-21 12:50:07,434 -   - 滞后特征数: 4
2025-03-21 12:50:07,434 - 
============================================================
【预处理新数据】
============================================================
2025-03-21 12:50:07,434 - 加载数据文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv\20250321.csv
2025-03-21 12:50:07,450 - 数据加载完成，去除缺失值后共 109 条记录
2025-03-21 12:50:07,507 - 数据前5行预览:
         Timestamp    129.128_1    129.128_2  ...  ws200_13   ws200_14   ws200_15
0  2024/4/16 20:00  15974.26563  16293.82813  ...  9.541195  10.863499  12.404554
1  2024/4/16 20:15  15974.26563  16293.82813  ...  9.280917  10.585079  12.259521
2  2024/4/16 20:30  15974.26563  16293.82813  ...  9.020693  10.307371  12.115601
3  2024/4/16 20:45  15974.26563  16293.82813  ...  8.760527  10.030434  11.972834
4  2024/4/16 21:00  15974.26563  16293.82813  ...  8.500424   9.754334  11.831263

[5 rows x 301 columns]
2025-03-21 12:50:07,508 - 预处理数据...
2025-03-21 12:50:07,509 - 预处理完成，特征维度: (109, 304)
2025-03-21 12:50:07,509 - 执行特征工程，滞后特征数: 4...
2025-03-21 12:50:07,540 - 特征工程完成，特征维度: (106, 859)
2025-03-21 12:50:07,540 - 新数据预处理完成，共 106 个样本
2025-03-21 12:50:07,541 - ✅ 发现最佳模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models，尝试使用多模型加权预测
2025-03-21 12:50:07,541 - 
============================================================
【加载多个模型】
============================================================
2025-03-21 12:50:07,541 - 从目录加载模型和 scaler: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 12:50:07,541 - ❌ 未找到 GBDT 模型或 scaler 文件: GBDT.joblib, GBDT_scaler.joblib
2025-03-21 12:50:07,541 - ❌ 未找到 DART 模型或 scaler 文件: DART.joblib, DART_scaler.joblib
2025-03-21 12:50:07,541 - ❌ 未找到 GOSS 模型或 scaler 文件: GOSS.joblib, GOSS_scaler.joblib
2025-03-21 12:50:07,541 - 加载完成，共加载了 0 个模型: 
2025-03-21 12:50:07,541 - ❌ 未找到可用的模型，将回退到单一模型预测
2025-03-21 12:50:07,541 - 
============================================================
【多模型预测失败】
============================================================
2025-03-21 12:50:07,541 - 多模型预测失败
2025-03-21 12:50:07,542 - ❌ 错误信息: 没有找到可用的模型
2025-03-21 12:50:07,542 - 回退到单一模型预测...
2025-03-21 12:50:07,542 - 
============================================================
【加载模型和标准化器】
============================================================
2025-03-21 12:50:07,542 - 加载 scaler: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\scaler.joblib
2025-03-21 12:50:07,542 - ✅ 已成功加载 scaler
2025-03-21 12:50:07,542 - 加载模型: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\model.joblib
2025-03-21 12:50:07,551 - ✅ 已成功加载模型
2025-03-21 12:50:07,551 - 
============================================================
【使用单一模型进行预测】
============================================================
2025-03-21 12:50:07,551 - 标准化数据...
2025-03-21 12:50:07,554 - 数据标准化完成，维度: (106, 859)
2025-03-21 12:50:07,554 - 创建时间窗口，窗口大小: 16...
2025-03-21 12:50:07,556 - 时间窗口创建完成，窗口数量: 91
2025-03-21 12:50:07,556 - 开始预测...
2025-03-21 12:50:07,565 - 预测完成，共生成 91 个预测值
2025-03-21 12:50:07,565 - 预测结果统计: 最小值=199.17, 最大值=285.92, 平均值=241.78
2025-03-21 12:50:07,566 - 
============================================================
【保存预测结果】
============================================================
2025-03-21 12:50:07,567 - 创建输出目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\results\shortresult\20250321
2025-03-21 12:50:07,567 - 预测结果数据框创建完成，共 91 行
2025-03-21 12:50:07,569 - ✅ 预测结果已保存到文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\results\shortresult\20250321\20250321.csv
2025-03-21 12:50:07,569 - 尝试将预测结果导入数据库...
2025-03-21 12:50:07,569 - 发送HTTP请求到: http://localhost:5000/prediction2database/batch_shortl_power
2025-03-21 12:50:11,622 - ❌ 调用数据库接口失败: HTTPConnectionPool(host='localhost', port=5000): Max retries exceeded with url: /prediction2database/batch_shortl_power (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x0000000000BA02B0>: Failed to establish a new connection: [WinError 10061] 由于目标计算机积极拒绝，无法连接。'))
2025-03-21 12:50:11,622 - ✅ 预测结果已保存到: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\results\shortresult\20250321\20250321.csv
2025-03-21 12:50:11,625 - ✅ 创建预测完成标志文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\results\shortresult\20250321\20250321_predict_done.flag
2025-03-21 12:50:11,626 - 
============================================================
【风电功率预测完成】
============================================================
2025-03-21 12:50:11,626 - 风电功率预测完成
2025-03-21 12:50:11,627 - ✅ 预测执行完成
2025-03-21 14:39:50,125 - 
================================================================================
2025-03-21 14:39:50,125 - >>> 自动训练预测系统启动 <<<
2025-03-21 14:39:50,125 - ================================================================================

2025-03-21 14:39:50,125 - 自动训练预测系统启动
2025-03-21 14:39:50,125 - 今天的日期是: 20250321
2025-03-21 14:39:50,125 - 创建监视线程...
2025-03-21 14:39:50,125 - 启动训练线程...
2025-03-21 14:39:50,126 - 启动预测线程...
2025-03-21 14:39:50,126 - 
================================================================================
2025-03-21 14:39:50,126 - >>> 启动训练监视线程 <<<
2025-03-21 14:39:50,126 - ================================================================================

2025-03-21 14:39:50,126 - 等待线程完成...
2025-03-21 14:39:50,126 - 启动训练监视线程
2025-03-21 14:39:50,126 - 
================================================================================
2025-03-21 14:39:50,127 - >>> 启动预测监视线程 <<<
2025-03-21 14:39:50,127 - ================================================================================

2025-03-21 14:39:50,127 - 训练文件路径: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short\20250321.csv
2025-03-21 14:39:50,127 - 启动预测监视线程
2025-03-21 14:39:50,127 - 模型存储目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 14:39:50,127 - 训练完成标志文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\20250321_train_done.flag
2025-03-21 14:39:50,127 - 开始监视 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short 文件夹以进行训练...
2025-03-21 14:39:50,127 - 预测数据文件路径: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv\20250321.csv
2025-03-21 14:39:50,127 - 模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 14:39:50,127 - 预测完成标志文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\results\shortresult\20250321\20250321_predict_done.flag
2025-03-21 14:39:50,128 - 开始监视 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv 文件夹以进行预测...
2025-03-21 14:39:50,128 - ✅ 发现新的训练文件：D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short\20250321.csv，执行训练...
2025-03-21 14:39:50,128 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 14:39:50,128 - 
================================================================================
2025-03-21 14:39:50,128 - >>> 开始模型训练 <<<
2025-03-21 14:39:50,128 - 未找到best_models目录，检查传统模型文件
2025-03-21 14:39:50,128 - ================================================================================

2025-03-21 14:39:50,128 - 配置信息:
2025-03-21 14:39:50,128 - 未找到任何可用模型文件
2025-03-21 14:39:50,128 -   - 窗口大小: 16
2025-03-21 14:39:50,129 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 14:39:50,129 -   - 滞后特征数: 4
2025-03-21 14:39:50,129 -   - 训练集比例: 0.9
2025-03-21 14:39:50,129 -   - 输出目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\train_predictions\short_predictions
2025-03-21 14:39:50,129 -   - 模型存储路径: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 14:39:50,129 - 输出结果将保存到: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\train_predictions\short_predictions
2025-03-21 14:39:50,129 - 
================================================================================
2025-03-21 14:39:50,129 - >>> 数据加载与预处理 <<<
2025-03-21 14:39:50,129 - ================================================================================

2025-03-21 14:39:50,129 - 加载数据文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short\20250321.csv
2025-03-21 14:39:50,129 - 开始加载和预处理数据...
2025-03-21 14:39:50,871 - 数据加载完成，共 38172 条记录
2025-03-21 14:39:50,892 - 数据前5行预览: 
       Timestamp    129.128_1    129.128_2  ...  ws200_15  wp_true    ws_all
0  2023/3/2 0:00  15950.07031  16250.82031  ...  8.808324    26.02  4.092251
1  2023/3/2 0:15  15950.07031  16250.82031  ...  8.549524    19.92  3.833974
2  2023/3/2 0:30  15950.07031  16250.82031  ...  8.295010    14.90  3.591723
3  2023/3/2 0:45  15950.07031  16250.82031  ...  8.045185     8.43  3.206756
4  2023/3/2 1:00  15950.07031  16250.82031  ...  7.800503     5.47  2.986988

[5 rows x 303 columns]
2025-03-21 14:39:50,892 - 将使用以下时间段训练模型: [1, 3, 6, 9, 12, None]
2025-03-21 14:39:50,892 - 
================================================================================
2025-03-21 14:39:50,892 - >>> 开始多数据集训练 <<<
2025-03-21 14:39:50,892 - ================================================================================

2025-03-21 14:39:50,892 - 将使用多种时间跨度的数据训练模型...
2025-03-21 14:39:50,892 - 
--------------------------------------------------
【使用多个数据集训练模型】
--------------------------------------------------
2025-03-21 14:39:50,893 - 最佳模型将保存到: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 14:39:50,893 - 获取统一参数成功，包含 3 种模型类型
2025-03-21 14:39:50,893 - 
--------------------------------------------------
【训练数据集: 1个月】
--------------------------------------------------
2025-03-21 14:39:50,893 - 使用1个月的数据进行训练...
2025-03-21 14:39:50,893 - 过滤数据为最近1个月...
2025-03-21 14:39:50,910 - 过滤后的数据量: 2977
2025-03-21 14:39:50,910 - 对1个月数据进行预处理...
2025-03-21 14:39:50,914 - 预处理后的特征维度: (2977, 304), 目标变量维度: (2977,)
2025-03-21 14:39:50,914 - 数据集划分完成，训练集: (2679, 304), 验证集: (298, 304)
2025-03-21 14:39:50,914 - 提取了 298 个验证集时间戳，用于时间加权评估
2025-03-21 14:39:50,914 - 执行特征工程，滞后特征数: 4...
2025-03-21 14:39:50,962 - 特征工程后的特征维度 - 训练集: (2676, 859), 验证集: (295, 859)
2025-03-21 14:39:50,962 - 数据标准化...
2025-03-21 14:39:50,994 - 数据标准化完成
2025-03-21 14:39:50,994 - 创建时间窗口，窗口大小: 16...
2025-03-21 14:39:51,041 - 时间窗口创建完成 - 训练集: (2661, 16, 859), 验证集: (280, 16, 859)
2025-03-21 14:39:51,041 - 调整时间戳长度以匹配窗口化后的验证集 - 原始长度: 298, 目标长度: 280
2025-03-21 14:39:51,041 - 时间戳已截断至匹配窗口化后的验证集长度: 280
2025-03-21 14:39:51,042 - 为1个月数据创建模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\1months
2025-03-21 14:39:51,042 - 开始训练1个月数据的模型...
2025-03-21 14:39:51,042 - 
--------------------------------------------------
【开始模型训练与评估】
--------------------------------------------------
2025-03-21 14:39:51,042 - 模型和 scaler 将被保存到目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\1months
2025-03-21 14:39:51,042 - 
--------------------------------------------------
【训练 GBDT 模型】
--------------------------------------------------
2025-03-21 14:39:51,042 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'gbdt', 'name': 'GBDT'}
2025-03-21 14:39:51,042 - 开始训练 GBDT 模型...
2025-03-21 14:40:07,502 - GBDT 模型训练完成
2025-03-21 14:40:07,502 - 使用 GBDT 模型预测验证集...
2025-03-21 14:40:07,509 - 使用时间加权方式计算模型评分...
2025-03-21 14:40:07,509 - ⚠️ 时间加权评分计算失败: 'numpy.timedelta64' object has no attribute 'total_seconds'，将使用简单加权评分
2025-03-21 14:40:07,509 - 使用简单加权方式计算模型评分...
2025-03-21 14:40:07,509 - GBDT 评估结果 - RMSE: 68.3078, K: 0.4502, 加权评分: 0.6498
2025-03-21 14:40:07,509 - ✅ GBDT 成为当前最佳模型 (基于加权评分)
2025-03-21 14:40:07,521 - GBDT 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\1months\GBDT.joblib
2025-03-21 14:40:07,521 - 
--------------------------------------------------
【训练 DART 模型】
--------------------------------------------------
2025-03-21 14:40:07,521 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'dart', 'drop_rate': 0.1, 'name': 'DART'}
2025-03-21 14:40:07,522 - 开始训练 DART 模型...
2025-03-21 14:40:20,134 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 14:40:20,134 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 14:40:20,135 - 未找到GBDT模型文件
2025-03-21 14:40:20,135 - 未找到DART模型文件
2025-03-21 14:40:20,135 - 未找到GOSS模型文件
2025-03-21 14:40:20,135 - 未找到任何可用模型文件
2025-03-21 14:40:20,135 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 14:40:24,176 - DART 模型训练完成
2025-03-21 14:40:24,176 - 使用 DART 模型预测验证集...
2025-03-21 14:40:24,183 - 使用时间加权方式计算模型评分...
2025-03-21 14:40:24,184 - ⚠️ 时间加权评分计算失败: 'numpy.timedelta64' object has no attribute 'total_seconds'，将使用简单加权评分
2025-03-21 14:40:24,184 - 使用简单加权方式计算模型评分...
2025-03-21 14:40:24,184 - DART 评估结果 - RMSE: 62.7504, K: 0.6220, 加权评分: 0.7418
2025-03-21 14:40:24,184 - ✅ DART 成为当前最佳模型 (基于加权评分)
2025-03-21 14:40:24,192 - DART 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\1months\DART.joblib
2025-03-21 14:40:24,192 - 
--------------------------------------------------
【训练 GOSS 模型】
--------------------------------------------------
2025-03-21 14:40:24,192 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'goss', 'top_rate': 0.2, 'other_rate': 0.1, 'name': 'GOSS'}
2025-03-21 14:40:24,193 - 开始训练 GOSS 模型...
2025-03-21 14:40:37,765 - GOSS 模型训练完成
2025-03-21 14:40:37,766 - 使用 GOSS 模型预测验证集...
2025-03-21 14:40:37,775 - 使用时间加权方式计算模型评分...
2025-03-21 14:40:37,776 - ⚠️ 时间加权评分计算失败: 'numpy.timedelta64' object has no attribute 'total_seconds'，将使用简单加权评分
2025-03-21 14:40:37,776 - 使用简单加权方式计算模型评分...
2025-03-21 14:40:37,777 - GOSS 评估结果 - RMSE: 68.2680, K: 0.4465, 加权评分: 0.6480
2025-03-21 14:40:37,790 - GOSS 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\1months\GOSS.joblib
2025-03-21 14:40:37,792 - Scaler 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\1months\scaler.joblib
2025-03-21 14:40:37,800 - 最佳模型 'DART' 已额外保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\1months\model.joblib
2025-03-21 14:40:37,800 - 1个月数据的模型训练完成
2025-03-21 14:40:37,800 - 
--------------------------------------------------
【更新每种算法的最佳模型】
--------------------------------------------------
2025-03-21 14:40:37,800 - ✅ 发现更好的GBDT模型 (来自1个月数据)
2025-03-21 14:40:37,801 -    新评分: 0.6498, 旧评分: -inf
2025-03-21 14:40:37,801 - ✅ 发现更好的DART模型 (来自1个月数据)
2025-03-21 14:40:37,801 -    新评分: 0.7418, 旧评分: -inf
2025-03-21 14:40:37,801 - ✅ 发现更好的GOSS模型 (来自1个月数据)
2025-03-21 14:40:37,801 -    新评分: 0.6480, 旧评分: -inf
2025-03-21 14:40:37,801 - 
--------------------------------------------------
【训练数据集: 3个月】
--------------------------------------------------
2025-03-21 14:40:37,801 - 使用3个月的数据进行训练...
2025-03-21 14:40:37,801 - 过滤数据为最近3个月...
2025-03-21 14:40:37,808 - 过滤后的数据量: 8737
2025-03-21 14:40:37,809 - 对3个月数据进行预处理...
2025-03-21 14:40:37,817 - 预处理后的特征维度: (8737, 304), 目标变量维度: (8737,)
2025-03-21 14:40:37,818 - 数据集划分完成，训练集: (7863, 304), 验证集: (874, 304)
2025-03-21 14:40:37,818 - 提取了 874 个验证集时间戳，用于时间加权评估
2025-03-21 14:40:37,818 - 执行特征工程，滞后特征数: 4...
2025-03-21 14:40:37,932 - 特征工程后的特征维度 - 训练集: (7860, 859), 验证集: (871, 859)
2025-03-21 14:40:37,932 - 数据标准化...
2025-03-21 14:40:38,011 - 数据标准化完成
2025-03-21 14:40:38,011 - 创建时间窗口，窗口大小: 16...
2025-03-21 14:40:38,166 - 时间窗口创建完成 - 训练集: (7845, 16, 859), 验证集: (856, 16, 859)
2025-03-21 14:40:38,166 - 调整时间戳长度以匹配窗口化后的验证集 - 原始长度: 874, 目标长度: 856
2025-03-21 14:40:38,166 - 时间戳已截断至匹配窗口化后的验证集长度: 856
2025-03-21 14:40:38,167 - 为3个月数据创建模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\3months
2025-03-21 14:40:38,167 - 开始训练3个月数据的模型...
2025-03-21 14:40:38,167 - 
--------------------------------------------------
【开始模型训练与评估】
--------------------------------------------------
2025-03-21 14:40:38,167 - 模型和 scaler 将被保存到目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\3months
2025-03-21 14:40:38,167 - 
--------------------------------------------------
【训练 GBDT 模型】
--------------------------------------------------
2025-03-21 14:40:38,167 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'gbdt', 'name': 'GBDT'}
2025-03-21 14:40:38,167 - 开始训练 GBDT 模型...
2025-03-21 14:40:50,155 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 14:40:50,156 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 14:40:50,156 - 未找到GBDT模型文件
2025-03-21 14:40:50,156 - 未找到DART模型文件
2025-03-21 14:40:50,156 - 未找到GOSS模型文件
2025-03-21 14:40:50,157 - 未找到任何可用模型文件
2025-03-21 14:40:50,157 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 14:41:18,246 - GBDT 模型训练完成
2025-03-21 14:41:18,246 - 使用 GBDT 模型预测验证集...
2025-03-21 14:41:18,265 - 使用时间加权方式计算模型评分...
2025-03-21 14:41:18,267 - ⚠️ 时间加权评分计算失败: 'numpy.timedelta64' object has no attribute 'total_seconds'，将使用简单加权评分
2025-03-21 14:41:18,267 - 使用简单加权方式计算模型评分...
2025-03-21 14:41:18,267 - GBDT 评估结果 - RMSE: 53.7633, K: 0.6220, 加权评分: 0.7517
2025-03-21 14:41:18,267 - ✅ GBDT 成为当前最佳模型 (基于加权评分)
2025-03-21 14:41:18,278 - GBDT 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\3months\GBDT.joblib
2025-03-21 14:41:18,279 - 
--------------------------------------------------
【训练 DART 模型】
--------------------------------------------------
2025-03-21 14:41:18,279 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'dart', 'drop_rate': 0.1, 'name': 'DART'}
2025-03-21 14:41:18,279 - 开始训练 DART 模型...
2025-03-21 14:41:20,158 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 14:41:20,158 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 14:41:20,158 - 未找到GBDT模型文件
2025-03-21 14:41:20,158 - 未找到DART模型文件
2025-03-21 14:41:20,158 - 未找到GOSS模型文件
2025-03-21 14:41:20,158 - 未找到任何可用模型文件
2025-03-21 14:41:20,158 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 14:41:41,771 - DART 模型训练完成
2025-03-21 14:41:41,771 - 使用 DART 模型预测验证集...
2025-03-21 14:41:41,792 - 使用时间加权方式计算模型评分...
2025-03-21 14:41:41,794 - ⚠️ 时间加权评分计算失败: 'numpy.timedelta64' object has no attribute 'total_seconds'，将使用简单加权评分
2025-03-21 14:41:41,795 - 使用简单加权方式计算模型评分...
2025-03-21 14:41:41,795 - DART 评估结果 - RMSE: 60.1716, K: 0.7051, 加权评分: 0.7862
2025-03-21 14:41:41,795 - ✅ DART 成为当前最佳模型 (基于加权评分)
2025-03-21 14:41:41,805 - DART 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\3months\DART.joblib
2025-03-21 14:41:41,805 - 
--------------------------------------------------
【训练 GOSS 模型】
--------------------------------------------------
2025-03-21 14:41:41,805 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'goss', 'top_rate': 0.2, 'other_rate': 0.1, 'name': 'GOSS'}
2025-03-21 14:41:41,805 - 开始训练 GOSS 模型...
2025-03-21 14:41:50,173 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 14:41:50,173 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 14:41:50,173 - 未找到GBDT模型文件
2025-03-21 14:41:50,173 - 未找到DART模型文件
2025-03-21 14:41:50,173 - 未找到GOSS模型文件
2025-03-21 14:41:50,173 - 未找到任何可用模型文件
2025-03-21 14:41:50,173 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 14:42:03,183 - GOSS 模型训练完成
2025-03-21 14:42:03,183 - 使用 GOSS 模型预测验证集...
2025-03-21 14:42:03,206 - 使用时间加权方式计算模型评分...
2025-03-21 14:42:03,208 - ⚠️ 时间加权评分计算失败: 'numpy.timedelta64' object has no attribute 'total_seconds'，将使用简单加权评分
2025-03-21 14:42:03,208 - 使用简单加权方式计算模型评分...
2025-03-21 14:42:03,208 - GOSS 评估结果 - RMSE: 53.4696, K: 0.6275, 加权评分: 0.7548
2025-03-21 14:42:03,225 - GOSS 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\3months\GOSS.joblib
2025-03-21 14:42:03,227 - Scaler 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\3months\scaler.joblib
2025-03-21 14:42:03,233 - 最佳模型 'DART' 已额外保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\3months\model.joblib
2025-03-21 14:42:03,233 - 3个月数据的模型训练完成
2025-03-21 14:42:03,233 - 
--------------------------------------------------
【更新每种算法的最佳模型】
--------------------------------------------------
2025-03-21 14:42:03,233 - ✅ 发现更好的GBDT模型 (来自3个月数据)
2025-03-21 14:42:03,233 -    新评分: 0.7517, 旧评分: 0.6498
2025-03-21 14:42:03,233 - ✅ 发现更好的DART模型 (来自3个月数据)
2025-03-21 14:42:03,233 -    新评分: 0.7862, 旧评分: 0.7418
2025-03-21 14:42:03,233 - ✅ 发现更好的GOSS模型 (来自3个月数据)
2025-03-21 14:42:03,233 -    新评分: 0.7548, 旧评分: 0.6480
2025-03-21 14:42:03,234 - 
--------------------------------------------------
【训练数据集: 6个月】
--------------------------------------------------
2025-03-21 14:42:03,234 - 使用6个月的数据进行训练...
2025-03-21 14:42:03,234 - 过滤数据为最近6个月...
2025-03-21 14:42:03,246 - 过滤后的数据量: 17327
2025-03-21 14:42:03,246 - 对6个月数据进行预处理...
2025-03-21 14:42:03,265 - 预处理后的特征维度: (17327, 304), 目标变量维度: (17327,)
2025-03-21 14:42:03,268 - 数据集划分完成，训练集: (15594, 304), 验证集: (1733, 304)
2025-03-21 14:42:03,268 - 提取了 1733 个验证集时间戳，用于时间加权评估
2025-03-21 14:42:03,268 - 执行特征工程，滞后特征数: 4...
2025-03-21 14:42:03,423 - 特征工程后的特征维度 - 训练集: (15591, 859), 验证集: (1730, 859)
2025-03-21 14:42:03,423 - 数据标准化...
2025-03-21 14:42:03,573 - 数据标准化完成
2025-03-21 14:42:03,573 - 创建时间窗口，窗口大小: 16...
2025-03-21 14:42:03,916 - 时间窗口创建完成 - 训练集: (15576, 16, 859), 验证集: (1715, 16, 859)
2025-03-21 14:42:03,916 - 调整时间戳长度以匹配窗口化后的验证集 - 原始长度: 1733, 目标长度: 1715
2025-03-21 14:42:03,916 - 时间戳已截断至匹配窗口化后的验证集长度: 1715
2025-03-21 14:42:03,916 - 为6个月数据创建模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\6months
2025-03-21 14:42:03,916 - 开始训练6个月数据的模型...
2025-03-21 14:42:03,916 - 
--------------------------------------------------
【开始模型训练与评估】
--------------------------------------------------
2025-03-21 14:42:03,917 - 模型和 scaler 将被保存到目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\6months
2025-03-21 14:42:03,917 - 
--------------------------------------------------
【训练 GBDT 模型】
--------------------------------------------------
2025-03-21 14:42:03,917 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'gbdt', 'name': 'GBDT'}
2025-03-21 14:42:03,917 - 开始训练 GBDT 模型...
2025-03-21 14:42:20,185 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 14:42:20,185 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 14:42:20,186 - 未找到GBDT模型文件
2025-03-21 14:42:20,186 - 未找到DART模型文件
2025-03-21 14:42:20,186 - 未找到GOSS模型文件
2025-03-21 14:42:20,186 - 未找到任何可用模型文件
2025-03-21 14:42:20,186 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 14:42:37,471 - GBDT 模型训练完成
2025-03-21 14:42:37,471 - 使用 GBDT 模型预测验证集...
2025-03-21 14:42:37,517 - 使用时间加权方式计算模型评分...
2025-03-21 14:42:37,519 - ⚠️ 时间加权评分计算失败: 'numpy.timedelta64' object has no attribute 'total_seconds'，将使用简单加权评分
2025-03-21 14:42:37,519 - 使用简单加权方式计算模型评分...
2025-03-21 14:42:37,519 - GBDT 评估结果 - RMSE: 50.8665, K: 0.6900, 加权评分: 0.7889
2025-03-21 14:42:37,519 - ✅ GBDT 成为当前最佳模型 (基于加权评分)
2025-03-21 14:42:37,527 - GBDT 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\6months\GBDT.joblib
2025-03-21 14:42:37,527 - 
--------------------------------------------------
【训练 DART 模型】
--------------------------------------------------
2025-03-21 14:42:37,528 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'dart', 'drop_rate': 0.1, 'name': 'DART'}
2025-03-21 14:42:37,528 - 开始训练 DART 模型...
2025-03-21 14:42:50,190 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 14:42:50,190 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 14:42:50,191 - 未找到GBDT模型文件
2025-03-21 14:42:50,191 - 未找到DART模型文件
2025-03-21 14:42:50,191 - 未找到GOSS模型文件
2025-03-21 14:42:50,191 - 未找到任何可用模型文件
2025-03-21 14:42:50,191 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 14:43:20,199 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 14:43:20,199 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 14:43:20,199 - 未找到GBDT模型文件
2025-03-21 14:43:20,200 - 未找到DART模型文件
2025-03-21 14:43:20,200 - 未找到GOSS模型文件
2025-03-21 14:43:20,200 - 未找到任何可用模型文件
2025-03-21 14:43:20,200 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 14:43:50,220 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 14:43:50,221 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 14:43:50,221 - 未找到GBDT模型文件
2025-03-21 14:43:50,221 - 未找到DART模型文件
2025-03-21 14:43:50,221 - 未找到GOSS模型文件
2025-03-21 14:43:50,222 - 未找到任何可用模型文件
2025-03-21 14:43:50,222 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 14:43:57,250 - DART 模型训练完成
2025-03-21 14:43:57,251 - 使用 DART 模型预测验证集...
2025-03-21 14:43:57,296 - 使用时间加权方式计算模型评分...
2025-03-21 14:43:57,299 - ⚠️ 时间加权评分计算失败: 'numpy.timedelta64' object has no attribute 'total_seconds'，将使用简单加权评分
2025-03-21 14:43:57,299 - 使用简单加权方式计算模型评分...
2025-03-21 14:43:57,299 - DART 评估结果 - RMSE: 68.5842, K: 0.6994, 加权评分: 0.7741
2025-03-21 14:43:57,307 - DART 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\6months\DART.joblib
2025-03-21 14:43:57,307 - 
--------------------------------------------------
【训练 GOSS 模型】
--------------------------------------------------
2025-03-21 14:43:57,307 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'goss', 'top_rate': 0.2, 'other_rate': 0.1, 'name': 'GOSS'}
2025-03-21 14:43:57,307 - 开始训练 GOSS 模型...
2025-03-21 14:44:20,275 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 14:44:20,275 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 14:44:20,276 - 未找到GBDT模型文件
2025-03-21 14:44:20,276 - 未找到DART模型文件
2025-03-21 14:44:20,276 - 未找到GOSS模型文件
2025-03-21 14:44:20,276 - 未找到任何可用模型文件
2025-03-21 14:44:20,277 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 14:44:50,286 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 14:44:50,287 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 14:44:50,287 - 未找到GBDT模型文件
2025-03-21 14:44:50,287 - 未找到DART模型文件
2025-03-21 14:44:50,288 - 未找到GOSS模型文件
2025-03-21 14:44:50,288 - 未找到任何可用模型文件
2025-03-21 14:44:50,288 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 14:45:15,659 - GOSS 模型训练完成
2025-03-21 14:45:15,659 - 使用 GOSS 模型预测验证集...
2025-03-21 14:45:15,731 - 使用时间加权方式计算模型评分...
2025-03-21 14:45:15,735 - ⚠️ 时间加权评分计算失败: 'numpy.timedelta64' object has no attribute 'total_seconds'，将使用简单加权评分
2025-03-21 14:45:15,735 - 使用简单加权方式计算模型评分...
2025-03-21 14:45:15,735 - GOSS 评估结果 - RMSE: 49.3663, K: 0.6978, 加权评分: 0.7945
2025-03-21 14:45:15,735 - ✅ GOSS 成为当前最佳模型 (基于加权评分)
2025-03-21 14:45:15,755 - GOSS 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\6months\GOSS.joblib
2025-03-21 14:45:15,757 - Scaler 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\6months\scaler.joblib
2025-03-21 14:45:15,787 - 最佳模型 'GOSS' 已额外保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\6months\model.joblib
2025-03-21 14:45:15,787 - 6个月数据的模型训练完成
2025-03-21 14:45:15,787 - 
--------------------------------------------------
【更新每种算法的最佳模型】
--------------------------------------------------
2025-03-21 14:45:15,787 - ✅ 发现更好的GBDT模型 (来自6个月数据)
2025-03-21 14:45:15,788 -    新评分: 0.7889, 旧评分: 0.7517
2025-03-21 14:45:15,788 - ❌ 6个月数据的DART模型不是最佳模型
2025-03-21 14:45:15,788 -    当前评分: 0.7741, 最佳评分: 0.7862
2025-03-21 14:45:15,788 - ✅ 发现更好的GOSS模型 (来自6个月数据)
2025-03-21 14:45:15,788 -    新评分: 0.7945, 旧评分: 0.7548
2025-03-21 14:45:15,788 - 
--------------------------------------------------
【训练数据集: 9个月】
--------------------------------------------------
2025-03-21 14:45:15,788 - 使用9个月的数据进行训练...
2025-03-21 14:45:15,788 - 过滤数据为最近9个月...
2025-03-21 14:45:15,808 - 过滤后的数据量: 24928
2025-03-21 14:45:15,808 - 对9个月数据进行预处理...
2025-03-21 14:45:15,835 - 预处理后的特征维度: (24928, 304), 目标变量维度: (24928,)
2025-03-21 14:45:15,838 - 数据集划分完成，训练集: (22435, 304), 验证集: (2493, 304)
2025-03-21 14:45:15,838 - 提取了 2493 个验证集时间戳，用于时间加权评估
2025-03-21 14:45:15,838 - 执行特征工程，滞后特征数: 4...
2025-03-21 14:45:16,154 - 特征工程后的特征维度 - 训练集: (22432, 859), 验证集: (2490, 859)
2025-03-21 14:45:16,154 - 数据标准化...
2025-03-21 14:45:16,578 - 数据标准化完成
2025-03-21 14:45:16,578 - 创建时间窗口，窗口大小: 16...
2025-03-21 14:45:17,405 - 时间窗口创建完成 - 训练集: (22417, 16, 859), 验证集: (2475, 16, 859)
2025-03-21 14:45:17,406 - 调整时间戳长度以匹配窗口化后的验证集 - 原始长度: 2493, 目标长度: 2475
2025-03-21 14:45:17,406 - 时间戳已截断至匹配窗口化后的验证集长度: 2475
2025-03-21 14:45:17,406 - 为9个月数据创建模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\9months
2025-03-21 14:45:17,406 - 开始训练9个月数据的模型...
2025-03-21 14:45:17,407 - 
--------------------------------------------------
【开始模型训练与评估】
--------------------------------------------------
2025-03-21 14:45:17,407 - 模型和 scaler 将被保存到目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\9months
2025-03-21 14:45:17,407 - 
--------------------------------------------------
【训练 GBDT 模型】
--------------------------------------------------
2025-03-21 14:45:17,407 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'gbdt', 'name': 'GBDT'}
2025-03-21 14:45:17,407 - 开始训练 GBDT 模型...
2025-03-21 14:45:20,299 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 14:45:20,299 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 14:45:20,300 - 未找到GBDT模型文件
2025-03-21 14:45:20,300 - 未找到DART模型文件
2025-03-21 14:45:20,300 - 未找到GOSS模型文件
2025-03-21 14:45:20,300 - 未找到任何可用模型文件
2025-03-21 14:45:20,300 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 14:45:50,314 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 14:45:50,314 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 14:45:50,314 - 未找到GBDT模型文件
2025-03-21 14:45:50,315 - 未找到DART模型文件
2025-03-21 14:45:50,315 - 未找到GOSS模型文件
2025-03-21 14:45:50,315 - 未找到任何可用模型文件
2025-03-21 14:45:50,315 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 14:46:20,327 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 14:46:20,328 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 14:46:20,328 - 未找到GBDT模型文件
2025-03-21 14:46:20,329 - 未找到DART模型文件
2025-03-21 14:46:20,329 - 未找到GOSS模型文件
2025-03-21 14:46:20,329 - 未找到任何可用模型文件
2025-03-21 14:46:20,329 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 14:46:50,334 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 14:46:50,334 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 14:46:50,335 - 未找到GBDT模型文件
2025-03-21 14:46:50,335 - 未找到DART模型文件
2025-03-21 14:46:50,335 - 未找到GOSS模型文件
2025-03-21 14:46:50,335 - 未找到任何可用模型文件
2025-03-21 14:46:50,336 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 14:47:08,263 - GBDT 模型训练完成
2025-03-21 14:47:08,264 - 使用 GBDT 模型预测验证集...
2025-03-21 14:47:08,409 - 使用时间加权方式计算模型评分...
2025-03-21 14:47:08,415 - ⚠️ 时间加权评分计算失败: 'numpy.timedelta64' object has no attribute 'total_seconds'，将使用简单加权评分
2025-03-21 14:47:08,415 - 使用简单加权方式计算模型评分...
2025-03-21 14:47:08,415 - GBDT 评估结果 - RMSE: 48.8180, K: 0.6768, 加权评分: 0.7846
2025-03-21 14:47:08,415 - ✅ GBDT 成为当前最佳模型 (基于加权评分)
2025-03-21 14:47:08,427 - GBDT 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\9months\GBDT.joblib
2025-03-21 14:47:08,428 - 
--------------------------------------------------
【训练 DART 模型】
--------------------------------------------------
2025-03-21 14:47:08,428 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'dart', 'drop_rate': 0.1, 'name': 'DART'}
2025-03-21 14:47:08,428 - 开始训练 DART 模型...
2025-03-21 14:47:20,346 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 14:47:20,346 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 14:47:20,346 - 未找到GBDT模型文件
2025-03-21 14:47:20,347 - 未找到DART模型文件
2025-03-21 14:47:20,347 - 未找到GOSS模型文件
2025-03-21 14:47:20,347 - 未找到任何可用模型文件
2025-03-21 14:47:20,347 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 14:47:50,362 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 14:47:50,363 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 14:47:50,363 - 未找到GBDT模型文件
2025-03-21 14:47:50,363 - 未找到DART模型文件
2025-03-21 14:47:50,364 - 未找到GOSS模型文件
2025-03-21 14:47:50,364 - 未找到任何可用模型文件
2025-03-21 14:47:50,364 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 14:48:20,379 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 14:48:20,379 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 14:48:20,379 - 未找到GBDT模型文件
2025-03-21 14:48:20,380 - 未找到DART模型文件
2025-03-21 14:48:20,380 - 未找到GOSS模型文件
2025-03-21 14:48:20,380 - 未找到任何可用模型文件
2025-03-21 14:48:20,380 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 14:48:50,391 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 14:48:50,392 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 14:48:50,392 - 未找到GBDT模型文件
2025-03-21 14:48:50,392 - 未找到DART模型文件
2025-03-21 14:48:50,392 - 未找到GOSS模型文件
2025-03-21 14:48:50,393 - 未找到任何可用模型文件
2025-03-21 14:48:50,393 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 14:49:02,514 - DART 模型训练完成
2025-03-21 14:49:02,514 - 使用 DART 模型预测验证集...
2025-03-21 14:49:02,637 - 使用时间加权方式计算模型评分...
2025-03-21 14:49:02,643 - ⚠️ 时间加权评分计算失败: 'numpy.timedelta64' object has no attribute 'total_seconds'，将使用简单加权评分
2025-03-21 14:49:02,643 - 使用简单加权方式计算模型评分...
2025-03-21 14:49:02,643 - DART 评估结果 - RMSE: 61.0135, K: 0.7109, 加权评分: 0.7882
2025-03-21 14:49:02,643 - ✅ DART 成为当前最佳模型 (基于加权评分)
2025-03-21 14:49:02,654 - DART 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\9months\DART.joblib
2025-03-21 14:49:02,654 - 
--------------------------------------------------
【训练 GOSS 模型】
--------------------------------------------------
2025-03-21 14:49:02,654 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'goss', 'top_rate': 0.2, 'other_rate': 0.1, 'name': 'GOSS'}
2025-03-21 14:49:02,654 - 开始训练 GOSS 模型...
2025-03-21 14:49:20,397 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 14:49:20,397 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 14:49:20,397 - 未找到GBDT模型文件
2025-03-21 14:49:20,398 - 未找到DART模型文件
2025-03-21 14:49:20,398 - 未找到GOSS模型文件
2025-03-21 14:49:20,398 - 未找到任何可用模型文件
2025-03-21 14:49:20,398 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 14:49:50,413 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 14:49:50,414 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 14:49:50,414 - 未找到GBDT模型文件
2025-03-21 14:49:50,414 - 未找到DART模型文件
2025-03-21 14:49:50,415 - 未找到GOSS模型文件
2025-03-21 14:49:50,415 - 未找到任何可用模型文件
2025-03-21 14:49:50,415 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 14:50:20,417 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 14:50:20,418 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 14:50:20,418 - 未找到GBDT模型文件
2025-03-21 14:50:20,418 - 未找到DART模型文件
2025-03-21 14:50:20,418 - 未找到GOSS模型文件
2025-03-21 14:50:20,418 - 未找到任何可用模型文件
2025-03-21 14:50:20,419 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 14:50:38,786 - GOSS 模型训练完成
2025-03-21 14:50:38,787 - 使用 GOSS 模型预测验证集...
2025-03-21 14:50:38,936 - 使用时间加权方式计算模型评分...
2025-03-21 14:50:38,942 - ⚠️ 时间加权评分计算失败: 'numpy.timedelta64' object has no attribute 'total_seconds'，将使用简单加权评分
2025-03-21 14:50:38,942 - 使用简单加权方式计算模型评分...
2025-03-21 14:50:38,942 - GOSS 评估结果 - RMSE: 48.8096, K: 0.6796, 加权评分: 0.7860
2025-03-21 14:50:38,959 - GOSS 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\9months\GOSS.joblib
2025-03-21 14:50:38,961 - Scaler 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\9months\scaler.joblib
2025-03-21 14:50:38,971 - 最佳模型 'DART' 已额外保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\9months\model.joblib
2025-03-21 14:50:38,971 - 9个月数据的模型训练完成
2025-03-21 14:50:38,971 - 
--------------------------------------------------
【更新每种算法的最佳模型】
--------------------------------------------------
2025-03-21 14:50:38,971 - ❌ 9个月数据的GBDT模型不是最佳模型
2025-03-21 14:50:38,971 -    当前评分: 0.7846, 最佳评分: 0.7889
2025-03-21 14:50:38,971 - ✅ 发现更好的DART模型 (来自9个月数据)
2025-03-21 14:50:38,971 -    新评分: 0.7882, 旧评分: 0.7862
2025-03-21 14:50:38,971 - ❌ 9个月数据的GOSS模型不是最佳模型
2025-03-21 14:50:38,972 -    当前评分: 0.7860, 最佳评分: 0.7945
2025-03-21 14:50:38,972 - 
--------------------------------------------------
【训练数据集: 12个月】
--------------------------------------------------
2025-03-21 14:50:38,972 - 使用12个月的数据进行训练...
2025-03-21 14:50:38,972 - 过滤数据为最近12个月...
2025-03-21 14:50:39,000 - 过滤后的数据量: 33664
2025-03-21 14:50:39,000 - 对12个月数据进行预处理...
2025-03-21 14:50:39,034 - 预处理后的特征维度: (33664, 304), 目标变量维度: (33664,)
2025-03-21 14:50:39,039 - 数据集划分完成，训练集: (30297, 304), 验证集: (3367, 304)
2025-03-21 14:50:39,039 - 提取了 3367 个验证集时间戳，用于时间加权评估
2025-03-21 14:50:39,039 - 执行特征工程，滞后特征数: 4...
2025-03-21 14:50:39,428 - 特征工程后的特征维度 - 训练集: (30294, 859), 验证集: (3364, 859)
2025-03-21 14:50:39,428 - 数据标准化...
2025-03-21 14:50:39,990 - 数据标准化完成
2025-03-21 14:50:39,990 - 创建时间窗口，窗口大小: 16...
2025-03-21 14:50:41,081 - 时间窗口创建完成 - 训练集: (30279, 16, 859), 验证集: (3349, 16, 859)
2025-03-21 14:50:41,081 - 调整时间戳长度以匹配窗口化后的验证集 - 原始长度: 3367, 目标长度: 3349
2025-03-21 14:50:41,081 - 时间戳已截断至匹配窗口化后的验证集长度: 3349
2025-03-21 14:50:41,082 - 为12个月数据创建模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\12months
2025-03-21 14:50:41,083 - 开始训练12个月数据的模型...
2025-03-21 14:50:41,083 - 
--------------------------------------------------
【开始模型训练与评估】
--------------------------------------------------
2025-03-21 14:50:41,083 - 模型和 scaler 将被保存到目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\12months
2025-03-21 14:50:41,083 - 
--------------------------------------------------
【训练 GBDT 模型】
--------------------------------------------------
2025-03-21 14:50:41,083 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'gbdt', 'name': 'GBDT'}
2025-03-21 14:50:41,084 - 开始训练 GBDT 模型...
2025-03-21 14:50:50,425 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 14:50:50,425 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 14:50:50,425 - 未找到GBDT模型文件
2025-03-21 14:50:50,426 - 未找到DART模型文件
2025-03-21 14:50:50,426 - 未找到GOSS模型文件
2025-03-21 14:50:50,426 - 未找到任何可用模型文件
2025-03-21 14:50:50,426 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 14:51:20,431 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 14:51:20,432 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 14:51:20,432 - 未找到GBDT模型文件
2025-03-21 14:51:20,432 - 未找到DART模型文件
2025-03-21 14:51:20,433 - 未找到GOSS模型文件
2025-03-21 14:51:20,433 - 未找到任何可用模型文件
2025-03-21 14:51:20,433 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 14:51:50,441 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 14:51:50,442 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 14:51:50,442 - 未找到GBDT模型文件
2025-03-21 14:51:50,442 - 未找到DART模型文件
2025-03-21 14:51:50,442 - 未找到GOSS模型文件
2025-03-21 14:51:50,443 - 未找到任何可用模型文件
2025-03-21 14:51:50,443 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 14:52:20,447 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 14:52:20,447 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 14:52:20,447 - 未找到GBDT模型文件
2025-03-21 14:52:20,448 - 未找到DART模型文件
2025-03-21 14:52:20,448 - 未找到GOSS模型文件
2025-03-21 14:52:20,448 - 未找到任何可用模型文件
2025-03-21 14:52:20,448 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 14:52:21,865 - GBDT 模型训练完成
2025-03-21 14:52:21,865 - 使用 GBDT 模型预测验证集...
2025-03-21 14:52:22,063 - 使用时间加权方式计算模型评分...
2025-03-21 14:52:22,066 - ⚠️ 时间加权评分计算失败: 'numpy.timedelta64' object has no attribute 'total_seconds'，将使用简单加权评分
2025-03-21 14:52:22,066 - 使用简单加权方式计算模型评分...
2025-03-21 14:52:22,066 - GBDT 评估结果 - RMSE: 45.8674, K: 0.7136, 加权评分: 0.8063
2025-03-21 14:52:22,066 - ✅ GBDT 成为当前最佳模型 (基于加权评分)
2025-03-21 14:52:22,073 - GBDT 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\12months\GBDT.joblib
2025-03-21 14:52:22,073 - 
--------------------------------------------------
【训练 DART 模型】
--------------------------------------------------
2025-03-21 14:52:22,073 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'dart', 'drop_rate': 0.1, 'name': 'DART'}
2025-03-21 14:52:22,074 - 开始训练 DART 模型...
2025-03-21 14:52:50,459 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 14:52:50,459 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 14:52:50,459 - 未找到GBDT模型文件
2025-03-21 14:52:50,459 - 未找到DART模型文件
2025-03-21 14:52:50,459 - 未找到GOSS模型文件
2025-03-21 14:52:50,459 - 未找到任何可用模型文件
2025-03-21 14:52:50,459 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 14:53:20,465 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 14:53:20,465 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 14:53:20,466 - 未找到GBDT模型文件
2025-03-21 14:53:20,466 - 未找到DART模型文件
2025-03-21 14:53:20,466 - 未找到GOSS模型文件
2025-03-21 14:53:20,466 - 未找到任何可用模型文件
2025-03-21 14:53:20,466 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 14:53:25,185 - DART 模型训练完成
2025-03-21 14:53:25,185 - 使用 DART 模型预测验证集...
2025-03-21 14:53:25,458 - 使用时间加权方式计算模型评分...
2025-03-21 14:53:25,466 - ⚠️ 时间加权评分计算失败: 'numpy.timedelta64' object has no attribute 'total_seconds'，将使用简单加权评分
2025-03-21 14:53:25,466 - 使用简单加权方式计算模型评分...
2025-03-21 14:53:25,466 - DART 评估结果 - RMSE: 61.3973, K: 0.7155, 加权评分: 0.7901
2025-03-21 14:53:25,480 - DART 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\12months\DART.joblib
2025-03-21 14:53:25,481 - 
--------------------------------------------------
【训练 GOSS 模型】
--------------------------------------------------
2025-03-21 14:53:25,481 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'goss', 'top_rate': 0.2, 'other_rate': 0.1, 'name': 'GOSS'}
2025-03-21 14:53:25,481 - 开始训练 GOSS 模型...
2025-03-21 14:53:50,470 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 14:53:50,470 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 14:53:50,470 - 未找到GBDT模型文件
2025-03-21 14:53:50,471 - 未找到DART模型文件
2025-03-21 14:53:50,471 - 未找到GOSS模型文件
2025-03-21 14:53:50,471 - 未找到任何可用模型文件
2025-03-21 14:53:50,471 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 14:54:20,480 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 14:54:20,480 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 14:54:20,480 - 未找到GBDT模型文件
2025-03-21 14:54:20,481 - 未找到DART模型文件
2025-03-21 14:54:20,481 - 未找到GOSS模型文件
2025-03-21 14:54:20,481 - 未找到任何可用模型文件
2025-03-21 14:54:20,481 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 14:54:50,486 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 14:54:50,486 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 14:54:50,487 - 未找到GBDT模型文件
2025-03-21 14:54:50,487 - 未找到DART模型文件
2025-03-21 14:54:50,487 - 未找到GOSS模型文件
2025-03-21 14:54:50,487 - 未找到任何可用模型文件
2025-03-21 14:54:50,488 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 14:55:20,512 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 14:55:20,512 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 14:55:20,512 - 未找到GBDT模型文件
2025-03-21 14:55:20,513 - 未找到DART模型文件
2025-03-21 14:55:20,513 - 未找到GOSS模型文件
2025-03-21 14:55:20,513 - 未找到任何可用模型文件
2025-03-21 14:55:20,513 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 14:55:27,792 - GOSS 模型训练完成
2025-03-21 14:55:27,792 - 使用 GOSS 模型预测验证集...
2025-03-21 14:55:28,174 - 使用时间加权方式计算模型评分...
2025-03-21 14:55:28,176 - ⚠️ 时间加权评分计算失败: 'numpy.timedelta64' object has no attribute 'total_seconds'，将使用简单加权评分
2025-03-21 14:55:28,176 - 使用简单加权方式计算模型评分...
2025-03-21 14:55:28,177 - GOSS 评估结果 - RMSE: 46.6498, K: 0.7086, 加权评分: 0.8028
2025-03-21 14:55:28,189 - GOSS 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\12months\GOSS.joblib
2025-03-21 14:55:28,190 - Scaler 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\12months\scaler.joblib
2025-03-21 14:55:28,199 - 最佳模型 'GBDT' 已额外保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\12months\model.joblib
2025-03-21 14:55:28,199 - 12个月数据的模型训练完成
2025-03-21 14:55:28,199 - 
--------------------------------------------------
【更新每种算法的最佳模型】
--------------------------------------------------
2025-03-21 14:55:28,199 - ✅ 发现更好的GBDT模型 (来自12个月数据)
2025-03-21 14:55:28,199 -    新评分: 0.8063, 旧评分: 0.7889
2025-03-21 14:55:28,199 - ✅ 发现更好的DART模型 (来自12个月数据)
2025-03-21 14:55:28,199 -    新评分: 0.7901, 旧评分: 0.7882
2025-03-21 14:55:28,199 - ✅ 发现更好的GOSS模型 (来自12个月数据)
2025-03-21 14:55:28,199 -    新评分: 0.8028, 旧评分: 0.7945
2025-03-21 14:55:28,199 - 
--------------------------------------------------
【训练数据集: 全部数据】
--------------------------------------------------
2025-03-21 14:55:28,200 - 使用全部数据的数据进行训练...
2025-03-21 14:55:28,200 - 使用全部数据...
2025-03-21 14:55:28,204 - 过滤后的数据量: 38172
2025-03-21 14:55:28,204 - 对全部数据数据进行预处理...
2025-03-21 14:55:28,240 - 预处理后的特征维度: (38172, 304), 目标变量维度: (38172,)
2025-03-21 14:55:28,245 - 数据集划分完成，训练集: (34354, 304), 验证集: (3818, 304)
2025-03-21 14:55:28,245 - 提取了 3818 个验证集时间戳，用于时间加权评估
2025-03-21 14:55:28,245 - 执行特征工程，滞后特征数: 4...
2025-03-21 14:55:28,580 - 特征工程后的特征维度 - 训练集: (34351, 859), 验证集: (3815, 859)
2025-03-21 14:55:28,580 - 数据标准化...
2025-03-21 14:55:28,904 - 数据标准化完成
2025-03-21 14:55:28,904 - 创建时间窗口，窗口大小: 16...
2025-03-21 14:55:29,733 - 时间窗口创建完成 - 训练集: (34336, 16, 859), 验证集: (3800, 16, 859)
2025-03-21 14:55:29,733 - 调整时间戳长度以匹配窗口化后的验证集 - 原始长度: 3818, 目标长度: 3800
2025-03-21 14:55:29,733 - 时间戳已截断至匹配窗口化后的验证集长度: 3800
2025-03-21 14:55:29,734 - 为全部数据数据创建模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\all_data
2025-03-21 14:55:29,734 - 开始训练全部数据数据的模型...
2025-03-21 14:55:29,734 - 
--------------------------------------------------
【开始模型训练与评估】
--------------------------------------------------
2025-03-21 14:55:29,734 - 模型和 scaler 将被保存到目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\all_data
2025-03-21 14:55:29,734 - 
--------------------------------------------------
【训练 GBDT 模型】
--------------------------------------------------
2025-03-21 14:55:29,734 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'gbdt', 'name': 'GBDT'}
2025-03-21 14:55:29,734 - 开始训练 GBDT 模型...
2025-03-21 14:55:50,517 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 14:55:50,517 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 14:55:50,517 - 未找到GBDT模型文件
2025-03-21 14:55:50,517 - 未找到DART模型文件
2025-03-21 14:55:50,517 - 未找到GOSS模型文件
2025-03-21 14:55:50,517 - 未找到任何可用模型文件
2025-03-21 14:55:50,518 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 14:56:20,529 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 14:56:20,529 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 14:56:20,530 - 未找到GBDT模型文件
2025-03-21 14:56:20,530 - 未找到DART模型文件
2025-03-21 14:56:20,530 - 未找到GOSS模型文件
2025-03-21 14:56:20,530 - 未找到任何可用模型文件
2025-03-21 14:56:20,530 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 14:56:47,516 - GBDT 模型训练完成
2025-03-21 14:56:47,516 - 使用 GBDT 模型预测验证集...
2025-03-21 14:56:47,982 - 使用时间加权方式计算模型评分...
2025-03-21 14:56:47,991 - ⚠️ 时间加权评分计算失败: 'numpy.timedelta64' object has no attribute 'total_seconds'，将使用简单加权评分
2025-03-21 14:56:47,991 - 使用简单加权方式计算模型评分...
2025-03-21 14:56:47,991 - GBDT 评估结果 - RMSE: 46.2606, K: 0.6942, 加权评分: 0.7961
2025-03-21 14:56:47,991 - ✅ GBDT 成为当前最佳模型 (基于加权评分)
2025-03-21 14:56:48,006 - GBDT 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\all_data\GBDT.joblib
2025-03-21 14:56:48,006 - 
--------------------------------------------------
【训练 DART 模型】
--------------------------------------------------
2025-03-21 14:56:48,006 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'dart', 'drop_rate': 0.1, 'name': 'DART'}
2025-03-21 14:56:48,006 - 开始训练 DART 模型...
2025-03-21 14:56:50,540 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 14:56:50,540 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 14:56:50,540 - 未找到GBDT模型文件
2025-03-21 14:56:50,540 - 未找到DART模型文件
2025-03-21 14:56:50,540 - 未找到GOSS模型文件
2025-03-21 14:56:50,541 - 未找到任何可用模型文件
2025-03-21 14:56:50,541 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 14:57:20,544 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 14:57:20,544 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 14:57:20,544 - 未找到GBDT模型文件
2025-03-21 14:57:20,544 - 未找到DART模型文件
2025-03-21 14:57:20,544 - 未找到GOSS模型文件
2025-03-21 14:57:20,544 - 未找到任何可用模型文件
2025-03-21 14:57:20,544 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 14:57:50,546 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 14:57:50,546 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 14:57:50,546 - 未找到GBDT模型文件
2025-03-21 14:57:50,546 - 未找到DART模型文件
2025-03-21 14:57:50,547 - 未找到GOSS模型文件
2025-03-21 14:57:50,547 - 未找到任何可用模型文件
2025-03-21 14:57:50,547 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 14:58:09,609 - DART 模型训练完成
2025-03-21 14:58:09,609 - 使用 DART 模型预测验证集...
2025-03-21 14:58:10,150 - 使用时间加权方式计算模型评分...
2025-03-21 14:58:10,159 - ⚠️ 时间加权评分计算失败: 'numpy.timedelta64' object has no attribute 'total_seconds'，将使用简单加权评分
2025-03-21 14:58:10,159 - 使用简单加权方式计算模型评分...
2025-03-21 14:58:10,159 - DART 评估结果 - RMSE: 59.3663, K: 0.7118, 加权评分: 0.7904
2025-03-21 14:58:10,174 - DART 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\all_data\DART.joblib
2025-03-21 14:58:10,174 - 
--------------------------------------------------
【训练 GOSS 模型】
--------------------------------------------------
2025-03-21 14:58:10,175 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'goss', 'top_rate': 0.2, 'other_rate': 0.1, 'name': 'GOSS'}
2025-03-21 14:58:10,175 - 开始训练 GOSS 模型...
2025-03-21 14:58:20,555 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 14:58:20,555 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 14:58:20,555 - 未找到GBDT模型文件
2025-03-21 14:58:20,555 - 未找到DART模型文件
2025-03-21 14:58:20,555 - 未找到GOSS模型文件
2025-03-21 14:58:20,556 - 未找到任何可用模型文件
2025-03-21 14:58:20,556 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 14:58:50,565 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 14:58:50,565 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 14:58:50,565 - 未找到GBDT模型文件
2025-03-21 14:58:50,565 - 未找到DART模型文件
2025-03-21 14:58:50,565 - 未找到GOSS模型文件
2025-03-21 14:58:50,565 - 未找到任何可用模型文件
2025-03-21 14:58:50,565 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 14:59:20,585 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 14:59:20,585 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 14:59:20,586 - 未找到GBDT模型文件
2025-03-21 14:59:20,586 - 未找到DART模型文件
2025-03-21 14:59:20,586 - 未找到GOSS模型文件
2025-03-21 14:59:20,586 - 未找到任何可用模型文件
2025-03-21 14:59:20,586 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 14:59:50,591 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 14:59:50,592 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 14:59:50,592 - 未找到GBDT模型文件
2025-03-21 14:59:50,593 - 未找到DART模型文件
2025-03-21 14:59:50,593 - 未找到GOSS模型文件
2025-03-21 14:59:50,593 - 未找到任何可用模型文件
2025-03-21 14:59:50,593 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 14:59:58,818 - GOSS 模型训练完成
2025-03-21 14:59:58,818 - 使用 GOSS 模型预测验证集...
2025-03-21 14:59:59,644 - 使用时间加权方式计算模型评分...
2025-03-21 14:59:59,653 - ⚠️ 时间加权评分计算失败: 'numpy.timedelta64' object has no attribute 'total_seconds'，将使用简单加权评分
2025-03-21 14:59:59,653 - 使用简单加权方式计算模型评分...
2025-03-21 14:59:59,653 - GOSS 评估结果 - RMSE: 46.2717, K: 0.6971, 加权评分: 0.7975
2025-03-21 14:59:59,653 - ✅ GOSS 成为当前最佳模型 (基于加权评分)
2025-03-21 14:59:59,674 - GOSS 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\all_data\GOSS.joblib
2025-03-21 14:59:59,676 - Scaler 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\all_data\scaler.joblib
2025-03-21 14:59:59,695 - 最佳模型 'GOSS' 已额外保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\all_data\model.joblib
2025-03-21 14:59:59,695 - 全部数据数据的模型训练完成
2025-03-21 14:59:59,695 - 
--------------------------------------------------
【更新每种算法的最佳模型】
--------------------------------------------------
2025-03-21 14:59:59,695 - ❌ 全部数据数据的GBDT模型不是最佳模型
2025-03-21 14:59:59,695 -    当前评分: 0.7961, 最佳评分: 0.8063
2025-03-21 14:59:59,696 - ✅ 发现更好的DART模型 (来自全部数据数据)
2025-03-21 14:59:59,696 -    新评分: 0.7904, 旧评分: 0.7901
2025-03-21 14:59:59,696 - ❌ 全部数据数据的GOSS模型不是最佳模型
2025-03-21 14:59:59,696 -    当前评分: 0.7975, 最佳评分: 0.8028
2025-03-21 14:59:59,696 - 
--------------------------------------------------
【保存每种算法的最佳模型】
--------------------------------------------------
2025-03-21 14:59:59,709 - 最佳GBDT模型 (使用12个月数据) 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models\GBDT.joblib
2025-03-21 14:59:59,709 - RMSE: 45.8674, K: 0.7136, 评分: 0.8063
2025-03-21 14:59:59,722 - 最佳DART模型 (使用全部数据数据) 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models\DART.joblib
2025-03-21 14:59:59,722 - RMSE: 59.3663, K: 0.7118, 评分: 0.7904
2025-03-21 14:59:59,742 - 最佳GOSS模型 (使用12个月数据) 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models\GOSS.joblib
2025-03-21 14:59:59,743 - RMSE: 46.6498, K: 0.7086, 评分: 0.8028
2025-03-21 15:00:00,215 - 多数据集训练完成! 已为每种算法选择最佳模型
2025-03-21 15:00:00,215 -   - 最佳GBDT模型: 使用12个月数据, RMSE=45.8674, K=0.7136, 评分=0.8063
2025-03-21 15:00:00,215 -   - 最佳DART模型: 使用全部数据数据, RMSE=59.3663, K=0.7118, 评分=0.7904
2025-03-21 15:00:00,216 -   - 最佳GOSS模型: 使用12个月数据, RMSE=46.6498, K=0.7086, 评分=0.8028
2025-03-21 15:00:00,216 - 
================================================================================
2025-03-21 15:00:00,216 - >>> 开始计算模型权重 <<<
2025-03-21 15:00:00,216 - ================================================================================

2025-03-21 15:00:00,216 - 开始计算模型权重
2025-03-21 15:00:00,216 - 尝试获取过去三天的数据（从 20250318 开始）进行权重优化
2025-03-21 15:00:00,216 -   ❌ 未找到历史数据文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short\20250318.csv
2025-03-21 15:00:00,217 -   ❌ 未找到历史数据文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short\20250319.csv
2025-03-21 15:00:00,217 -   ❌ 未找到历史数据文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short\20250320.csv
2025-03-21 15:00:00,217 - ⚠️ 未找到足够的历史数据，将使用默认权重
2025-03-21 15:00:00,245 - ✅ 训练完成，已创建标志文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\20250321_train_done.flag
2025-03-21 15:00:00,245 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 15:00:00,246 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 15:00:00,246 - 发现GBDT模型文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models\GBDT.joblib
2025-03-21 15:00:00,246 - ✅ 模型已成功保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321，模型可用。
2025-03-21 15:00:20,603 - ✅ 发现新的预测文件：D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv\20250321.csv，执行预测...
2025-03-21 15:00:20,603 - 
============================================================
【风电功率预测开始】
============================================================
2025-03-21 15:00:20,604 - 配置信息:
2025-03-21 15:00:20,604 -   - 数据文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv\20250321.csv
2025-03-21 15:00:20,604 -   - 模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 15:00:20,604 -   - 窗口大小: 16
2025-03-21 15:00:20,604 -   - 滞后特征数: 4
2025-03-21 15:00:20,604 - 
============================================================
【预处理新数据】
============================================================
2025-03-21 15:00:20,604 - 加载数据文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv\20250321.csv
2025-03-21 15:00:20,622 - 数据加载完成，去除缺失值后共 109 条记录
2025-03-21 15:00:20,710 - 数据前5行预览:
         Timestamp    129.128_1    129.128_2  ...  ws200_13   ws200_14   ws200_15
0  2024/4/16 20:00  15974.26563  16293.82813  ...  9.541195  10.863499  12.404554
1  2024/4/16 20:15  15974.26563  16293.82813  ...  9.280917  10.585079  12.259521
2  2024/4/16 20:30  15974.26563  16293.82813  ...  9.020693  10.307371  12.115601
3  2024/4/16 20:45  15974.26563  16293.82813  ...  8.760527  10.030434  11.972834
4  2024/4/16 21:00  15974.26563  16293.82813  ...  8.500424   9.754334  11.831263

[5 rows x 301 columns]
2025-03-21 15:00:20,710 - 预处理数据...
2025-03-21 15:00:20,714 - 预处理完成，特征维度: (109, 304)
2025-03-21 15:00:20,714 - 执行特征工程，滞后特征数: 4...
2025-03-21 15:00:20,785 - 特征工程完成，特征维度: (106, 859)
2025-03-21 15:00:20,785 - 新数据预处理完成，共 106 个样本
2025-03-21 15:00:20,786 - ✅ 发现最佳模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models，尝试使用多模型加权预测
2025-03-21 15:00:20,786 - 
============================================================
【加载多个模型】
============================================================
2025-03-21 15:00:20,786 - 从目录加载模型和 scaler: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 15:00:20,786 - 加载 GBDT 模型和 scaler...
2025-03-21 15:00:20,800 - ✅ 已成功加载 GBDT 模型和对应的 scaler
2025-03-21 15:00:20,800 - 加载 DART 模型和 scaler...
2025-03-21 15:00:20,813 - ✅ 已成功加载 DART 模型和对应的 scaler
2025-03-21 15:00:20,813 - 加载 GOSS 模型和 scaler...
2025-03-21 15:00:20,828 - ✅ 已成功加载 GOSS 模型和对应的 scaler
2025-03-21 15:00:20,828 - 加载完成，共加载了 3 个模型: GBDT, DART, GOSS
2025-03-21 15:00:20,829 - 未找到权重文件，使用默认权重
2025-03-21 15:00:20,829 - 
============================================================
【使用多模型加权预测】
============================================================
2025-03-21 15:00:20,829 - 使用默认权重: {'GBDT': 0.45, 'DART': 0.1, 'GOSS': 0.45}
2025-03-21 15:00:20,829 - 使用 GBDT 模型进行预测 (权重: 0.4500)...
2025-03-21 15:00:20,834 - GBDT: 数据标准化完成
2025-03-21 15:00:20,836 - GBDT: 时间窗口创建完成，窗口数量: 91
2025-03-21 15:00:20,859 - ✅ GBDT 模型预测完成，生成了 91 个预测值
2025-03-21 15:00:20,859 -    统计: 最小值=171.07, 最大值=290.62, 平均值=227.54
2025-03-21 15:00:20,859 - 使用 DART 模型进行预测 (权重: 0.1000)...
2025-03-21 15:00:20,865 - DART: 数据标准化完成
2025-03-21 15:00:20,867 - DART: 时间窗口创建完成，窗口数量: 91
2025-03-21 15:00:20,889 - ✅ DART 模型预测完成，生成了 91 个预测值
2025-03-21 15:00:20,889 -    统计: 最小值=175.11, 最大值=217.95, 平均值=195.85
2025-03-21 15:00:20,890 - 使用 GOSS 模型进行预测 (权重: 0.4500)...
2025-03-21 15:00:20,895 - GOSS: 数据标准化完成
2025-03-21 15:00:20,898 - GOSS: 时间窗口创建完成，窗口数量: 91
2025-03-21 15:00:20,920 - ✅ GOSS 模型预测完成，生成了 91 个预测值
2025-03-21 15:00:20,920 -    统计: 最小值=180.04, 最大值=286.40, 平均值=224.81
2025-03-21 15:00:20,921 - 所有预测结果对齐到最小长度: 91
2025-03-21 15:00:20,921 - 开始计算加权平均预测结果...
2025-03-21 15:00:20,921 -   加入 GBDT 模型贡献 (权重: 0.4500)
2025-03-21 15:00:20,921 -   加入 DART 模型贡献 (权重: 0.1000)
2025-03-21 15:00:20,921 -   加入 GOSS 模型贡献 (权重: 0.4500)
2025-03-21 15:00:20,922 - 加权平均预测完成，生成了 91 个预测值
2025-03-21 15:00:20,922 - 加权预测结果统计: 最小值=178.02, 最大值=280.87, 平均值=223.14
2025-03-21 15:00:20,923 - ✅ 多模型加权预测完成，使用模型: GBDT, DART, GOSS
2025-03-21 15:00:20,923 - 
============================================================
【保存预测结果】
============================================================
2025-03-21 15:00:20,924 - 创建输出目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\results\shortresult\20250321
2025-03-21 15:00:20,925 - 预测结果数据框创建完成，共 91 行
2025-03-21 15:00:20,929 - ✅ 预测结果已保存到文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\results\shortresult\20250321\20250321.csv
2025-03-21 15:00:20,929 - 尝试将预测结果导入数据库...
2025-03-21 15:00:20,930 - 发送HTTP请求到: http://localhost:5000/prediction2database/batch_shortl_power
2025-03-21 15:00:25,020 - ❌ 调用数据库接口失败: HTTPConnectionPool(host='localhost', port=5000): Max retries exceeded with url: /prediction2database/batch_shortl_power (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000000005AA54940>: Failed to establish a new connection: [WinError 10061] 由于目标计算机积极拒绝，无法连接。'))
2025-03-21 15:00:25,020 - ✅ 预测结果已保存到: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\results\shortresult\20250321\20250321.csv
2025-03-21 15:00:25,021 - ✅ 创建预测完成标志文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\results\shortresult\20250321\20250321_predict_done.flag
2025-03-21 15:00:25,021 - 
============================================================
【风电功率预测完成】
============================================================
2025-03-21 15:00:25,021 - 风电功率预测完成
2025-03-21 15:00:25,021 - ✅ 预测执行完成
2025-03-21 15:00:25,021 - 
================================================================================
2025-03-21 15:00:25,021 - >>> 系统任务完成 <<<
2025-03-21 15:00:25,022 - ================================================================================

2025-03-21 15:00:25,022 - 系统任务完成
2025-03-21 15:00:25,022 - 今天的训练和预测任务已完成。
2025-03-21 15:11:14,020 - 
================================================================================
2025-03-21 15:11:14,020 - >>> 自动训练预测系统启动 <<<
2025-03-21 15:11:14,020 - ================================================================================

2025-03-21 15:11:14,020 - 自动训练预测系统启动
2025-03-21 15:11:14,020 - 今天的日期是: 20250321
2025-03-21 15:11:14,020 - 创建监视线程...
2025-03-21 15:11:14,020 - 启动训练线程...
2025-03-21 15:11:14,021 - 启动预测线程...
2025-03-21 15:11:14,021 - 
================================================================================
2025-03-21 15:11:14,021 - >>> 启动训练监视线程 <<<
2025-03-21 15:11:14,021 - ================================================================================

2025-03-21 15:11:14,021 - 启动训练监视线程
2025-03-21 15:11:14,021 - 等待线程完成...
2025-03-21 15:11:14,021 - 
================================================================================
2025-03-21 15:11:14,021 - >>> 启动预测监视线程 <<<
2025-03-21 15:11:14,021 - 训练文件路径: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short\20250321.csv
2025-03-21 15:11:14,021 - ================================================================================

2025-03-21 15:11:14,021 - 模型存储目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 15:11:14,022 - 启动预测监视线程
2025-03-21 15:11:14,022 - 训练完成标志文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\20250321_train_done.flag
2025-03-21 15:11:14,022 - 开始监视 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short 文件夹以进行训练...
2025-03-21 15:11:14,022 - 预测数据文件路径: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv\20250321.csv
2025-03-21 15:11:14,022 - 模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 15:11:14,022 - 预测完成标志文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\results\shortresult\20250321\20250321_predict_done.flag
2025-03-21 15:11:14,022 - 开始监视 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv 文件夹以进行预测...
2025-03-21 15:11:14,022 - ✅ 发现新的训练文件：D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short\20250321.csv，执行训练...
2025-03-21 15:11:14,022 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 15:11:14,022 - 
================================================================================
2025-03-21 15:11:14,022 - >>> 开始模型训练 <<<
2025-03-21 15:11:14,022 - 未找到best_models目录，检查传统模型文件
2025-03-21 15:11:14,022 - ================================================================================

2025-03-21 15:11:14,023 - 配置信息:
2025-03-21 15:11:14,023 -   - 窗口大小: 16
2025-03-21 15:11:14,023 - 未找到任何可用模型文件
2025-03-21 15:11:14,023 -   - 滞后特征数: 4
2025-03-21 15:11:14,023 -   - 训练集比例: 0.9
2025-03-21 15:11:14,023 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 15:11:14,023 -   - 输出目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\train_predictions\short_predictions
2025-03-21 15:11:14,023 -   - 模型存储路径: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 15:11:14,023 - 输出结果将保存到: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\train_predictions\short_predictions
2025-03-21 15:11:14,023 - 
================================================================================
2025-03-21 15:11:14,023 - >>> 数据加载与预处理 <<<
2025-03-21 15:11:14,023 - ================================================================================

2025-03-21 15:11:14,023 - 加载数据文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short\20250321.csv
2025-03-21 15:11:14,023 - 开始加载和预处理数据...
2025-03-21 15:11:14,769 - 数据加载完成，共 38172 条记录
2025-03-21 15:11:14,790 - 数据前5行预览: 
       Timestamp    129.128_1    129.128_2  ...  ws200_15  wp_true    ws_all
0  2023/3/2 0:00  15950.07031  16250.82031  ...  8.808324    26.02  4.092251
1  2023/3/2 0:15  15950.07031  16250.82031  ...  8.549524    19.92  3.833974
2  2023/3/2 0:30  15950.07031  16250.82031  ...  8.295010    14.90  3.591723
3  2023/3/2 0:45  15950.07031  16250.82031  ...  8.045185     8.43  3.206756
4  2023/3/2 1:00  15950.07031  16250.82031  ...  7.800503     5.47  2.986988

[5 rows x 303 columns]
2025-03-21 15:11:14,790 - 将使用以下时间段训练模型: [1, 3, 6, 9, 12, None]
2025-03-21 15:11:14,790 - 
================================================================================
2025-03-21 15:11:14,790 - >>> 开始多数据集训练 <<<
2025-03-21 15:11:14,790 - ================================================================================

2025-03-21 15:11:14,790 - 将使用多种时间跨度的数据训练模型...
2025-03-21 15:11:14,790 - 
--------------------------------------------------
【使用多个数据集训练模型】
--------------------------------------------------
2025-03-21 15:11:14,791 - 最佳模型将保存到: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 15:11:14,791 - 获取统一参数成功，包含 3 种模型类型
2025-03-21 15:11:14,791 - 
--------------------------------------------------
【训练数据集: 1个月】
--------------------------------------------------
2025-03-21 15:11:14,791 - 使用1个月的数据进行训练...
2025-03-21 15:11:14,791 - 过滤数据为最近1个月...
2025-03-21 15:11:14,807 - 过滤后的数据量: 2977
2025-03-21 15:11:14,807 - 对1个月数据进行预处理...
2025-03-21 15:11:14,811 - 预处理后的特征维度: (2977, 304), 目标变量维度: (2977,)
2025-03-21 15:11:14,811 - 数据集划分完成，训练集: (2679, 304), 验证集: (298, 304)
2025-03-21 15:11:14,811 - 提取了 298 个验证集时间戳，用于时间加权评估
2025-03-21 15:11:14,812 - 执行特征工程，滞后特征数: 4...
2025-03-21 15:11:14,857 - 特征工程后的特征维度 - 训练集: (2676, 859), 验证集: (295, 859)
2025-03-21 15:11:14,857 - 数据标准化...
2025-03-21 15:11:14,887 - 数据标准化完成
2025-03-21 15:11:14,887 - 创建时间窗口，窗口大小: 16...
2025-03-21 15:11:14,936 - 时间窗口创建完成 - 训练集: (2661, 16, 859), 验证集: (280, 16, 859)
2025-03-21 15:11:14,936 - 调整时间戳长度以匹配窗口化后的验证集 - 原始长度: 298, 目标长度: 280
2025-03-21 15:11:14,936 - 时间戳已截断至匹配窗口化后的验证集长度: 280
2025-03-21 15:11:14,937 - 为1个月数据创建模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\1months
2025-03-21 15:11:14,937 - 开始训练1个月数据的模型...
2025-03-21 15:11:14,937 - 
--------------------------------------------------
【开始模型训练与评估】
--------------------------------------------------
2025-03-21 15:11:14,937 - 模型和 scaler 将被保存到目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\1months
2025-03-21 15:11:14,937 - 
--------------------------------------------------
【训练 GBDT 模型】
--------------------------------------------------
2025-03-21 15:11:14,937 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'gbdt', 'name': 'GBDT'}
2025-03-21 15:11:14,937 - 开始训练 GBDT 模型...
2025-03-21 15:11:31,560 - GBDT 模型训练完成
2025-03-21 15:11:31,560 - 使用 GBDT 模型预测验证集...
2025-03-21 15:11:31,567 - 使用时间加权方式计算模型评分...
2025-03-21 15:11:31,569 - GBDT 评估结果 - RMSE: 68.3078, K: 0.4502, 加权评分: 0.6447
2025-03-21 15:11:31,569 - ✅ GBDT 成为当前最佳模型 (基于加权评分)
2025-03-21 15:11:31,580 - GBDT 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\1months\GBDT.joblib
2025-03-21 15:11:31,581 - 
--------------------------------------------------
【训练 DART 模型】
--------------------------------------------------
2025-03-21 15:11:31,581 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'dart', 'drop_rate': 0.1, 'name': 'DART'}
2025-03-21 15:11:31,581 - 开始训练 DART 模型...
2025-03-21 15:11:44,033 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 15:11:44,034 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 15:11:44,034 - 未找到GBDT模型文件
2025-03-21 15:11:44,034 - 未找到DART模型文件
2025-03-21 15:11:44,034 - 未找到GOSS模型文件
2025-03-21 15:11:44,035 - 未找到任何可用模型文件
2025-03-21 15:11:44,035 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 15:11:48,037 - DART 模型训练完成
2025-03-21 15:11:48,037 - 使用 DART 模型预测验证集...
2025-03-21 15:11:48,043 - 使用时间加权方式计算模型评分...
2025-03-21 15:11:48,045 - DART 评估结果 - RMSE: 62.7504, K: 0.6220, 加权评分: 0.7393
2025-03-21 15:11:48,045 - ✅ DART 成为当前最佳模型 (基于加权评分)
2025-03-21 15:11:48,052 - DART 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\1months\DART.joblib
2025-03-21 15:11:48,052 - 
--------------------------------------------------
【训练 GOSS 模型】
--------------------------------------------------
2025-03-21 15:11:48,052 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'goss', 'top_rate': 0.2, 'other_rate': 0.1, 'name': 'GOSS'}
2025-03-21 15:11:48,052 - 开始训练 GOSS 模型...
2025-03-21 15:12:01,350 - GOSS 模型训练完成
2025-03-21 15:12:01,350 - 使用 GOSS 模型预测验证集...
2025-03-21 15:12:01,358 - 使用时间加权方式计算模型评分...
2025-03-21 15:12:01,359 - GOSS 评估结果 - RMSE: 68.2680, K: 0.4465, 加权评分: 0.6427
2025-03-21 15:12:01,376 - GOSS 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\1months\GOSS.joblib
2025-03-21 15:12:01,378 - Scaler 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\1months\scaler.joblib
2025-03-21 15:12:01,386 - 最佳模型 'DART' 已额外保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\1months\model.joblib
2025-03-21 15:12:01,386 - 1个月数据的模型训练完成
2025-03-21 15:12:01,386 - 
--------------------------------------------------
【更新每种算法的最佳模型】
--------------------------------------------------
2025-03-21 15:12:01,386 - ✅ 发现更好的GBDT模型 (来自1个月数据)
2025-03-21 15:12:01,387 -    新评分: 0.6447, 旧评分: -inf
2025-03-21 15:12:01,387 - ✅ 发现更好的DART模型 (来自1个月数据)
2025-03-21 15:12:01,387 -    新评分: 0.7393, 旧评分: -inf
2025-03-21 15:12:01,387 - ✅ 发现更好的GOSS模型 (来自1个月数据)
2025-03-21 15:12:01,387 -    新评分: 0.6427, 旧评分: -inf
2025-03-21 15:12:01,387 - 
--------------------------------------------------
【训练数据集: 3个月】
--------------------------------------------------
2025-03-21 15:12:01,387 - 使用3个月的数据进行训练...
2025-03-21 15:12:01,387 - 过滤数据为最近3个月...
2025-03-21 15:12:01,395 - 过滤后的数据量: 8737
2025-03-21 15:12:01,395 - 对3个月数据进行预处理...
2025-03-21 15:12:01,408 - 预处理后的特征维度: (8737, 304), 目标变量维度: (8737,)
2025-03-21 15:12:01,409 - 数据集划分完成，训练集: (7863, 304), 验证集: (874, 304)
2025-03-21 15:12:01,410 - 提取了 874 个验证集时间戳，用于时间加权评估
2025-03-21 15:12:01,410 - 执行特征工程，滞后特征数: 4...
2025-03-21 15:12:01,532 - 特征工程后的特征维度 - 训练集: (7860, 859), 验证集: (871, 859)
2025-03-21 15:12:01,532 - 数据标准化...
2025-03-21 15:12:01,610 - 数据标准化完成
2025-03-21 15:12:01,610 - 创建时间窗口，窗口大小: 16...
2025-03-21 15:12:01,764 - 时间窗口创建完成 - 训练集: (7845, 16, 859), 验证集: (856, 16, 859)
2025-03-21 15:12:01,764 - 调整时间戳长度以匹配窗口化后的验证集 - 原始长度: 874, 目标长度: 856
2025-03-21 15:12:01,764 - 时间戳已截断至匹配窗口化后的验证集长度: 856
2025-03-21 15:12:01,765 - 为3个月数据创建模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\3months
2025-03-21 15:12:01,765 - 开始训练3个月数据的模型...
2025-03-21 15:12:01,765 - 
--------------------------------------------------
【开始模型训练与评估】
--------------------------------------------------
2025-03-21 15:12:01,765 - 模型和 scaler 将被保存到目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\3months
2025-03-21 15:12:01,765 - 
--------------------------------------------------
【训练 GBDT 模型】
--------------------------------------------------
2025-03-21 15:12:01,765 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'gbdt', 'name': 'GBDT'}
2025-03-21 15:12:01,765 - 开始训练 GBDT 模型...
2025-03-21 15:12:14,043 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 15:12:14,043 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 15:12:14,044 - 未找到GBDT模型文件
2025-03-21 15:12:14,044 - 未找到DART模型文件
2025-03-21 15:12:14,044 - 未找到GOSS模型文件
2025-03-21 15:12:14,044 - 未找到任何可用模型文件
2025-03-21 15:12:14,044 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 15:12:24,732 - GBDT 模型训练完成
2025-03-21 15:12:24,732 - 使用 GBDT 模型预测验证集...
2025-03-21 15:12:24,752 - 使用时间加权方式计算模型评分...
2025-03-21 15:12:24,760 - GBDT 评估结果 - RMSE: 53.7633, K: 0.6220, 加权评分: 0.7498
2025-03-21 15:12:24,760 - ✅ GBDT 成为当前最佳模型 (基于加权评分)
2025-03-21 15:12:24,771 - GBDT 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\3months\GBDT.joblib
2025-03-21 15:12:24,771 - 
--------------------------------------------------
【训练 DART 模型】
--------------------------------------------------
2025-03-21 15:12:24,771 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'dart', 'drop_rate': 0.1, 'name': 'DART'}
2025-03-21 15:12:24,772 - 开始训练 DART 模型...
2025-03-21 15:12:44,050 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 15:12:44,050 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 15:12:44,051 - 未找到GBDT模型文件
2025-03-21 15:12:44,051 - 未找到DART模型文件
2025-03-21 15:12:44,051 - 未找到GOSS模型文件
2025-03-21 15:12:44,051 - 未找到任何可用模型文件
2025-03-21 15:12:44,051 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 15:12:48,410 - DART 模型训练完成
2025-03-21 15:12:48,410 - 使用 DART 模型预测验证集...
2025-03-21 15:12:48,431 - 使用时间加权方式计算模型评分...
2025-03-21 15:12:48,434 - DART 评估结果 - RMSE: 60.1716, K: 0.7051, 加权评分: 0.7855
2025-03-21 15:12:48,434 - ✅ DART 成为当前最佳模型 (基于加权评分)
2025-03-21 15:12:48,441 - DART 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\3months\DART.joblib
2025-03-21 15:12:48,441 - 
--------------------------------------------------
【训练 GOSS 模型】
--------------------------------------------------
2025-03-21 15:12:48,441 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'goss', 'top_rate': 0.2, 'other_rate': 0.1, 'name': 'GOSS'}
2025-03-21 15:12:48,442 - 开始训练 GOSS 模型...
2025-03-21 15:13:09,712 - GOSS 模型训练完成
2025-03-21 15:13:09,712 - 使用 GOSS 模型预测验证集...
2025-03-21 15:13:09,739 - 使用时间加权方式计算模型评分...
2025-03-21 15:13:09,743 - GOSS 评估结果 - RMSE: 53.4696, K: 0.6275, 加权评分: 0.7529
2025-03-21 15:13:09,761 - GOSS 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\3months\GOSS.joblib
2025-03-21 15:13:09,764 - Scaler 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\3months\scaler.joblib
2025-03-21 15:13:09,771 - 最佳模型 'DART' 已额外保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\3months\model.joblib
2025-03-21 15:13:09,771 - 3个月数据的模型训练完成
2025-03-21 15:13:09,771 - 
--------------------------------------------------
【更新每种算法的最佳模型】
--------------------------------------------------
2025-03-21 15:13:09,771 - ✅ 发现更好的GBDT模型 (来自3个月数据)
2025-03-21 15:13:09,771 -    新评分: 0.7498, 旧评分: 0.6447
2025-03-21 15:13:09,771 - ✅ 发现更好的DART模型 (来自3个月数据)
2025-03-21 15:13:09,771 -    新评分: 0.7855, 旧评分: 0.7393
2025-03-21 15:13:09,771 - ✅ 发现更好的GOSS模型 (来自3个月数据)
2025-03-21 15:13:09,771 -    新评分: 0.7529, 旧评分: 0.6427
2025-03-21 15:13:09,772 - 
--------------------------------------------------
【训练数据集: 6个月】
--------------------------------------------------
2025-03-21 15:13:09,772 - 使用6个月的数据进行训练...
2025-03-21 15:13:09,772 - 过滤数据为最近6个月...
2025-03-21 15:13:09,785 - 过滤后的数据量: 17327
2025-03-21 15:13:09,785 - 对6个月数据进行预处理...
2025-03-21 15:13:09,799 - 预处理后的特征维度: (17327, 304), 目标变量维度: (17327,)
2025-03-21 15:13:09,801 - 数据集划分完成，训练集: (15594, 304), 验证集: (1733, 304)
2025-03-21 15:13:09,801 - 提取了 1733 个验证集时间戳，用于时间加权评估
2025-03-21 15:13:09,801 - 执行特征工程，滞后特征数: 4...
2025-03-21 15:13:09,952 - 特征工程后的特征维度 - 训练集: (15591, 859), 验证集: (1730, 859)
2025-03-21 15:13:09,952 - 数据标准化...
2025-03-21 15:13:10,110 - 数据标准化完成
2025-03-21 15:13:10,110 - 创建时间窗口，窗口大小: 16...
2025-03-21 15:13:10,443 - 时间窗口创建完成 - 训练集: (15576, 16, 859), 验证集: (1715, 16, 859)
2025-03-21 15:13:10,443 - 调整时间戳长度以匹配窗口化后的验证集 - 原始长度: 1733, 目标长度: 1715
2025-03-21 15:13:10,443 - 时间戳已截断至匹配窗口化后的验证集长度: 1715
2025-03-21 15:13:10,444 - 为6个月数据创建模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\6months
2025-03-21 15:13:10,444 - 开始训练6个月数据的模型...
2025-03-21 15:13:10,444 - 
--------------------------------------------------
【开始模型训练与评估】
--------------------------------------------------
2025-03-21 15:13:10,444 - 模型和 scaler 将被保存到目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\6months
2025-03-21 15:13:10,444 - 
--------------------------------------------------
【训练 GBDT 模型】
--------------------------------------------------
2025-03-21 15:13:10,444 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'gbdt', 'name': 'GBDT'}
2025-03-21 15:13:10,444 - 开始训练 GBDT 模型...
2025-03-21 15:13:14,060 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 15:13:14,060 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 15:13:14,060 - 未找到GBDT模型文件
2025-03-21 15:13:14,060 - 未找到DART模型文件
2025-03-21 15:13:14,060 - 未找到GOSS模型文件
2025-03-21 15:13:14,060 - 未找到任何可用模型文件
2025-03-21 15:13:14,061 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 15:13:44,084 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 15:13:44,084 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 15:13:44,084 - 未找到GBDT模型文件
2025-03-21 15:13:44,085 - 未找到DART模型文件
2025-03-21 15:13:44,085 - 未找到GOSS模型文件
2025-03-21 15:13:44,085 - 未找到任何可用模型文件
2025-03-21 15:13:44,085 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 15:14:10,737 - GBDT 模型训练完成
2025-03-21 15:14:10,737 - 使用 GBDT 模型预测验证集...
2025-03-21 15:14:10,783 - 使用时间加权方式计算模型评分...
2025-03-21 15:14:10,799 - GBDT 评估结果 - RMSE: 50.8665, K: 0.6900, 加权评分: 0.7872
2025-03-21 15:14:10,799 - ✅ GBDT 成为当前最佳模型 (基于加权评分)
2025-03-21 15:14:10,807 - GBDT 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\6months\GBDT.joblib
2025-03-21 15:14:10,807 - 
--------------------------------------------------
【训练 DART 模型】
--------------------------------------------------
2025-03-21 15:14:10,807 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'dart', 'drop_rate': 0.1, 'name': 'DART'}
2025-03-21 15:14:10,808 - 开始训练 DART 模型...
2025-03-21 15:14:14,101 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 15:14:14,101 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 15:14:14,101 - 未找到GBDT模型文件
2025-03-21 15:14:14,102 - 未找到DART模型文件
2025-03-21 15:14:14,102 - 未找到GOSS模型文件
2025-03-21 15:14:14,102 - 未找到任何可用模型文件
2025-03-21 15:14:14,102 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 15:14:44,107 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 15:14:44,107 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 15:14:44,108 - 未找到GBDT模型文件
2025-03-21 15:14:44,108 - 未找到DART模型文件
2025-03-21 15:14:44,108 - 未找到GOSS模型文件
2025-03-21 15:14:44,109 - 未找到任何可用模型文件
2025-03-21 15:14:44,109 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 15:15:14,132 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 15:15:14,133 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 15:15:14,133 - 未找到GBDT模型文件
2025-03-21 15:15:14,133 - 未找到DART模型文件
2025-03-21 15:15:14,134 - 未找到GOSS模型文件
2025-03-21 15:15:14,134 - 未找到任何可用模型文件
2025-03-21 15:15:14,134 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 15:15:35,526 - DART 模型训练完成
2025-03-21 15:15:35,527 - 使用 DART 模型预测验证集...
2025-03-21 15:15:35,620 - 使用时间加权方式计算模型评分...
2025-03-21 15:15:35,636 - DART 评估结果 - RMSE: 68.5842, K: 0.6994, 加权评分: 0.7739
2025-03-21 15:15:35,646 - DART 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\6months\DART.joblib
2025-03-21 15:15:35,646 - 
--------------------------------------------------
【训练 GOSS 模型】
--------------------------------------------------
2025-03-21 15:15:35,647 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'goss', 'top_rate': 0.2, 'other_rate': 0.1, 'name': 'GOSS'}
2025-03-21 15:15:35,647 - 开始训练 GOSS 模型...
2025-03-21 15:15:44,142 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 15:15:44,142 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 15:15:44,142 - 未找到GBDT模型文件
2025-03-21 15:15:44,143 - 未找到DART模型文件
2025-03-21 15:15:44,143 - 未找到GOSS模型文件
2025-03-21 15:15:44,143 - 未找到任何可用模型文件
2025-03-21 15:15:44,143 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 15:16:14,153 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 15:16:14,154 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 15:16:14,154 - 未找到GBDT模型文件
2025-03-21 15:16:14,154 - 未找到DART模型文件
2025-03-21 15:16:14,154 - 未找到GOSS模型文件
2025-03-21 15:16:14,155 - 未找到任何可用模型文件
2025-03-21 15:16:14,155 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 15:16:44,161 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 15:16:44,161 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 15:16:44,162 - 未找到GBDT模型文件
2025-03-21 15:16:44,162 - 未找到DART模型文件
2025-03-21 15:16:44,162 - 未找到GOSS模型文件
2025-03-21 15:16:44,162 - 未找到任何可用模型文件
2025-03-21 15:16:44,163 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 15:17:00,971 - GOSS 模型训练完成
2025-03-21 15:17:00,971 - 使用 GOSS 模型预测验证集...
2025-03-21 15:17:01,056 - 使用时间加权方式计算模型评分...
2025-03-21 15:17:01,071 - GOSS 评估结果 - RMSE: 49.3663, K: 0.6978, 加权评分: 0.7928
2025-03-21 15:17:01,071 - ✅ GOSS 成为当前最佳模型 (基于加权评分)
2025-03-21 15:17:01,089 - GOSS 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\6months\GOSS.joblib
2025-03-21 15:17:01,091 - Scaler 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\6months\scaler.joblib
2025-03-21 15:17:01,109 - 最佳模型 'GOSS' 已额外保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\6months\model.joblib
2025-03-21 15:17:01,109 - 6个月数据的模型训练完成
2025-03-21 15:17:01,109 - 
--------------------------------------------------
【更新每种算法的最佳模型】
--------------------------------------------------
2025-03-21 15:17:01,109 - ✅ 发现更好的GBDT模型 (来自6个月数据)
2025-03-21 15:17:01,109 -    新评分: 0.7872, 旧评分: 0.7498
2025-03-21 15:17:01,109 - ❌ 6个月数据的DART模型不是最佳模型
2025-03-21 15:17:01,109 -    当前评分: 0.7739, 最佳评分: 0.7855
2025-03-21 15:17:01,109 - ✅ 发现更好的GOSS模型 (来自6个月数据)
2025-03-21 15:17:01,110 -    新评分: 0.7928, 旧评分: 0.7529
2025-03-21 15:17:01,110 - 
--------------------------------------------------
【训练数据集: 9个月】
--------------------------------------------------
2025-03-21 15:17:01,110 - 使用9个月的数据进行训练...
2025-03-21 15:17:01,110 - 过滤数据为最近9个月...
2025-03-21 15:17:01,131 - 过滤后的数据量: 24928
2025-03-21 15:17:01,131 - 对9个月数据进行预处理...
2025-03-21 15:17:01,159 - 预处理后的特征维度: (24928, 304), 目标变量维度: (24928,)
2025-03-21 15:17:01,163 - 数据集划分完成，训练集: (22435, 304), 验证集: (2493, 304)
2025-03-21 15:17:01,163 - 提取了 2493 个验证集时间戳，用于时间加权评估
2025-03-21 15:17:01,163 - 执行特征工程，滞后特征数: 4...
2025-03-21 15:17:01,488 - 特征工程后的特征维度 - 训练集: (22432, 859), 验证集: (2490, 859)
2025-03-21 15:17:01,489 - 数据标准化...
2025-03-21 15:17:01,926 - 数据标准化完成
2025-03-21 15:17:01,926 - 创建时间窗口，窗口大小: 16...
2025-03-21 15:17:02,758 - 时间窗口创建完成 - 训练集: (22417, 16, 859), 验证集: (2475, 16, 859)
2025-03-21 15:17:02,758 - 调整时间戳长度以匹配窗口化后的验证集 - 原始长度: 2493, 目标长度: 2475
2025-03-21 15:17:02,758 - 时间戳已截断至匹配窗口化后的验证集长度: 2475
2025-03-21 15:17:02,759 - 为9个月数据创建模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\9months
2025-03-21 15:17:02,759 - 开始训练9个月数据的模型...
2025-03-21 15:17:02,759 - 
--------------------------------------------------
【开始模型训练与评估】
--------------------------------------------------
2025-03-21 15:17:02,760 - 模型和 scaler 将被保存到目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\9months
2025-03-21 15:17:02,760 - 
--------------------------------------------------
【训练 GBDT 模型】
--------------------------------------------------
2025-03-21 15:17:02,760 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'gbdt', 'name': 'GBDT'}
2025-03-21 15:17:02,760 - 开始训练 GBDT 模型...
2025-03-21 15:17:14,175 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 15:17:14,175 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 15:17:14,175 - 未找到GBDT模型文件
2025-03-21 15:17:14,176 - 未找到DART模型文件
2025-03-21 15:17:14,176 - 未找到GOSS模型文件
2025-03-21 15:17:14,176 - 未找到任何可用模型文件
2025-03-21 15:17:14,176 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 15:17:44,187 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 15:17:44,187 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 15:17:44,188 - 未找到GBDT模型文件
2025-03-21 15:17:44,188 - 未找到DART模型文件
2025-03-21 15:17:44,188 - 未找到GOSS模型文件
2025-03-21 15:17:44,188 - 未找到任何可用模型文件
2025-03-21 15:17:44,188 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 15:18:14,206 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 15:18:14,207 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 15:18:14,207 - 未找到GBDT模型文件
2025-03-21 15:18:14,207 - 未找到DART模型文件
2025-03-21 15:18:14,208 - 未找到GOSS模型文件
2025-03-21 15:18:14,208 - 未找到任何可用模型文件
2025-03-21 15:18:14,208 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 15:18:44,212 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 15:18:44,212 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 15:18:44,213 - 未找到GBDT模型文件
2025-03-21 15:18:44,213 - 未找到DART模型文件
2025-03-21 15:18:44,213 - 未找到GOSS模型文件
2025-03-21 15:18:44,214 - 未找到任何可用模型文件
2025-03-21 15:18:44,214 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 15:18:48,450 - GBDT 模型训练完成
2025-03-21 15:18:48,450 - 使用 GBDT 模型预测验证集...
2025-03-21 15:18:48,550 - 使用时间加权方式计算模型评分...
2025-03-21 15:18:48,572 - GBDT 评估结果 - RMSE: 48.8180, K: 0.6768, 加权评分: 0.7836
2025-03-21 15:18:48,572 - ✅ GBDT 成为当前最佳模型 (基于加权评分)
2025-03-21 15:18:48,586 - GBDT 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\9months\GBDT.joblib
2025-03-21 15:18:48,586 - 
--------------------------------------------------
【训练 DART 模型】
--------------------------------------------------
2025-03-21 15:18:48,586 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'dart', 'drop_rate': 0.1, 'name': 'DART'}
2025-03-21 15:18:48,586 - 开始训练 DART 模型...
2025-03-21 15:19:14,235 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 15:19:14,235 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 15:19:14,236 - 未找到GBDT模型文件
2025-03-21 15:19:14,236 - 未找到DART模型文件
2025-03-21 15:19:14,236 - 未找到GOSS模型文件
2025-03-21 15:19:14,236 - 未找到任何可用模型文件
2025-03-21 15:19:14,237 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 15:19:44,243 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 15:19:44,243 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 15:19:44,244 - 未找到GBDT模型文件
2025-03-21 15:19:44,244 - 未找到DART模型文件
2025-03-21 15:19:44,244 - 未找到GOSS模型文件
2025-03-21 15:19:44,244 - 未找到任何可用模型文件
2025-03-21 15:19:44,245 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 15:20:02,153 - DART 模型训练完成
2025-03-21 15:20:02,153 - 使用 DART 模型预测验证集...
2025-03-21 15:20:02,238 - 使用时间加权方式计算模型评分...
2025-03-21 15:20:02,260 - DART 评估结果 - RMSE: 61.0135, K: 0.7109, 加权评分: 0.7877
2025-03-21 15:20:02,261 - ✅ DART 成为当前最佳模型 (基于加权评分)
2025-03-21 15:20:02,273 - DART 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\9months\DART.joblib
2025-03-21 15:20:02,273 - 
--------------------------------------------------
【训练 GOSS 模型】
--------------------------------------------------
2025-03-21 15:20:02,273 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'goss', 'top_rate': 0.2, 'other_rate': 0.1, 'name': 'GOSS'}
2025-03-21 15:20:02,273 - 开始训练 GOSS 模型...
2025-03-21 15:20:14,254 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 15:20:14,254 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 15:20:14,255 - 未找到GBDT模型文件
2025-03-21 15:20:14,255 - 未找到DART模型文件
2025-03-21 15:20:14,255 - 未找到GOSS模型文件
2025-03-21 15:20:14,255 - 未找到任何可用模型文件
2025-03-21 15:20:14,255 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 15:20:42,173 - GOSS 模型训练完成
2025-03-21 15:20:42,173 - 使用 GOSS 模型预测验证集...
2025-03-21 15:20:42,288 - 使用时间加权方式计算模型评分...
2025-03-21 15:20:42,310 - GOSS 评估结果 - RMSE: 48.8096, K: 0.6796, 加权评分: 0.7852
2025-03-21 15:20:42,328 - GOSS 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\9months\GOSS.joblib
2025-03-21 15:20:42,329 - Scaler 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\9months\scaler.joblib
2025-03-21 15:20:42,337 - 最佳模型 'DART' 已额外保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\9months\model.joblib
2025-03-21 15:20:42,337 - 9个月数据的模型训练完成
2025-03-21 15:20:42,337 - 
--------------------------------------------------
【更新每种算法的最佳模型】
--------------------------------------------------
2025-03-21 15:20:42,337 - ❌ 9个月数据的GBDT模型不是最佳模型
2025-03-21 15:20:42,337 -    当前评分: 0.7836, 最佳评分: 0.7872
2025-03-21 15:20:42,337 - ✅ 发现更好的DART模型 (来自9个月数据)
2025-03-21 15:20:42,337 -    新评分: 0.7877, 旧评分: 0.7855
2025-03-21 15:20:42,337 - ❌ 9个月数据的GOSS模型不是最佳模型
2025-03-21 15:20:42,337 -    当前评分: 0.7852, 最佳评分: 0.7928
2025-03-21 15:20:42,337 - 
--------------------------------------------------
【训练数据集: 12个月】
--------------------------------------------------
2025-03-21 15:20:42,337 - 使用12个月的数据进行训练...
2025-03-21 15:20:42,337 - 过滤数据为最近12个月...
2025-03-21 15:20:42,364 - 过滤后的数据量: 33664
2025-03-21 15:20:42,364 - 对12个月数据进行预处理...
2025-03-21 15:20:42,402 - 预处理后的特征维度: (33664, 304), 目标变量维度: (33664,)
2025-03-21 15:20:42,408 - 数据集划分完成，训练集: (30297, 304), 验证集: (3367, 304)
2025-03-21 15:20:42,408 - 提取了 3367 个验证集时间戳，用于时间加权评估
2025-03-21 15:20:42,408 - 执行特征工程，滞后特征数: 4...
2025-03-21 15:20:42,661 - 特征工程后的特征维度 - 训练集: (30294, 859), 验证集: (3364, 859)
2025-03-21 15:20:42,661 - 数据标准化...
2025-03-21 15:20:42,941 - 数据标准化完成
2025-03-21 15:20:42,942 - 创建时间窗口，窗口大小: 16...
2025-03-21 15:20:43,695 - 时间窗口创建完成 - 训练集: (30279, 16, 859), 验证集: (3349, 16, 859)
2025-03-21 15:20:43,695 - 调整时间戳长度以匹配窗口化后的验证集 - 原始长度: 3367, 目标长度: 3349
2025-03-21 15:20:43,695 - 时间戳已截断至匹配窗口化后的验证集长度: 3349
2025-03-21 15:20:43,699 - 为12个月数据创建模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\12months
2025-03-21 15:20:43,699 - 开始训练12个月数据的模型...
2025-03-21 15:20:43,699 - 
--------------------------------------------------
【开始模型训练与评估】
--------------------------------------------------
2025-03-21 15:20:43,699 - 模型和 scaler 将被保存到目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\12months
2025-03-21 15:20:43,699 - 
--------------------------------------------------
【训练 GBDT 模型】
--------------------------------------------------
2025-03-21 15:20:43,699 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'gbdt', 'name': 'GBDT'}
2025-03-21 15:20:43,699 - 开始训练 GBDT 模型...
2025-03-21 15:20:44,261 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 15:20:44,261 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 15:20:44,261 - 未找到GBDT模型文件
2025-03-21 15:20:44,261 - 未找到DART模型文件
2025-03-21 15:20:44,261 - 未找到GOSS模型文件
2025-03-21 15:20:44,261 - 未找到任何可用模型文件
2025-03-21 15:20:44,261 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 15:21:14,272 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 15:21:14,273 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 15:21:14,273 - 未找到GBDT模型文件
2025-03-21 15:21:14,273 - 未找到DART模型文件
2025-03-21 15:21:14,274 - 未找到GOSS模型文件
2025-03-21 15:21:14,274 - 未找到任何可用模型文件
2025-03-21 15:21:14,274 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 15:21:39,483 - GBDT 模型训练完成
2025-03-21 15:21:39,483 - 使用 GBDT 模型预测验证集...
2025-03-21 15:21:39,668 - 使用时间加权方式计算模型评分...
2025-03-21 15:21:39,679 - GBDT 评估结果 - RMSE: 45.8674, K: 0.7136, 加权评分: 0.8056
2025-03-21 15:21:39,679 - ✅ GBDT 成为当前最佳模型 (基于加权评分)
2025-03-21 15:21:39,690 - GBDT 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\12months\GBDT.joblib
2025-03-21 15:21:39,690 - 
--------------------------------------------------
【训练 DART 模型】
--------------------------------------------------
2025-03-21 15:21:39,690 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'dart', 'drop_rate': 0.1, 'name': 'DART'}
2025-03-21 15:21:39,690 - 开始训练 DART 模型...
2025-03-21 15:21:44,283 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 15:21:44,284 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 15:21:44,284 - 未找到GBDT模型文件
2025-03-21 15:21:44,284 - 未找到DART模型文件
2025-03-21 15:21:44,284 - 未找到GOSS模型文件
2025-03-21 15:21:44,284 - 未找到任何可用模型文件
2025-03-21 15:21:44,285 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 15:22:14,300 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 15:22:14,300 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 15:22:14,300 - 未找到GBDT模型文件
2025-03-21 15:22:14,300 - 未找到DART模型文件
2025-03-21 15:22:14,300 - 未找到GOSS模型文件
2025-03-21 15:22:14,301 - 未找到任何可用模型文件
2025-03-21 15:22:14,301 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 15:22:41,809 - DART 模型训练完成
2025-03-21 15:22:41,809 - 使用 DART 模型预测验证集...
2025-03-21 15:22:42,092 - 使用时间加权方式计算模型评分...
2025-03-21 15:22:42,123 - DART 评估结果 - RMSE: 61.3973, K: 0.7155, 加权评分: 0.7898
2025-03-21 15:22:42,135 - DART 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\12months\DART.joblib
2025-03-21 15:22:42,135 - 
--------------------------------------------------
【训练 GOSS 模型】
--------------------------------------------------
2025-03-21 15:22:42,135 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'goss', 'top_rate': 0.2, 'other_rate': 0.1, 'name': 'GOSS'}
2025-03-21 15:22:42,136 - 开始训练 GOSS 模型...
2025-03-21 15:22:44,310 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 15:22:44,310 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 15:22:44,310 - 未找到GBDT模型文件
2025-03-21 15:22:44,311 - 未找到DART模型文件
2025-03-21 15:22:44,311 - 未找到GOSS模型文件
2025-03-21 15:22:44,311 - 未找到任何可用模型文件
2025-03-21 15:22:44,311 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 15:23:14,324 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 15:23:14,324 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 15:23:14,324 - 未找到GBDT模型文件
2025-03-21 15:23:14,324 - 未找到DART模型文件
2025-03-21 15:23:14,324 - 未找到GOSS模型文件
2025-03-21 15:23:14,324 - 未找到任何可用模型文件
2025-03-21 15:23:14,324 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 15:23:44,330 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 15:23:44,330 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 15:23:44,330 - 未找到GBDT模型文件
2025-03-21 15:23:44,330 - 未找到DART模型文件
2025-03-21 15:23:44,330 - 未找到GOSS模型文件
2025-03-21 15:23:44,331 - 未找到任何可用模型文件
2025-03-21 15:23:44,331 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 15:23:44,497 - GOSS 模型训练完成
2025-03-21 15:23:44,498 - 使用 GOSS 模型预测验证集...
2025-03-21 15:23:44,844 - 使用时间加权方式计算模型评分...
2025-03-21 15:23:44,860 - GOSS 评估结果 - RMSE: 46.6498, K: 0.7086, 加权评分: 0.8024
2025-03-21 15:23:44,877 - GOSS 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\12months\GOSS.joblib
2025-03-21 15:23:44,878 - Scaler 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\12months\scaler.joblib
2025-03-21 15:23:44,887 - 最佳模型 'GBDT' 已额外保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\12months\model.joblib
2025-03-21 15:23:44,887 - 12个月数据的模型训练完成
2025-03-21 15:23:44,887 - 
--------------------------------------------------
【更新每种算法的最佳模型】
--------------------------------------------------
2025-03-21 15:23:44,888 - ✅ 发现更好的GBDT模型 (来自12个月数据)
2025-03-21 15:23:44,888 -    新评分: 0.8056, 旧评分: 0.7872
2025-03-21 15:23:44,888 - ✅ 发现更好的DART模型 (来自12个月数据)
2025-03-21 15:23:44,888 -    新评分: 0.7898, 旧评分: 0.7877
2025-03-21 15:23:44,888 - ✅ 发现更好的GOSS模型 (来自12个月数据)
2025-03-21 15:23:44,888 -    新评分: 0.8024, 旧评分: 0.7928
2025-03-21 15:23:44,888 - 
--------------------------------------------------
【训练数据集: 全部数据】
--------------------------------------------------
2025-03-21 15:23:44,888 - 使用全部数据的数据进行训练...
2025-03-21 15:23:44,888 - 使用全部数据...
2025-03-21 15:23:44,894 - 过滤后的数据量: 38172
2025-03-21 15:23:44,894 - 对全部数据数据进行预处理...
2025-03-21 15:23:44,924 - 预处理后的特征维度: (38172, 304), 目标变量维度: (38172,)
2025-03-21 15:23:44,930 - 数据集划分完成，训练集: (34354, 304), 验证集: (3818, 304)
2025-03-21 15:23:44,930 - 提取了 3818 个验证集时间戳，用于时间加权评估
2025-03-21 15:23:44,930 - 执行特征工程，滞后特征数: 4...
2025-03-21 15:23:45,252 - 特征工程后的特征维度 - 训练集: (34351, 859), 验证集: (3815, 859)
2025-03-21 15:23:45,252 - 数据标准化...
2025-03-21 15:23:45,589 - 数据标准化完成
2025-03-21 15:23:45,590 - 创建时间窗口，窗口大小: 16...
2025-03-21 15:23:46,442 - 时间窗口创建完成 - 训练集: (34336, 16, 859), 验证集: (3800, 16, 859)
2025-03-21 15:23:46,442 - 调整时间戳长度以匹配窗口化后的验证集 - 原始长度: 3818, 目标长度: 3800
2025-03-21 15:23:46,442 - 时间戳已截断至匹配窗口化后的验证集长度: 3800
2025-03-21 15:23:46,446 - 为全部数据数据创建模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\all_data
2025-03-21 15:23:46,446 - 开始训练全部数据数据的模型...
2025-03-21 15:23:46,446 - 
--------------------------------------------------
【开始模型训练与评估】
--------------------------------------------------
2025-03-21 15:23:46,446 - 模型和 scaler 将被保存到目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\all_data
2025-03-21 15:23:46,446 - 
--------------------------------------------------
【训练 GBDT 模型】
--------------------------------------------------
2025-03-21 15:23:46,446 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'gbdt', 'name': 'GBDT'}
2025-03-21 15:23:46,447 - 开始训练 GBDT 模型...
2025-03-21 15:24:14,338 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 15:24:14,338 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 15:24:14,338 - 未找到GBDT模型文件
2025-03-21 15:24:14,338 - 未找到DART模型文件
2025-03-21 15:24:14,338 - 未找到GOSS模型文件
2025-03-21 15:24:14,338 - 未找到任何可用模型文件
2025-03-21 15:24:14,338 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 15:24:44,339 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 15:24:44,339 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 15:24:44,339 - 未找到GBDT模型文件
2025-03-21 15:24:44,340 - 未找到DART模型文件
2025-03-21 15:24:44,340 - 未找到GOSS模型文件
2025-03-21 15:24:44,340 - 未找到任何可用模型文件
2025-03-21 15:24:44,340 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 15:25:03,605 - GBDT 模型训练完成
2025-03-21 15:25:03,605 - 使用 GBDT 模型预测验证集...
2025-03-21 15:25:04,042 - 使用时间加权方式计算模型评分...
2025-03-21 15:25:04,076 - GBDT 评估结果 - RMSE: 46.2606, K: 0.6942, 加权评分: 0.7956
2025-03-21 15:25:04,076 - ✅ GBDT 成为当前最佳模型 (基于加权评分)
2025-03-21 15:25:04,089 - GBDT 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\all_data\GBDT.joblib
2025-03-21 15:25:04,090 - 
--------------------------------------------------
【训练 DART 模型】
--------------------------------------------------
2025-03-21 15:25:04,090 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'dart', 'drop_rate': 0.1, 'name': 'DART'}
2025-03-21 15:25:04,090 - 开始训练 DART 模型...
2025-03-21 15:25:14,356 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 15:25:14,357 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 15:25:14,357 - 未找到GBDT模型文件
2025-03-21 15:25:14,358 - 未找到DART模型文件
2025-03-21 15:25:14,358 - 未找到GOSS模型文件
2025-03-21 15:25:14,358 - 未找到任何可用模型文件
2025-03-21 15:25:14,358 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 15:25:44,362 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 15:25:44,362 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 15:25:44,362 - 未找到GBDT模型文件
2025-03-21 15:25:44,362 - 未找到DART模型文件
2025-03-21 15:25:44,362 - 未找到GOSS模型文件
2025-03-21 15:25:44,362 - 未找到任何可用模型文件
2025-03-21 15:25:44,363 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 15:26:14,378 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 15:26:14,378 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 15:26:14,379 - 未找到GBDT模型文件
2025-03-21 15:26:14,379 - 未找到DART模型文件
2025-03-21 15:26:14,379 - 未找到GOSS模型文件
2025-03-21 15:26:14,379 - 未找到任何可用模型文件
2025-03-21 15:26:14,379 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 15:26:24,430 - DART 模型训练完成
2025-03-21 15:26:24,430 - 使用 DART 模型预测验证集...
2025-03-21 15:26:24,929 - 使用时间加权方式计算模型评分...
2025-03-21 15:26:24,961 - DART 评估结果 - RMSE: 59.3663, K: 0.7118, 加权评分: 0.7903
2025-03-21 15:26:24,969 - DART 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\all_data\DART.joblib
2025-03-21 15:26:24,969 - 
--------------------------------------------------
【训练 GOSS 模型】
--------------------------------------------------
2025-03-21 15:26:24,969 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'goss', 'top_rate': 0.2, 'other_rate': 0.1, 'name': 'GOSS'}
2025-03-21 15:26:24,969 - 开始训练 GOSS 模型...
2025-03-21 15:26:44,390 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 15:26:44,390 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 15:26:44,390 - 未找到GBDT模型文件
2025-03-21 15:26:44,390 - 未找到DART模型文件
2025-03-21 15:26:44,390 - 未找到GOSS模型文件
2025-03-21 15:26:44,390 - 未找到任何可用模型文件
2025-03-21 15:26:44,390 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 15:27:14,399 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 15:27:14,399 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 15:27:14,399 - 未找到GBDT模型文件
2025-03-21 15:27:14,399 - 未找到DART模型文件
2025-03-21 15:27:14,399 - 未找到GOSS模型文件
2025-03-21 15:27:14,400 - 未找到任何可用模型文件
2025-03-21 15:27:14,400 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 15:27:43,470 - GOSS 模型训练完成
2025-03-21 15:27:43,470 - 使用 GOSS 模型预测验证集...
2025-03-21 15:27:44,053 - 使用时间加权方式计算模型评分...
2025-03-21 15:27:44,087 - GOSS 评估结果 - RMSE: 46.2717, K: 0.6971, 加权评分: 0.7970
2025-03-21 15:27:44,087 - ✅ GOSS 成为当前最佳模型 (基于加权评分)
2025-03-21 15:27:44,105 - GOSS 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\all_data\GOSS.joblib
2025-03-21 15:27:44,107 - Scaler 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\all_data\scaler.joblib
2025-03-21 15:27:44,119 - 最佳模型 'GOSS' 已额外保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\all_data\model.joblib
2025-03-21 15:27:44,120 - 全部数据数据的模型训练完成
2025-03-21 15:27:44,120 - 
--------------------------------------------------
【更新每种算法的最佳模型】
--------------------------------------------------
2025-03-21 15:27:44,120 - ❌ 全部数据数据的GBDT模型不是最佳模型
2025-03-21 15:27:44,120 -    当前评分: 0.7956, 最佳评分: 0.8056
2025-03-21 15:27:44,120 - ✅ 发现更好的DART模型 (来自全部数据数据)
2025-03-21 15:27:44,120 -    新评分: 0.7903, 旧评分: 0.7898
2025-03-21 15:27:44,120 - ❌ 全部数据数据的GOSS模型不是最佳模型
2025-03-21 15:27:44,120 -    当前评分: 0.7970, 最佳评分: 0.8024
2025-03-21 15:27:44,120 - 
--------------------------------------------------
【保存每种算法的最佳模型】
--------------------------------------------------
2025-03-21 15:27:44,131 - 最佳GBDT模型 (使用12个月数据) 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models\GBDT.joblib
2025-03-21 15:27:44,131 - RMSE: 45.8674, K: 0.7136, 评分: 0.8056
2025-03-21 15:27:44,143 - 最佳DART模型 (使用全部数据数据) 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models\DART.joblib
2025-03-21 15:27:44,143 - RMSE: 59.3663, K: 0.7118, 评分: 0.7903
2025-03-21 15:27:44,157 - 最佳GOSS模型 (使用12个月数据) 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models\GOSS.joblib
2025-03-21 15:27:44,157 - RMSE: 46.6498, K: 0.7086, 评分: 0.8024
2025-03-21 15:27:44,469 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 15:27:44,469 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 15:27:44,469 - 发现GBDT模型文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models\GBDT.joblib
2025-03-21 15:27:44,469 - ✅ 发现新的预测文件：D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv\20250321.csv，执行预测...
2025-03-21 15:27:44,474 - 多数据集训练完成! 已为每种算法选择最佳模型
2025-03-21 15:27:44,474 -   - 最佳GBDT模型: 使用12个月数据, RMSE=45.8674, K=0.7136, 评分=0.8056
2025-03-21 15:27:44,474 -   - 最佳DART模型: 使用全部数据数据, RMSE=59.3663, K=0.7118, 评分=0.7903
2025-03-21 15:27:44,474 -   - 最佳GOSS模型: 使用12个月数据, RMSE=46.6498, K=0.7086, 评分=0.8024
2025-03-21 15:27:44,474 - 
================================================================================
2025-03-21 15:27:44,474 - >>> 开始计算模型权重 <<<
2025-03-21 15:27:44,474 - ================================================================================

2025-03-21 15:27:44,474 - 开始计算模型权重
2025-03-21 15:27:44,474 - 从训练数据集中提取最后三天数据进行权重优化
2025-03-21 15:27:44,476 - ✅ 已从训练数据集提取最后三天数据，共 289 条记录
2025-03-21 15:27:44,476 - 开始计算最优模型权重...
2025-03-21 15:27:44,476 - 
--------------------------------------------------
【计算模型权重】
--------------------------------------------------
2025-03-21 15:27:44,514 - 加载最佳模型和对应的scaler...
2025-03-21 15:27:44,514 - ✅ 已加载 GBDT 模型和scaler
2025-03-21 15:27:44,514 - ✅ 已加载 DART 模型和scaler
2025-03-21 15:27:44,514 - ✅ 已加载 GOSS 模型和scaler
2025-03-21 15:27:44,514 - 预处理验证数据，共 289 条记录...
2025-03-21 15:27:44,517 - 验证数据预处理完成，特征维度: (289, 304)
2025-03-21 15:27:44,552 - 验证数据特征工程完成，特征维度: (286, 859)
2025-03-21 15:27:44,553 - 使用各模型进行预测...
2025-03-21 15:27:44,560 - 使用 GBDT 模型预测...
2025-03-21 15:27:44,608 - ✅ GBDT 模型预测完成，预测结果数量: 271
2025-03-21 15:27:44,621 - 使用 DART 模型预测...
2025-03-21 15:27:44,664 - ✅ DART 模型预测完成，预测结果数量: 271
2025-03-21 15:27:44,680 - 使用 GOSS 模型预测...
2025-03-21 15:27:44,723 - ✅ GOSS 模型预测完成，预测结果数量: 271
2025-03-21 15:27:44,723 - 对齐预测结果，使用最小长度: 271
2025-03-21 15:27:44,723 - 创建线性回归的特征矩阵 (271, 3) 和目标向量 (271,)
2025-03-21 15:27:44,723 - 训练线性回归模型计算最优权重...
2025-03-21 15:27:44,725 - 线性回归得到的原始权重: {'GBDT': np.float64(0.0), 'DART': np.float64(0.0), 'GOSS': np.float64(0.9412332847824944)}
2025-03-21 15:27:44,725 - 归一化后的权重: {'GBDT': np.float64(0.0), 'DART': np.float64(0.0), 'GOSS': np.float64(1.0)}
2025-03-21 15:27:44,725 - 最终计算的模型权重: {'GBDT': np.float64(0.0), 'DART': np.float64(0.0), 'GOSS': np.float64(1.0)}
2025-03-21 15:27:44,730 - 计算得到的最优权重: {'GBDT': np.float64(0.0), 'DART': np.float64(0.0), 'GOSS': np.float64(1.0)}
2025-03-21 15:27:44,731 - 模型权重已保存到: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\model_weights.joblib
2025-03-21 15:27:44,756 - 
============================================================
【风电功率预测开始】
============================================================
2025-03-21 15:27:44,756 - 配置信息:
2025-03-21 15:27:44,756 -   - 数据文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv\20250321.csv
2025-03-21 15:27:44,756 -   - 模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 15:27:44,757 -   - 窗口大小: 16
2025-03-21 15:27:44,757 -   - 滞后特征数: 4
2025-03-21 15:27:44,757 - ✅ 训练完成，已创建标志文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\20250321_train_done.flag
2025-03-21 15:27:44,757 - 
============================================================
【预处理新数据】
============================================================
2025-03-21 15:27:44,757 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 15:27:44,757 - 加载数据文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv\20250321.csv
2025-03-21 15:27:44,758 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 15:27:44,758 - 发现GBDT模型文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models\GBDT.joblib
2025-03-21 15:27:44,758 - ✅ 模型已成功保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321，模型可用。
2025-03-21 15:27:44,774 - 数据加载完成，去除缺失值后共 109 条记录
2025-03-21 15:27:44,849 - 数据前5行预览:
         Timestamp    129.128_1    129.128_2  ...  ws200_13   ws200_14   ws200_15
0  2024/4/16 20:00  15974.26563  16293.82813  ...  9.541195  10.863499  12.404554
1  2024/4/16 20:15  15974.26563  16293.82813  ...  9.280917  10.585079  12.259521
2  2024/4/16 20:30  15974.26563  16293.82813  ...  9.020693  10.307371  12.115601
3  2024/4/16 20:45  15974.26563  16293.82813  ...  8.760527  10.030434  11.972834
4  2024/4/16 21:00  15974.26563  16293.82813  ...  8.500424   9.754334  11.831263

[5 rows x 301 columns]
2025-03-21 15:27:44,849 - 预处理数据...
2025-03-21 15:27:44,851 - 预处理完成，特征维度: (109, 304)
2025-03-21 15:27:44,852 - 执行特征工程，滞后特征数: 4...
2025-03-21 15:27:44,884 - 特征工程完成，特征维度: (106, 859)
2025-03-21 15:27:44,884 - 新数据预处理完成，共 106 个样本
2025-03-21 15:27:44,884 - ✅ 发现最佳模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models，尝试使用多模型加权预测
2025-03-21 15:27:44,884 - 
============================================================
【加载多个模型】
============================================================
2025-03-21 15:27:44,884 - 从目录加载模型和 scaler: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 15:27:44,885 - 加载 GBDT 模型和 scaler...
2025-03-21 15:27:44,894 - ✅ 已成功加载 GBDT 模型和对应的 scaler
2025-03-21 15:27:44,894 - 加载 DART 模型和 scaler...
2025-03-21 15:27:44,902 - ✅ 已成功加载 DART 模型和对应的 scaler
2025-03-21 15:27:44,903 - 加载 GOSS 模型和 scaler...
2025-03-21 15:27:44,909 - ✅ 已成功加载 GOSS 模型和对应的 scaler
2025-03-21 15:27:44,909 - 加载完成，共加载了 3 个模型: GBDT, DART, GOSS
2025-03-21 15:27:44,909 - 尝试加载模型权重文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\model_weights.joblib
2025-03-21 15:27:44,910 - ✅ 已加载模型权重: {'GBDT': np.float64(0.0), 'DART': np.float64(0.0), 'GOSS': np.float64(1.0)}
2025-03-21 15:27:44,910 - 
============================================================
【使用多模型加权预测】
============================================================
2025-03-21 15:27:44,910 - 使用自定义权重: {'GBDT': np.float64(0.0), 'DART': np.float64(0.0), 'GOSS': np.float64(1.0)}
2025-03-21 15:27:44,910 - ❌ GBDT 模型权重为0，跳过
2025-03-21 15:27:44,910 - ❌ DART 模型权重为0，跳过
2025-03-21 15:27:44,910 - 使用 GOSS 模型进行预测 (权重: 1.0000)...
2025-03-21 15:27:44,913 - GOSS: 数据标准化完成
2025-03-21 15:27:44,915 - GOSS: 时间窗口创建完成，窗口数量: 91
2025-03-21 15:27:44,931 - ✅ GOSS 模型预测完成，生成了 91 个预测值
2025-03-21 15:27:44,932 -    统计: 最小值=180.04, 最大值=286.40, 平均值=224.81
2025-03-21 15:27:44,932 - 所有预测结果对齐到最小长度: 91
2025-03-21 15:27:44,932 - 开始计算加权平均预测结果...
2025-03-21 15:27:44,932 -   加入 GOSS 模型贡献 (权重: 1.0000)
2025-03-21 15:27:44,932 - 加权平均预测完成，生成了 91 个预测值
2025-03-21 15:27:44,932 - 加权预测结果统计: 最小值=180.04, 最大值=286.40, 平均值=224.81
2025-03-21 15:27:44,933 - ✅ 多模型加权预测完成，使用模型: GBDT, DART, GOSS
2025-03-21 15:27:44,933 - 
============================================================
【保存预测结果】
============================================================
2025-03-21 15:27:44,934 - 创建输出目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\results\shortresult\20250321
2025-03-21 15:27:44,934 - 预测结果数据框创建完成，共 91 行
2025-03-21 15:27:44,936 - ✅ 预测结果已保存到文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\results\shortresult\20250321\20250321.csv
2025-03-21 15:27:44,936 - 尝试将预测结果导入数据库...
2025-03-21 15:27:44,936 - 发送HTTP请求到: http://localhost:5000/prediction2database/batch_shortl_power
2025-03-21 15:27:49,025 - ❌ 调用数据库接口失败: HTTPConnectionPool(host='localhost', port=5000): Max retries exceeded with url: /prediction2database/batch_shortl_power (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x0000000000A35640>: Failed to establish a new connection: [WinError 10061] 由于目标计算机积极拒绝，无法连接。'))
2025-03-21 15:27:49,026 - ✅ 预测结果已保存到: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\results\shortresult\20250321\20250321.csv
2025-03-21 15:27:49,032 - ✅ 创建预测完成标志文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\results\shortresult\20250321\20250321_predict_done.flag
2025-03-21 15:27:49,032 - 
============================================================
【风电功率预测完成】
============================================================
2025-03-21 15:27:49,032 - 风电功率预测完成
2025-03-21 15:27:49,032 - ✅ 预测执行完成
2025-03-21 15:27:49,033 - 
================================================================================
2025-03-21 15:27:49,033 - >>> 系统任务完成 <<<
2025-03-21 15:27:49,033 - ================================================================================

2025-03-21 15:27:49,033 - 系统任务完成
2025-03-21 15:27:49,033 - 今天的训练和预测任务已完成。
2025-03-21 16:10:08,894 - 
================================================================================
2025-03-21 16:10:08,894 - >>> 自动训练预测系统启动 <<<
2025-03-21 16:10:08,894 - ================================================================================

2025-03-21 16:10:08,894 - 自动训练预测系统启动
2025-03-21 16:10:08,895 - 今天的日期是: 20250321
2025-03-21 16:10:08,895 - 创建监视线程...
2025-03-21 16:10:08,895 - 启动训练线程...
2025-03-21 16:10:08,895 - 启动预测线程...
2025-03-21 16:10:08,895 - 
================================================================================
2025-03-21 16:10:08,895 - >>> 启动训练监视线程 <<<
2025-03-21 16:10:08,896 - ================================================================================

2025-03-21 16:10:08,896 - 启动训练监视线程
2025-03-21 16:10:08,896 - 等待线程完成...
2025-03-21 16:10:08,896 - 
================================================================================
2025-03-21 16:10:08,896 - >>> 启动预测监视线程 <<<
2025-03-21 16:10:08,896 - 训练文件路径: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short\20250321.csv
2025-03-21 16:10:08,896 - ================================================================================

2025-03-21 16:10:08,896 - 模型存储目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 16:10:08,896 - 启动预测监视线程
2025-03-21 16:10:08,896 - 训练完成标志文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\20250321_train_done.flag
2025-03-21 16:10:08,896 - 开始监视 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short 文件夹以进行训练...
2025-03-21 16:10:08,896 - 预测数据文件路径: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv\20250321.csv
2025-03-21 16:10:08,897 - 模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 16:10:08,897 - 预测完成标志文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\results\shortresult\20250321\20250321_predict_done.flag
2025-03-21 16:10:08,897 - ✅ 发现新的训练文件：D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short\20250321.csv，执行训练...
2025-03-21 16:10:08,897 - 开始监视 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv 文件夹以进行预测...
2025-03-21 16:10:08,897 - 
================================================================================
2025-03-21 16:10:08,897 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 16:10:08,897 - >>> 开始模型训练 <<<
2025-03-21 16:10:08,897 - ================================================================================

2025-03-21 16:10:08,897 - 未找到best_models目录，检查传统模型文件
2025-03-21 16:10:08,897 - 配置信息:
2025-03-21 16:10:08,897 - 未找到任何可用模型文件
2025-03-21 16:10:08,898 -   - 窗口大小: 16
2025-03-21 16:10:08,898 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 16:10:08,898 -   - 滞后特征数: 4
2025-03-21 16:10:08,898 -   - 训练集比例: 0.9
2025-03-21 16:10:08,898 -   - 输出目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\train_predictions\short_predictions
2025-03-21 16:10:08,898 -   - 模型存储路径: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 16:10:08,898 - 输出结果将保存到: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\train_predictions\short_predictions
2025-03-21 16:10:08,898 - 
================================================================================
2025-03-21 16:10:08,898 - >>> 数据加载与预处理 <<<
2025-03-21 16:10:08,898 - ================================================================================

2025-03-21 16:10:08,898 - 加载数据文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short\20250321.csv
2025-03-21 16:10:08,898 - 开始加载和预处理数据...
2025-03-21 16:10:09,224 - 数据加载完成，共 15294 条记录
2025-03-21 16:10:09,244 - 数据前5行预览: 
         Timestamp    129.128_1    129.128_2  ...  ws200_15  wp_true    ws_all
0  2023/11/8 21:45  15974.26563  16293.82813  ...  6.673899   222.28  7.983189
1  2023/11/8 22:00  15974.26563  16293.82813  ...  6.606531   229.29  8.071361
2  2023/11/8 22:15  15974.26563  16293.82813  ...  6.518705   237.56  8.174266
3  2023/11/8 22:30  15974.26563  16293.82813  ...  6.432374   232.26  8.108436
4  2023/11/8 22:45  15974.26563  16293.82813  ...  6.347599   216.93  7.915157

[5 rows x 303 columns]
2025-03-21 16:10:09,244 - 将使用以下时间段训练模型: [1, 3, 6, 9, 12, None]
2025-03-21 16:10:09,244 - 
================================================================================
2025-03-21 16:10:09,244 - >>> 开始多数据集训练 <<<
2025-03-21 16:10:09,244 - ================================================================================

2025-03-21 16:10:09,244 - 将使用多种时间跨度的数据训练模型...
2025-03-21 16:10:09,244 - 
--------------------------------------------------
【使用多个数据集训练模型】
--------------------------------------------------
2025-03-21 16:10:09,245 - 最佳模型将保存到: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 16:10:09,245 - 获取统一参数成功，包含 3 种模型类型
2025-03-21 16:10:09,245 - 
--------------------------------------------------
【训练数据集: 1个月】
--------------------------------------------------
2025-03-21 16:10:09,245 - 使用1个月的数据进行训练...
2025-03-21 16:10:09,245 - 过滤数据为最近1个月...
2025-03-21 16:10:09,254 - 过滤后的数据量: 2977
2025-03-21 16:10:09,254 - 对1个月数据进行预处理...
2025-03-21 16:10:09,258 - 预处理后的特征维度: (2977, 304), 目标变量维度: (2977,)
2025-03-21 16:10:09,258 - 数据集划分完成，训练集: (2679, 304), 验证集: (298, 304)
2025-03-21 16:10:09,258 - 提取了 298 个验证集时间戳，用于时间加权评估
2025-03-21 16:10:09,258 - 执行特征工程，滞后特征数: 4...
2025-03-21 16:10:09,307 - 特征工程后的特征维度 - 训练集: (2676, 859), 验证集: (295, 859)
2025-03-21 16:10:09,307 - 数据标准化...
2025-03-21 16:10:09,338 - 数据标准化完成
2025-03-21 16:10:09,338 - 创建时间窗口，窗口大小: 16...
2025-03-21 16:10:09,387 - 时间窗口创建完成 - 训练集: (2661, 16, 859), 验证集: (280, 16, 859)
2025-03-21 16:10:09,387 - 调整时间戳长度以匹配窗口化后的验证集 - 原始长度: 298, 目标长度: 280
2025-03-21 16:10:09,387 - 时间戳已截断至匹配窗口化后的验证集长度: 280
2025-03-21 16:10:09,388 - 为1个月数据创建模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\1months
2025-03-21 16:10:09,388 - 开始训练1个月数据的模型...
2025-03-21 16:10:09,388 - 
--------------------------------------------------
【开始模型训练与评估】
--------------------------------------------------
2025-03-21 16:10:09,388 - 模型和 scaler 将被保存到目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\1months
2025-03-21 16:10:09,388 - 
--------------------------------------------------
【训练 GBDT 模型】
--------------------------------------------------
2025-03-21 16:10:09,388 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'gbdt', 'name': 'GBDT'}
2025-03-21 16:10:09,388 - 开始训练 GBDT 模型...
2025-03-21 16:10:25,567 - GBDT 模型训练完成
2025-03-21 16:10:25,567 - 使用 GBDT 模型预测验证集...
2025-03-21 16:10:25,574 - 使用时间加权方式计算模型评分...
2025-03-21 16:10:25,576 - GBDT 评估结果 - RMSE: 68.3078, K: 0.4502, 加权评分: 0.6447
2025-03-21 16:10:25,576 - ✅ GBDT 成为当前最佳模型 (基于加权评分)
2025-03-21 16:10:25,584 - GBDT 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\1months\GBDT.joblib
2025-03-21 16:10:25,585 - 
--------------------------------------------------
【训练 DART 模型】
--------------------------------------------------
2025-03-21 16:10:25,585 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'dart', 'drop_rate': 0.1, 'name': 'DART'}
2025-03-21 16:10:25,585 - 开始训练 DART 模型...
2025-03-21 16:10:38,903 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 16:10:38,903 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 16:10:38,903 - 未找到GBDT模型文件
2025-03-21 16:10:38,903 - 未找到DART模型文件
2025-03-21 16:10:38,904 - 未找到GOSS模型文件
2025-03-21 16:10:38,904 - 未找到任何可用模型文件
2025-03-21 16:10:38,904 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 16:10:41,632 - DART 模型训练完成
2025-03-21 16:10:41,632 - 使用 DART 模型预测验证集...
2025-03-21 16:10:41,638 - 使用时间加权方式计算模型评分...
2025-03-21 16:10:41,639 - DART 评估结果 - RMSE: 62.7504, K: 0.6220, 加权评分: 0.7393
2025-03-21 16:10:41,639 - ✅ DART 成为当前最佳模型 (基于加权评分)
2025-03-21 16:10:41,646 - DART 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\1months\DART.joblib
2025-03-21 16:10:41,646 - 
--------------------------------------------------
【训练 GOSS 模型】
--------------------------------------------------
2025-03-21 16:10:41,646 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'goss', 'top_rate': 0.2, 'other_rate': 0.1, 'name': 'GOSS'}
2025-03-21 16:10:41,647 - 开始训练 GOSS 模型...
2025-03-21 16:10:54,603 - GOSS 模型训练完成
2025-03-21 16:10:54,603 - 使用 GOSS 模型预测验证集...
2025-03-21 16:10:54,611 - 使用时间加权方式计算模型评分...
2025-03-21 16:10:54,612 - GOSS 评估结果 - RMSE: 68.2680, K: 0.4465, 加权评分: 0.6427
2025-03-21 16:10:54,630 - GOSS 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\1months\GOSS.joblib
2025-03-21 16:10:54,631 - Scaler 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\1months\scaler.joblib
2025-03-21 16:10:54,639 - 最佳模型 'DART' 已额外保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\1months\model.joblib
2025-03-21 16:10:54,639 - 1个月数据的模型训练完成
2025-03-21 16:10:54,639 - 
--------------------------------------------------
【更新每种算法的最佳模型】
--------------------------------------------------
2025-03-21 16:10:54,639 - ✅ 发现更好的GBDT模型 (来自1个月数据)
2025-03-21 16:10:54,640 -    新评分: 0.6447, 旧评分: -inf
2025-03-21 16:10:54,640 - ✅ 发现更好的DART模型 (来自1个月数据)
2025-03-21 16:10:54,640 -    新评分: 0.7393, 旧评分: -inf
2025-03-21 16:10:54,640 - ✅ 发现更好的GOSS模型 (来自1个月数据)
2025-03-21 16:10:54,640 -    新评分: 0.6427, 旧评分: -inf
2025-03-21 16:10:54,640 - 
--------------------------------------------------
【训练数据集: 3个月】
--------------------------------------------------
2025-03-21 16:10:54,640 - 使用3个月的数据进行训练...
2025-03-21 16:10:54,640 - 过滤数据为最近3个月...
2025-03-21 16:10:54,648 - 过滤后的数据量: 8737
2025-03-21 16:10:54,648 - 对3个月数据进行预处理...
2025-03-21 16:10:54,657 - 预处理后的特征维度: (8737, 304), 目标变量维度: (8737,)
2025-03-21 16:10:54,657 - 数据集划分完成，训练集: (7863, 304), 验证集: (874, 304)
2025-03-21 16:10:54,658 - 提取了 874 个验证集时间戳，用于时间加权评估
2025-03-21 16:10:54,658 - 执行特征工程，滞后特征数: 4...
2025-03-21 16:10:54,766 - 特征工程后的特征维度 - 训练集: (7860, 859), 验证集: (871, 859)
2025-03-21 16:10:54,767 - 数据标准化...
2025-03-21 16:10:54,853 - 数据标准化完成
2025-03-21 16:10:54,853 - 创建时间窗口，窗口大小: 16...
2025-03-21 16:10:55,004 - 时间窗口创建完成 - 训练集: (7845, 16, 859), 验证集: (856, 16, 859)
2025-03-21 16:10:55,004 - 调整时间戳长度以匹配窗口化后的验证集 - 原始长度: 874, 目标长度: 856
2025-03-21 16:10:55,004 - 时间戳已截断至匹配窗口化后的验证集长度: 856
2025-03-21 16:10:55,004 - 为3个月数据创建模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\3months
2025-03-21 16:10:55,004 - 开始训练3个月数据的模型...
2025-03-21 16:10:55,004 - 
--------------------------------------------------
【开始模型训练与评估】
--------------------------------------------------
2025-03-21 16:10:55,004 - 模型和 scaler 将被保存到目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\3months
2025-03-21 16:10:55,005 - 
--------------------------------------------------
【训练 GBDT 模型】
--------------------------------------------------
2025-03-21 16:10:55,005 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'gbdt', 'name': 'GBDT'}
2025-03-21 16:10:55,005 - 开始训练 GBDT 模型...
2025-03-21 16:11:08,909 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 16:11:08,909 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 16:11:08,909 - 未找到GBDT模型文件
2025-03-21 16:11:08,910 - 未找到DART模型文件
2025-03-21 16:11:08,910 - 未找到GOSS模型文件
2025-03-21 16:11:08,910 - 未找到任何可用模型文件
2025-03-21 16:11:08,910 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 16:11:17,579 - GBDT 模型训练完成
2025-03-21 16:11:17,580 - 使用 GBDT 模型预测验证集...
2025-03-21 16:11:17,599 - 使用时间加权方式计算模型评分...
2025-03-21 16:11:17,605 - GBDT 评估结果 - RMSE: 53.7633, K: 0.6220, 加权评分: 0.7498
2025-03-21 16:11:17,605 - ✅ GBDT 成为当前最佳模型 (基于加权评分)
2025-03-21 16:11:17,616 - GBDT 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\3months\GBDT.joblib
2025-03-21 16:11:17,616 - 
--------------------------------------------------
【训练 DART 模型】
--------------------------------------------------
2025-03-21 16:11:17,617 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'dart', 'drop_rate': 0.1, 'name': 'DART'}
2025-03-21 16:11:17,617 - 开始训练 DART 模型...
2025-03-21 16:11:38,917 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 16:11:38,918 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 16:11:38,918 - 未找到GBDT模型文件
2025-03-21 16:11:38,919 - 未找到DART模型文件
2025-03-21 16:11:38,919 - 未找到GOSS模型文件
2025-03-21 16:11:38,919 - 未找到任何可用模型文件
2025-03-21 16:11:38,919 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 16:11:40,847 - DART 模型训练完成
2025-03-21 16:11:40,847 - 使用 DART 模型预测验证集...
2025-03-21 16:11:40,869 - 使用时间加权方式计算模型评分...
2025-03-21 16:11:40,873 - DART 评估结果 - RMSE: 60.1716, K: 0.7051, 加权评分: 0.7855
2025-03-21 16:11:40,873 - ✅ DART 成为当前最佳模型 (基于加权评分)
2025-03-21 16:11:40,885 - DART 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\3months\DART.joblib
2025-03-21 16:11:40,886 - 
--------------------------------------------------
【训练 GOSS 模型】
--------------------------------------------------
2025-03-21 16:11:40,886 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'goss', 'top_rate': 0.2, 'other_rate': 0.1, 'name': 'GOSS'}
2025-03-21 16:11:40,886 - 开始训练 GOSS 模型...
2025-03-21 16:12:01,627 - GOSS 模型训练完成
2025-03-21 16:12:01,627 - 使用 GOSS 模型预测验证集...
2025-03-21 16:12:01,651 - 使用时间加权方式计算模型评分...
2025-03-21 16:12:01,657 - GOSS 评估结果 - RMSE: 53.4696, K: 0.6275, 加权评分: 0.7529
2025-03-21 16:12:01,673 - GOSS 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\3months\GOSS.joblib
2025-03-21 16:12:01,675 - Scaler 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\3months\scaler.joblib
2025-03-21 16:12:01,683 - 最佳模型 'DART' 已额外保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\3months\model.joblib
2025-03-21 16:12:01,683 - 3个月数据的模型训练完成
2025-03-21 16:12:01,683 - 
--------------------------------------------------
【更新每种算法的最佳模型】
--------------------------------------------------
2025-03-21 16:12:01,683 - ✅ 发现更好的GBDT模型 (来自3个月数据)
2025-03-21 16:12:01,683 -    新评分: 0.7498, 旧评分: 0.6447
2025-03-21 16:12:01,683 - ✅ 发现更好的DART模型 (来自3个月数据)
2025-03-21 16:12:01,683 -    新评分: 0.7855, 旧评分: 0.7393
2025-03-21 16:12:01,684 - ✅ 发现更好的GOSS模型 (来自3个月数据)
2025-03-21 16:12:01,684 -    新评分: 0.7529, 旧评分: 0.6427
2025-03-21 16:12:01,684 - 
--------------------------------------------------
【训练数据集: 6个月】
--------------------------------------------------
2025-03-21 16:12:01,684 - 使用6个月的数据进行训练...
2025-03-21 16:12:01,684 - 过滤数据为最近6个月...
2025-03-21 16:12:01,692 - 过滤后的数据量: 15294
2025-03-21 16:12:01,692 - 对6个月数据进行预处理...
2025-03-21 16:12:01,705 - 预处理后的特征维度: (15294, 304), 目标变量维度: (15294,)
2025-03-21 16:12:01,706 - 数据集划分完成，训练集: (13764, 304), 验证集: (1530, 304)
2025-03-21 16:12:01,706 - 提取了 1530 个验证集时间戳，用于时间加权评估
2025-03-21 16:12:01,707 - 执行特征工程，滞后特征数: 4...
2025-03-21 16:12:01,833 - 特征工程后的特征维度 - 训练集: (13761, 859), 验证集: (1527, 859)
2025-03-21 16:12:01,833 - 数据标准化...
2025-03-21 16:12:01,961 - 数据标准化完成
2025-03-21 16:12:01,962 - 创建时间窗口，窗口大小: 16...
2025-03-21 16:12:02,287 - 时间窗口创建完成 - 训练集: (13746, 16, 859), 验证集: (1512, 16, 859)
2025-03-21 16:12:02,287 - 调整时间戳长度以匹配窗口化后的验证集 - 原始长度: 1530, 目标长度: 1512
2025-03-21 16:12:02,287 - 时间戳已截断至匹配窗口化后的验证集长度: 1512
2025-03-21 16:12:02,288 - 为6个月数据创建模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\6months
2025-03-21 16:12:02,288 - 开始训练6个月数据的模型...
2025-03-21 16:12:02,288 - 
--------------------------------------------------
【开始模型训练与评估】
--------------------------------------------------
2025-03-21 16:12:02,288 - 模型和 scaler 将被保存到目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\6months
2025-03-21 16:12:02,288 - 
--------------------------------------------------
【训练 GBDT 模型】
--------------------------------------------------
2025-03-21 16:12:02,288 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'gbdt', 'name': 'GBDT'}
2025-03-21 16:12:02,288 - 开始训练 GBDT 模型...
2025-03-21 16:12:08,922 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 16:12:08,922 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 16:12:08,922 - 未找到GBDT模型文件
2025-03-21 16:12:08,922 - 未找到DART模型文件
2025-03-21 16:12:08,922 - 未找到GOSS模型文件
2025-03-21 16:12:08,922 - 未找到任何可用模型文件
2025-03-21 16:12:08,922 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 16:12:33,551 - GBDT 模型训练完成
2025-03-21 16:12:33,552 - 使用 GBDT 模型预测验证集...
2025-03-21 16:12:33,592 - 使用时间加权方式计算模型评分...
2025-03-21 16:12:33,597 - GBDT 评估结果 - RMSE: 51.9599, K: 0.6630, 加权评分: 0.7723
2025-03-21 16:12:33,597 - ✅ GBDT 成为当前最佳模型 (基于加权评分)
2025-03-21 16:12:33,604 - GBDT 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\6months\GBDT.joblib
2025-03-21 16:12:33,604 - 
--------------------------------------------------
【训练 DART 模型】
--------------------------------------------------
2025-03-21 16:12:33,605 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'dart', 'drop_rate': 0.1, 'name': 'DART'}
2025-03-21 16:12:33,605 - 开始训练 DART 模型...
2025-03-21 16:12:38,938 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 16:12:38,938 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 16:12:38,938 - 未找到GBDT模型文件
2025-03-21 16:12:38,938 - 未找到DART模型文件
2025-03-21 16:12:38,938 - 未找到GOSS模型文件
2025-03-21 16:12:38,938 - 未找到任何可用模型文件
2025-03-21 16:12:38,939 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 16:13:05,942 - DART 模型训练完成
2025-03-21 16:13:05,942 - 使用 DART 模型预测验证集...
2025-03-21 16:13:05,981 - 使用时间加权方式计算模型评分...
2025-03-21 16:13:05,987 - DART 评估结果 - RMSE: 65.0217, K: 0.6982, 加权评分: 0.7771
2025-03-21 16:13:05,987 - ✅ DART 成为当前最佳模型 (基于加权评分)
2025-03-21 16:13:05,998 - DART 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\6months\DART.joblib
2025-03-21 16:13:05,999 - 
--------------------------------------------------
【训练 GOSS 模型】
--------------------------------------------------
2025-03-21 16:13:05,999 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'goss', 'top_rate': 0.2, 'other_rate': 0.1, 'name': 'GOSS'}
2025-03-21 16:13:05,999 - 开始训练 GOSS 模型...
2025-03-21 16:13:08,950 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 16:13:08,950 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 16:13:08,950 - 未找到GBDT模型文件
2025-03-21 16:13:08,950 - 未找到DART模型文件
2025-03-21 16:13:08,950 - 未找到GOSS模型文件
2025-03-21 16:13:08,950 - 未找到任何可用模型文件
2025-03-21 16:13:08,950 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 16:13:35,638 - GOSS 模型训练完成
2025-03-21 16:13:35,638 - 使用 GOSS 模型预测验证集...
2025-03-21 16:13:35,680 - 使用时间加权方式计算模型评分...
2025-03-21 16:13:35,686 - GOSS 评估结果 - RMSE: 52.3822, K: 0.6635, 加权评分: 0.7720
2025-03-21 16:13:35,698 - GOSS 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\6months\GOSS.joblib
2025-03-21 16:13:35,700 - Scaler 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\6months\scaler.joblib
2025-03-21 16:13:35,707 - 最佳模型 'DART' 已额外保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\6months\model.joblib
2025-03-21 16:13:35,708 - 6个月数据的模型训练完成
2025-03-21 16:13:35,708 - 
--------------------------------------------------
【更新每种算法的最佳模型】
--------------------------------------------------
2025-03-21 16:13:35,708 - ✅ 发现更好的GBDT模型 (来自6个月数据)
2025-03-21 16:13:35,708 -    新评分: 0.7723, 旧评分: 0.7498
2025-03-21 16:13:35,708 - ❌ 6个月数据的DART模型不是最佳模型
2025-03-21 16:13:35,708 -    当前评分: 0.7771, 最佳评分: 0.7855
2025-03-21 16:13:35,708 - ✅ 发现更好的GOSS模型 (来自6个月数据)
2025-03-21 16:13:35,708 -    新评分: 0.7720, 旧评分: 0.7529
2025-03-21 16:13:35,708 - 
--------------------------------------------------
【训练数据集: 9个月】
--------------------------------------------------
2025-03-21 16:13:35,708 - 使用9个月的数据进行训练...
2025-03-21 16:13:35,708 - 过滤数据为最近9个月...
2025-03-21 16:13:35,719 - 过滤后的数据量: 15294
2025-03-21 16:13:35,720 - 对9个月数据进行预处理...
2025-03-21 16:13:35,733 - 预处理后的特征维度: (15294, 304), 目标变量维度: (15294,)
2025-03-21 16:13:35,735 - 数据集划分完成，训练集: (13764, 304), 验证集: (1530, 304)
2025-03-21 16:13:35,735 - 提取了 1530 个验证集时间戳，用于时间加权评估
2025-03-21 16:13:35,736 - 执行特征工程，滞后特征数: 4...
2025-03-21 16:13:35,875 - 特征工程后的特征维度 - 训练集: (13761, 859), 验证集: (1527, 859)
2025-03-21 16:13:35,875 - 数据标准化...
2025-03-21 16:13:36,007 - 数据标准化完成
2025-03-21 16:13:36,007 - 创建时间窗口，窗口大小: 16...
2025-03-21 16:13:36,371 - 时间窗口创建完成 - 训练集: (13746, 16, 859), 验证集: (1512, 16, 859)
2025-03-21 16:13:36,371 - 调整时间戳长度以匹配窗口化后的验证集 - 原始长度: 1530, 目标长度: 1512
2025-03-21 16:13:36,371 - 时间戳已截断至匹配窗口化后的验证集长度: 1512
2025-03-21 16:13:36,372 - 为9个月数据创建模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\9months
2025-03-21 16:13:36,372 - 开始训练9个月数据的模型...
2025-03-21 16:13:36,372 - 
--------------------------------------------------
【开始模型训练与评估】
--------------------------------------------------
2025-03-21 16:13:36,372 - 模型和 scaler 将被保存到目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\9months
2025-03-21 16:13:36,372 - 
--------------------------------------------------
【训练 GBDT 模型】
--------------------------------------------------
2025-03-21 16:13:36,372 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'gbdt', 'name': 'GBDT'}
2025-03-21 16:13:36,372 - 开始训练 GBDT 模型...
2025-03-21 16:13:38,955 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 16:13:38,955 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 16:13:38,955 - 未找到GBDT模型文件
2025-03-21 16:13:38,955 - 未找到DART模型文件
2025-03-21 16:13:38,955 - 未找到GOSS模型文件
2025-03-21 16:13:38,955 - 未找到任何可用模型文件
2025-03-21 16:13:38,956 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 16:14:08,968 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 16:14:08,968 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 16:14:08,969 - 未找到GBDT模型文件
2025-03-21 16:14:08,969 - 未找到DART模型文件
2025-03-21 16:14:08,969 - 未找到GOSS模型文件
2025-03-21 16:14:08,969 - 未找到任何可用模型文件
2025-03-21 16:14:08,969 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 16:14:09,111 - GBDT 模型训练完成
2025-03-21 16:14:09,111 - 使用 GBDT 模型预测验证集...
2025-03-21 16:14:09,153 - 使用时间加权方式计算模型评分...
2025-03-21 16:14:09,158 - GBDT 评估结果 - RMSE: 51.9599, K: 0.6630, 加权评分: 0.7723
2025-03-21 16:14:09,159 - ✅ GBDT 成为当前最佳模型 (基于加权评分)
2025-03-21 16:14:09,169 - GBDT 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\9months\GBDT.joblib
2025-03-21 16:14:09,170 - 
--------------------------------------------------
【训练 DART 模型】
--------------------------------------------------
2025-03-21 16:14:09,170 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'dart', 'drop_rate': 0.1, 'name': 'DART'}
2025-03-21 16:14:09,170 - 开始训练 DART 模型...
2025-03-21 16:14:38,976 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 16:14:38,976 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 16:14:38,977 - 未找到GBDT模型文件
2025-03-21 16:14:38,977 - 未找到DART模型文件
2025-03-21 16:14:38,977 - 未找到GOSS模型文件
2025-03-21 16:14:38,977 - 未找到任何可用模型文件
2025-03-21 16:14:38,977 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 16:14:42,649 - DART 模型训练完成
2025-03-21 16:14:42,649 - 使用 DART 模型预测验证集...
2025-03-21 16:14:42,694 - 使用时间加权方式计算模型评分...
2025-03-21 16:14:42,700 - DART 评估结果 - RMSE: 65.0217, K: 0.6982, 加权评分: 0.7771
2025-03-21 16:14:42,700 - ✅ DART 成为当前最佳模型 (基于加权评分)
2025-03-21 16:14:42,711 - DART 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\9months\DART.joblib
2025-03-21 16:14:42,712 - 
--------------------------------------------------
【训练 GOSS 模型】
--------------------------------------------------
2025-03-21 16:14:42,712 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'goss', 'top_rate': 0.2, 'other_rate': 0.1, 'name': 'GOSS'}
2025-03-21 16:14:42,712 - 开始训练 GOSS 模型...
2025-03-21 16:15:08,991 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 16:15:08,991 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 16:15:08,992 - 未找到GBDT模型文件
2025-03-21 16:15:08,992 - 未找到DART模型文件
2025-03-21 16:15:08,992 - 未找到GOSS模型文件
2025-03-21 16:15:08,992 - 未找到任何可用模型文件
2025-03-21 16:15:08,993 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 16:15:14,429 - GOSS 模型训练完成
2025-03-21 16:15:14,429 - 使用 GOSS 模型预测验证集...
2025-03-21 16:15:14,490 - 使用时间加权方式计算模型评分...
2025-03-21 16:15:14,499 - GOSS 评估结果 - RMSE: 52.3822, K: 0.6635, 加权评分: 0.7720
2025-03-21 16:15:14,515 - GOSS 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\9months\GOSS.joblib
2025-03-21 16:15:14,516 - Scaler 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\9months\scaler.joblib
2025-03-21 16:15:14,523 - 最佳模型 'DART' 已额外保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\9months\model.joblib
2025-03-21 16:15:14,524 - 9个月数据的模型训练完成
2025-03-21 16:15:14,524 - 
--------------------------------------------------
【更新每种算法的最佳模型】
--------------------------------------------------
2025-03-21 16:15:14,524 - ❌ 9个月数据的GBDT模型不是最佳模型
2025-03-21 16:15:14,524 -    当前评分: 0.7723, 最佳评分: 0.7723
2025-03-21 16:15:14,524 - ❌ 9个月数据的DART模型不是最佳模型
2025-03-21 16:15:14,524 -    当前评分: 0.7771, 最佳评分: 0.7855
2025-03-21 16:15:14,524 - ❌ 9个月数据的GOSS模型不是最佳模型
2025-03-21 16:15:14,524 -    当前评分: 0.7720, 最佳评分: 0.7720
2025-03-21 16:15:14,524 - 
--------------------------------------------------
【训练数据集: 12个月】
--------------------------------------------------
2025-03-21 16:15:14,524 - 使用12个月的数据进行训练...
2025-03-21 16:15:14,524 - 过滤数据为最近12个月...
2025-03-21 16:15:14,533 - 过滤后的数据量: 15294
2025-03-21 16:15:14,533 - 对12个月数据进行预处理...
2025-03-21 16:15:14,546 - 预处理后的特征维度: (15294, 304), 目标变量维度: (15294,)
2025-03-21 16:15:14,549 - 数据集划分完成，训练集: (13764, 304), 验证集: (1530, 304)
2025-03-21 16:15:14,549 - 提取了 1530 个验证集时间戳，用于时间加权评估
2025-03-21 16:15:14,549 - 执行特征工程，滞后特征数: 4...
2025-03-21 16:15:14,680 - 特征工程后的特征维度 - 训练集: (13761, 859), 验证集: (1527, 859)
2025-03-21 16:15:14,680 - 数据标准化...
2025-03-21 16:15:14,811 - 数据标准化完成
2025-03-21 16:15:14,812 - 创建时间窗口，窗口大小: 16...
2025-03-21 16:15:15,176 - 时间窗口创建完成 - 训练集: (13746, 16, 859), 验证集: (1512, 16, 859)
2025-03-21 16:15:15,176 - 调整时间戳长度以匹配窗口化后的验证集 - 原始长度: 1530, 目标长度: 1512
2025-03-21 16:15:15,176 - 时间戳已截断至匹配窗口化后的验证集长度: 1512
2025-03-21 16:15:15,181 - 为12个月数据创建模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\12months
2025-03-21 16:15:15,181 - 开始训练12个月数据的模型...
2025-03-21 16:15:15,181 - 
--------------------------------------------------
【开始模型训练与评估】
--------------------------------------------------
2025-03-21 16:15:15,181 - 模型和 scaler 将被保存到目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\12months
2025-03-21 16:15:15,181 - 
--------------------------------------------------
【训练 GBDT 模型】
--------------------------------------------------
2025-03-21 16:15:15,181 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'gbdt', 'name': 'GBDT'}
2025-03-21 16:15:15,181 - 开始训练 GBDT 模型...
2025-03-21 16:15:39,007 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 16:15:39,007 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 16:15:39,008 - 未找到GBDT模型文件
2025-03-21 16:15:39,008 - 未找到DART模型文件
2025-03-21 16:15:39,008 - 未找到GOSS模型文件
2025-03-21 16:15:39,008 - 未找到任何可用模型文件
2025-03-21 16:15:39,008 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 16:15:49,419 - GBDT 模型训练完成
2025-03-21 16:15:49,419 - 使用 GBDT 模型预测验证集...
2025-03-21 16:15:49,466 - 使用时间加权方式计算模型评分...
2025-03-21 16:15:49,475 - GBDT 评估结果 - RMSE: 51.9599, K: 0.6630, 加权评分: 0.7723
2025-03-21 16:15:49,476 - ✅ GBDT 成为当前最佳模型 (基于加权评分)
2025-03-21 16:15:49,484 - GBDT 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\12months\GBDT.joblib
2025-03-21 16:15:49,484 - 
--------------------------------------------------
【训练 DART 模型】
--------------------------------------------------
2025-03-21 16:15:49,484 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'dart', 'drop_rate': 0.1, 'name': 'DART'}
2025-03-21 16:15:49,484 - 开始训练 DART 模型...
2025-03-21 16:16:09,020 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 16:16:09,021 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 16:16:09,021 - 未找到GBDT模型文件
2025-03-21 16:16:09,021 - 未找到DART模型文件
2025-03-21 16:16:09,021 - 未找到GOSS模型文件
2025-03-21 16:16:09,022 - 未找到任何可用模型文件
2025-03-21 16:16:09,022 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 16:16:24,196 - DART 模型训练完成
2025-03-21 16:16:24,196 - 使用 DART 模型预测验证集...
2025-03-21 16:16:24,251 - 使用时间加权方式计算模型评分...
2025-03-21 16:16:24,258 - DART 评估结果 - RMSE: 65.0217, K: 0.6982, 加权评分: 0.7771
2025-03-21 16:16:24,258 - ✅ DART 成为当前最佳模型 (基于加权评分)
2025-03-21 16:16:24,267 - DART 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\12months\DART.joblib
2025-03-21 16:16:24,267 - 
--------------------------------------------------
【训练 GOSS 模型】
--------------------------------------------------
2025-03-21 16:16:24,267 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'goss', 'top_rate': 0.2, 'other_rate': 0.1, 'name': 'GOSS'}
2025-03-21 16:16:24,268 - 开始训练 GOSS 模型...
2025-03-21 16:16:39,031 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 16:16:39,031 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 16:16:39,032 - 未找到GBDT模型文件
2025-03-21 16:16:39,032 - 未找到DART模型文件
2025-03-21 16:16:39,032 - 未找到GOSS模型文件
2025-03-21 16:16:39,033 - 未找到任何可用模型文件
2025-03-21 16:16:39,033 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 16:16:57,153 - GOSS 模型训练完成
2025-03-21 16:16:57,153 - 使用 GOSS 模型预测验证集...
2025-03-21 16:16:57,210 - 使用时间加权方式计算模型评分...
2025-03-21 16:16:57,222 - GOSS 评估结果 - RMSE: 52.3822, K: 0.6635, 加权评分: 0.7720
2025-03-21 16:16:57,236 - GOSS 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\12months\GOSS.joblib
2025-03-21 16:16:57,237 - Scaler 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\12months\scaler.joblib
2025-03-21 16:16:57,245 - 最佳模型 'DART' 已额外保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\12months\model.joblib
2025-03-21 16:16:57,245 - 12个月数据的模型训练完成
2025-03-21 16:16:57,245 - 
--------------------------------------------------
【更新每种算法的最佳模型】
--------------------------------------------------
2025-03-21 16:16:57,245 - ❌ 12个月数据的GBDT模型不是最佳模型
2025-03-21 16:16:57,245 -    当前评分: 0.7723, 最佳评分: 0.7723
2025-03-21 16:16:57,246 - ❌ 12个月数据的DART模型不是最佳模型
2025-03-21 16:16:57,246 -    当前评分: 0.7771, 最佳评分: 0.7855
2025-03-21 16:16:57,246 - ❌ 12个月数据的GOSS模型不是最佳模型
2025-03-21 16:16:57,246 -    当前评分: 0.7720, 最佳评分: 0.7720
2025-03-21 16:16:57,246 - 
--------------------------------------------------
【训练数据集: 全部数据】
--------------------------------------------------
2025-03-21 16:16:57,246 - 使用全部数据的数据进行训练...
2025-03-21 16:16:57,246 - 使用全部数据...
2025-03-21 16:16:57,249 - 过滤后的数据量: 15294
2025-03-21 16:16:57,249 - 对全部数据数据进行预处理...
2025-03-21 16:16:57,264 - 预处理后的特征维度: (15294, 304), 目标变量维度: (15294,)
2025-03-21 16:16:57,268 - 数据集划分完成，训练集: (13764, 304), 验证集: (1530, 304)
2025-03-21 16:16:57,268 - 提取了 1530 个验证集时间戳，用于时间加权评估
2025-03-21 16:16:57,268 - 执行特征工程，滞后特征数: 4...
2025-03-21 16:16:57,424 - 特征工程后的特征维度 - 训练集: (13761, 859), 验证集: (1527, 859)
2025-03-21 16:16:57,424 - 数据标准化...
2025-03-21 16:16:57,563 - 数据标准化完成
2025-03-21 16:16:57,563 - 创建时间窗口，窗口大小: 16...
2025-03-21 16:16:57,933 - 时间窗口创建完成 - 训练集: (13746, 16, 859), 验证集: (1512, 16, 859)
2025-03-21 16:16:57,933 - 调整时间戳长度以匹配窗口化后的验证集 - 原始长度: 1530, 目标长度: 1512
2025-03-21 16:16:57,933 - 时间戳已截断至匹配窗口化后的验证集长度: 1512
2025-03-21 16:16:57,934 - 为全部数据数据创建模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\all_data
2025-03-21 16:16:57,934 - 开始训练全部数据数据的模型...
2025-03-21 16:16:57,934 - 
--------------------------------------------------
【开始模型训练与评估】
--------------------------------------------------
2025-03-21 16:16:57,934 - 模型和 scaler 将被保存到目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\all_data
2025-03-21 16:16:57,934 - 
--------------------------------------------------
【训练 GBDT 模型】
--------------------------------------------------
2025-03-21 16:16:57,934 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'gbdt', 'name': 'GBDT'}
2025-03-21 16:16:57,934 - 开始训练 GBDT 模型...
2025-03-21 16:17:09,038 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 16:17:09,038 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 16:17:09,038 - 未找到GBDT模型文件
2025-03-21 16:17:09,038 - 未找到DART模型文件
2025-03-21 16:17:09,038 - 未找到GOSS模型文件
2025-03-21 16:17:09,039 - 未找到任何可用模型文件
2025-03-21 16:17:09,039 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 16:17:34,015 - GBDT 模型训练完成
2025-03-21 16:17:34,015 - 使用 GBDT 模型预测验证集...
2025-03-21 16:17:34,071 - 使用时间加权方式计算模型评分...
2025-03-21 16:17:34,078 - GBDT 评估结果 - RMSE: 51.9599, K: 0.6630, 加权评分: 0.7723
2025-03-21 16:17:34,078 - ✅ GBDT 成为当前最佳模型 (基于加权评分)
2025-03-21 16:17:34,101 - GBDT 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\all_data\GBDT.joblib
2025-03-21 16:17:34,102 - 
--------------------------------------------------
【训练 DART 模型】
--------------------------------------------------
2025-03-21 16:17:34,102 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'dart', 'drop_rate': 0.1, 'name': 'DART'}
2025-03-21 16:17:34,102 - 开始训练 DART 模型...
2025-03-21 16:17:39,054 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 16:17:39,054 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 16:17:39,054 - 未找到GBDT模型文件
2025-03-21 16:17:39,054 - 未找到DART模型文件
2025-03-21 16:17:39,054 - 未找到GOSS模型文件
2025-03-21 16:17:39,055 - 未找到任何可用模型文件
2025-03-21 16:17:39,055 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 16:18:09,061 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 16:18:09,062 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 16:18:09,062 - 未找到GBDT模型文件
2025-03-21 16:18:09,062 - 未找到DART模型文件
2025-03-21 16:18:09,062 - 未找到GOSS模型文件
2025-03-21 16:18:09,062 - 未找到任何可用模型文件
2025-03-21 16:18:09,062 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 16:18:11,260 - DART 模型训练完成
2025-03-21 16:18:11,260 - 使用 DART 模型预测验证集...
2025-03-21 16:18:11,318 - 使用时间加权方式计算模型评分...
2025-03-21 16:18:11,328 - DART 评估结果 - RMSE: 65.0217, K: 0.6982, 加权评分: 0.7771
2025-03-21 16:18:11,328 - ✅ DART 成为当前最佳模型 (基于加权评分)
2025-03-21 16:18:11,339 - DART 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\all_data\DART.joblib
2025-03-21 16:18:11,339 - 
--------------------------------------------------
【训练 GOSS 模型】
--------------------------------------------------
2025-03-21 16:18:11,339 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'goss', 'top_rate': 0.2, 'other_rate': 0.1, 'name': 'GOSS'}
2025-03-21 16:18:11,340 - 开始训练 GOSS 模型...
2025-03-21 16:18:39,074 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 16:18:39,074 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 16:18:39,074 - 未找到GBDT模型文件
2025-03-21 16:18:39,074 - 未找到DART模型文件
2025-03-21 16:18:39,075 - 未找到GOSS模型文件
2025-03-21 16:18:39,075 - 未找到任何可用模型文件
2025-03-21 16:18:39,075 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 16:18:46,038 - GOSS 模型训练完成
2025-03-21 16:18:46,039 - 使用 GOSS 模型预测验证集...
2025-03-21 16:18:46,099 - 使用时间加权方式计算模型评分...
2025-03-21 16:18:46,107 - GOSS 评估结果 - RMSE: 52.3822, K: 0.6635, 加权评分: 0.7720
2025-03-21 16:18:46,123 - GOSS 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\all_data\GOSS.joblib
2025-03-21 16:18:46,125 - Scaler 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\all_data\scaler.joblib
2025-03-21 16:18:46,132 - 最佳模型 'DART' 已额外保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\all_data\model.joblib
2025-03-21 16:18:46,132 - 全部数据数据的模型训练完成
2025-03-21 16:18:46,132 - 
--------------------------------------------------
【更新每种算法的最佳模型】
--------------------------------------------------
2025-03-21 16:18:46,133 - ❌ 全部数据数据的GBDT模型不是最佳模型
2025-03-21 16:18:46,133 -    当前评分: 0.7723, 最佳评分: 0.7723
2025-03-21 16:18:46,133 - ❌ 全部数据数据的DART模型不是最佳模型
2025-03-21 16:18:46,133 -    当前评分: 0.7771, 最佳评分: 0.7855
2025-03-21 16:18:46,133 - ❌ 全部数据数据的GOSS模型不是最佳模型
2025-03-21 16:18:46,133 -    当前评分: 0.7720, 最佳评分: 0.7720
2025-03-21 16:18:46,133 - 
--------------------------------------------------
【保存每种算法的最佳模型】
--------------------------------------------------
2025-03-21 16:18:46,144 - 最佳GBDT模型 (使用6个月数据) 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models\GBDT.joblib
2025-03-21 16:18:46,144 - RMSE: 51.9599, K: 0.6630, 评分: 0.7723
2025-03-21 16:18:46,155 - 最佳DART模型 (使用3个月数据) 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models\DART.joblib
2025-03-21 16:18:46,155 - RMSE: 60.1716, K: 0.7051, 评分: 0.7855
2025-03-21 16:18:46,167 - 最佳GOSS模型 (使用6个月数据) 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models\GOSS.joblib
2025-03-21 16:18:46,167 - RMSE: 52.3822, K: 0.6635, 评分: 0.7720
2025-03-21 16:18:46,340 - 多数据集训练完成! 已为每种算法选择最佳模型
2025-03-21 16:18:46,341 -   - 最佳GBDT模型: 使用6个月数据, RMSE=51.9599, K=0.6630, 评分=0.7723
2025-03-21 16:18:46,341 -   - 最佳DART模型: 使用3个月数据, RMSE=60.1716, K=0.7051, 评分=0.7855
2025-03-21 16:18:46,341 -   - 最佳GOSS模型: 使用6个月数据, RMSE=52.3822, K=0.6635, 评分=0.7720
2025-03-21 16:18:46,341 - 
================================================================================
2025-03-21 16:18:46,341 - >>> 开始计算模型权重 <<<
2025-03-21 16:18:46,341 - ================================================================================

2025-03-21 16:18:46,341 - 开始计算模型权重
2025-03-21 16:18:46,341 - 从训练数据集中提取最后三天数据进行权重优化
2025-03-21 16:18:46,342 - ✅ 已从训练数据集提取最后三天数据，共 289 条记录
2025-03-21 16:18:46,342 - 开始计算最优模型权重...
2025-03-21 16:18:46,342 - 
--------------------------------------------------
【计算模型权重】
--------------------------------------------------
2025-03-21 16:18:46,364 - 加载最佳模型和对应的scaler...
2025-03-21 16:18:46,364 - ✅ 已加载 GBDT 模型和scaler
2025-03-21 16:18:46,364 - ✅ 已加载 DART 模型和scaler
2025-03-21 16:18:46,364 - ✅ 已加载 GOSS 模型和scaler
2025-03-21 16:18:46,364 - 预处理验证数据，共 289 条记录...
2025-03-21 16:18:46,367 - 验证数据预处理完成，特征维度: (289, 304)
2025-03-21 16:18:46,401 - 验证数据特征工程完成，特征维度: (286, 859)
2025-03-21 16:18:46,401 - 使用各模型进行预测...
2025-03-21 16:18:46,409 - 使用 GBDT 模型预测...
2025-03-21 16:18:46,424 - ✅ GBDT 模型预测完成，预测结果数量: 271
2025-03-21 16:18:46,433 - 使用 DART 模型预测...
2025-03-21 16:18:46,448 - ✅ DART 模型预测完成，预测结果数量: 271
2025-03-21 16:18:46,459 - 使用 GOSS 模型预测...
2025-03-21 16:18:46,473 - ✅ GOSS 模型预测完成，预测结果数量: 271
2025-03-21 16:18:46,473 - 对齐预测结果，使用最小长度: 271
2025-03-21 16:18:46,473 - 创建线性回归的特征矩阵 (271, 3) 和目标向量 (271,)
2025-03-21 16:18:46,473 - 训练线性回归模型计算最优权重...
2025-03-21 16:18:46,474 - 线性回归得到的原始权重: {'GBDT': np.float64(0.0), 'DART': np.float64(1.1091389998624723), 'GOSS': np.float64(0.0)}
2025-03-21 16:18:46,474 - 归一化后的权重: {'GBDT': np.float64(0.0), 'DART': np.float64(1.0), 'GOSS': np.float64(0.0)}
2025-03-21 16:18:46,474 - 最终计算的模型权重: {'GBDT': np.float64(0.0), 'DART': np.float64(1.0), 'GOSS': np.float64(0.0)}
2025-03-21 16:18:46,477 - 计算得到的最优权重: {'GBDT': np.float64(0.0), 'DART': np.float64(1.0), 'GOSS': np.float64(0.0)}
2025-03-21 16:18:46,482 - 模型权重已保存到: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\model_weights.joblib
2025-03-21 16:18:46,499 - ✅ 训练完成，已创建标志文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\20250321_train_done.flag
2025-03-21 16:18:46,499 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 16:18:46,499 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 16:18:46,499 - 发现GBDT模型文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models\GBDT.joblib
2025-03-21 16:18:46,499 - ✅ 模型已成功保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321，模型可用。
2025-03-21 16:19:09,087 - ✅ 发现新的预测文件：D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv\20250321.csv，执行预测...
2025-03-21 16:19:09,088 - 
============================================================
【风电功率预测开始】
============================================================
2025-03-21 16:19:09,088 - 配置信息:
2025-03-21 16:19:09,088 -   - 数据文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv\20250321.csv
2025-03-21 16:19:09,088 -   - 模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 16:19:09,088 -   - 窗口大小: 16
2025-03-21 16:19:09,089 -   - 滞后特征数: 4
2025-03-21 16:19:09,089 - 
============================================================
【预处理新数据】
============================================================
2025-03-21 16:19:09,089 - 加载数据文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv\20250321.csv
2025-03-21 16:19:09,098 - 数据加载完成，去除缺失值后共 109 条记录
2025-03-21 16:19:09,159 - 数据前5行预览:
         Timestamp    129.128_1    129.128_2  ...  ws200_13   ws200_14   ws200_15
0  2024/4/16 20:00  15974.26563  16293.82813  ...  9.541195  10.863499  12.404554
1  2024/4/16 20:15  15974.26563  16293.82813  ...  9.280917  10.585079  12.259521
2  2024/4/16 20:30  15974.26563  16293.82813  ...  9.020693  10.307371  12.115601
3  2024/4/16 20:45  15974.26563  16293.82813  ...  8.760527  10.030434  11.972834
4  2024/4/16 21:00  15974.26563  16293.82813  ...  8.500424   9.754334  11.831263

[5 rows x 301 columns]
2025-03-21 16:19:09,159 - 预处理数据...
2025-03-21 16:19:09,161 - 预处理完成，特征维度: (109, 304)
2025-03-21 16:19:09,161 - 执行特征工程，滞后特征数: 4...
2025-03-21 16:19:09,192 - 特征工程完成，特征维度: (106, 859)
2025-03-21 16:19:09,193 - 新数据预处理完成，共 106 个样本
2025-03-21 16:19:09,193 - ✅ 发现最佳模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models，尝试使用多模型加权预测
2025-03-21 16:19:09,193 - 
============================================================
【加载多个模型】
============================================================
2025-03-21 16:19:09,193 - 从目录加载模型和 scaler: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 16:19:09,193 - 加载 GBDT 模型和 scaler...
2025-03-21 16:19:09,201 - ✅ 已成功加载 GBDT 模型和对应的 scaler
2025-03-21 16:19:09,201 - 加载 DART 模型和 scaler...
2025-03-21 16:19:09,207 - ✅ 已成功加载 DART 模型和对应的 scaler
2025-03-21 16:19:09,207 - 加载 GOSS 模型和 scaler...
2025-03-21 16:19:09,214 - ✅ 已成功加载 GOSS 模型和对应的 scaler
2025-03-21 16:19:09,214 - 加载完成，共加载了 3 个模型: GBDT, DART, GOSS
2025-03-21 16:19:09,214 - 尝试加载模型权重文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\model_weights.joblib
2025-03-21 16:19:09,215 - ✅ 已加载模型权重: {'GBDT': np.float64(0.0), 'DART': np.float64(1.0), 'GOSS': np.float64(0.0)}
2025-03-21 16:19:09,215 - 
============================================================
【使用多模型加权预测】
============================================================
2025-03-21 16:19:09,215 - 使用自定义权重: {'GBDT': np.float64(0.0), 'DART': np.float64(1.0), 'GOSS': np.float64(0.0)}
2025-03-21 16:19:09,215 - ❌ GBDT 模型权重为0，跳过
2025-03-21 16:19:09,215 - 使用 DART 模型进行预测 (权重: 1.0000)...
2025-03-21 16:19:09,221 - DART: 数据标准化完成
2025-03-21 16:19:09,224 - DART: 时间窗口创建完成，窗口数量: 91
2025-03-21 16:19:09,231 - ✅ DART 模型预测完成，生成了 91 个预测值
2025-03-21 16:19:09,231 -    统计: 最小值=170.80, 最大值=209.75, 平均值=196.57
2025-03-21 16:19:09,232 - ❌ GOSS 模型权重为0，跳过
2025-03-21 16:19:09,232 - 所有预测结果对齐到最小长度: 91
2025-03-21 16:19:09,232 - 开始计算加权平均预测结果...
2025-03-21 16:19:09,232 -   加入 DART 模型贡献 (权重: 1.0000)
2025-03-21 16:19:09,232 - 加权平均预测完成，生成了 91 个预测值
2025-03-21 16:19:09,232 - 加权预测结果统计: 最小值=170.80, 最大值=209.75, 平均值=196.57
2025-03-21 16:19:09,233 - ✅ 多模型加权预测完成，使用模型: GBDT, DART, GOSS
2025-03-21 16:19:09,233 - 
============================================================
【保存预测结果】
============================================================
2025-03-21 16:19:09,233 - 创建输出目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\results\shortresult\20250321
2025-03-21 16:19:09,233 - 预测结果数据框创建完成，共 91 行
2025-03-21 16:19:09,235 - ✅ 预测结果已保存到文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\results\shortresult\20250321\20250321.csv
2025-03-21 16:19:09,235 - 尝试将预测结果导入数据库...
2025-03-21 16:19:09,236 - 发送HTTP请求到: http://localhost:5000/prediction2database/batch_shortl_power
2025-03-21 16:19:11,458 - ✅ 数据已成功导入数据库
2025-03-21 16:19:11,458 -    总记录数: 91, 更新: 91, 插入: 0
2025-03-21 16:19:11,458 - ✅ 预测结果已保存到: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\results\shortresult\20250321\20250321.csv
2025-03-21 16:19:11,459 - ✅ 创建预测完成标志文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\results\shortresult\20250321\20250321_predict_done.flag
2025-03-21 16:19:11,459 - 
============================================================
【风电功率预测完成】
============================================================
2025-03-21 16:19:11,459 - 风电功率预测完成
2025-03-21 16:19:11,461 - ✅ 预测执行完成
2025-03-21 16:19:11,461 - 
================================================================================
2025-03-21 16:19:11,461 - >>> 系统任务完成 <<<
2025-03-21 16:19:11,461 - ================================================================================

2025-03-21 16:19:11,461 - 系统任务完成
2025-03-21 16:19:11,461 - 今天的训练和预测任务已完成。
2025-03-21 16:31:55,113 - 
================================================================================
2025-03-21 16:31:55,113 - >>> 自动训练预测系统启动 <<<
2025-03-21 16:31:55,113 - ================================================================================

2025-03-21 16:31:55,113 - 自动训练预测系统启动
2025-03-21 16:31:55,113 - 今天的日期是: 20250321
2025-03-21 16:31:55,113 - 创建监视线程...
2025-03-21 16:31:55,113 - 启动训练线程...
2025-03-21 16:31:55,114 - 启动预测线程...
2025-03-21 16:31:55,114 - 
================================================================================
2025-03-21 16:31:55,114 - >>> 启动训练监视线程 <<<
2025-03-21 16:31:55,114 - ================================================================================

2025-03-21 16:31:55,114 - 启动训练监视线程
2025-03-21 16:31:55,114 - 训练文件路径: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short\20250321.csv
2025-03-21 16:31:55,114 - 等待线程完成...
2025-03-21 16:31:55,114 - 模型存储目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 16:31:55,114 - 
================================================================================
2025-03-21 16:31:55,115 - 训练完成标志文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\20250321_train_done.flag
2025-03-21 16:31:55,115 - >>> 启动预测监视线程 <<<
2025-03-21 16:31:55,115 - 开始监视 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short 文件夹以进行训练...
2025-03-21 16:31:55,115 - ================================================================================

2025-03-21 16:31:55,115 - 启动预测监视线程
2025-03-21 16:31:55,115 - 预测数据文件路径: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv\20250321.csv
2025-03-21 16:31:55,115 - ✅ 发现新的训练文件：D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short\20250321.csv，执行训练...
2025-03-21 16:31:55,115 - 模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 16:31:55,115 - 预测完成标志文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\results\shortresult\20250321\20250321_predict_done.flag
2025-03-21 16:31:55,115 - 开始监视 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv 文件夹以进行预测...
2025-03-21 16:31:55,116 - 
================================================================================
2025-03-21 16:31:55,116 - >>> 开始模型训练 <<<
2025-03-21 16:31:55,116 - ================================================================================

2025-03-21 16:31:55,116 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 16:31:55,116 - 配置信息:
2025-03-21 16:31:55,116 -   - 窗口大小: 16
2025-03-21 16:31:55,116 - 未找到best_models目录，检查传统模型文件
2025-03-21 16:31:55,116 -   - 滞后特征数: 4
2025-03-21 16:31:55,116 - 未找到任何可用模型文件
2025-03-21 16:31:55,116 -   - 训练集比例: 0.9
2025-03-21 16:31:55,116 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 16:31:55,116 -   - 输出目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\train_predictions\short_predictions
2025-03-21 16:31:55,117 -   - 模型存储路径: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 16:31:55,117 - 输出结果将保存到: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\train_predictions\short_predictions
2025-03-21 16:31:55,117 - 
================================================================================
2025-03-21 16:31:55,117 - >>> 数据加载与预处理 <<<
2025-03-21 16:31:55,117 - ================================================================================

2025-03-21 16:31:55,117 - 加载数据文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short\20250321.csv
2025-03-21 16:31:55,117 - 开始加载和预处理数据...
2025-03-21 16:31:55,448 - 数据加载完成，共 15294 条记录
2025-03-21 16:31:55,470 - 数据前5行预览: 
         Timestamp    129.128_1    129.128_2  ...  ws200_15  wp_true    ws_all
0  2023/11/8 21:45  15974.26563  16293.82813  ...  6.673899   222.28  7.983189
1  2023/11/8 22:00  15974.26563  16293.82813  ...  6.606531   229.29  8.071361
2  2023/11/8 22:15  15974.26563  16293.82813  ...  6.518705   237.56  8.174266
3  2023/11/8 22:30  15974.26563  16293.82813  ...  6.432374   232.26  8.108436
4  2023/11/8 22:45  15974.26563  16293.82813  ...  6.347599   216.93  7.915157

[5 rows x 303 columns]
2025-03-21 16:31:55,477 - 数据集时间范围: 2023-11-08 至 2024-04-17, 共 5 个月
2025-03-21 16:31:55,477 - 根据数据集实际时间范围(5个月)，优化months_list: [1, 3, 6, 9, 12, None] -> [1, 3, None]
2025-03-21 16:31:55,477 - 将使用以下时间段训练模型: [1, 3, None]
2025-03-21 16:31:55,478 - 
================================================================================
2025-03-21 16:31:55,478 - >>> 开始多数据集训练 <<<
2025-03-21 16:31:55,478 - ================================================================================

2025-03-21 16:31:55,478 - 将使用多种时间跨度的数据训练模型...
2025-03-21 16:31:55,478 - 
--------------------------------------------------
【使用多个数据集训练模型】
--------------------------------------------------
2025-03-21 16:31:55,483 - 最佳模型将保存到: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 16:31:55,483 - 获取统一参数成功，包含 3 种模型类型
2025-03-21 16:31:55,483 - 
--------------------------------------------------
【训练数据集: 1个月】
--------------------------------------------------
2025-03-21 16:31:55,483 - 使用1个月的数据进行训练...
2025-03-21 16:31:55,483 - 过滤数据为最近1个月...
2025-03-21 16:31:55,485 - 过滤后的数据量: 2977
2025-03-21 16:31:55,485 - 对1个月数据进行预处理...
2025-03-21 16:31:55,490 - 预处理后的特征维度: (2977, 304), 目标变量维度: (2977,)
2025-03-21 16:31:55,490 - 数据集划分完成，训练集: (2679, 304), 验证集: (298, 304)
2025-03-21 16:31:55,490 - 提取了 298 个验证集时间戳，用于时间加权评估
2025-03-21 16:31:55,490 - 执行特征工程，滞后特征数: 4...
2025-03-21 16:31:55,540 - 特征工程后的特征维度 - 训练集: (2676, 859), 验证集: (295, 859)
2025-03-21 16:31:55,540 - 数据标准化...
2025-03-21 16:31:55,573 - 数据标准化完成
2025-03-21 16:31:55,573 - 创建时间窗口，窗口大小: 16...
2025-03-21 16:31:55,635 - 时间窗口创建完成 - 训练集: (2661, 16, 859), 验证集: (280, 16, 859)
2025-03-21 16:31:55,635 - 调整时间戳长度以匹配窗口化后的验证集 - 原始长度: 298, 目标长度: 280
2025-03-21 16:31:55,635 - 时间戳已截断至匹配窗口化后的验证集长度: 280
2025-03-21 16:31:55,635 - 为1个月数据创建模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\1months
2025-03-21 16:31:55,636 - 开始训练1个月数据的模型...
2025-03-21 16:31:55,636 - 
--------------------------------------------------
【开始模型训练与评估】
--------------------------------------------------
2025-03-21 16:31:55,636 - 模型和 scaler 将被保存到目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\1months
2025-03-21 16:31:55,636 - 
--------------------------------------------------
【训练 GBDT 模型】
--------------------------------------------------
2025-03-21 16:31:55,636 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'gbdt', 'name': 'GBDT'}
2025-03-21 16:31:55,636 - 开始训练 GBDT 模型...
2025-03-21 16:32:11,912 - GBDT 模型训练完成
2025-03-21 16:32:11,912 - 使用 GBDT 模型预测验证集...
2025-03-21 16:32:11,919 - 使用时间加权方式计算模型评分...
2025-03-21 16:32:11,921 - GBDT 评估结果 - RMSE: 68.3078, K: 0.4502, 加权评分: 0.6447
2025-03-21 16:32:11,921 - ✅ GBDT 成为当前最佳模型 (基于加权评分)
2025-03-21 16:32:11,932 - GBDT 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\1months\GBDT.joblib
2025-03-21 16:32:11,932 - 
--------------------------------------------------
【训练 DART 模型】
--------------------------------------------------
2025-03-21 16:32:11,932 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'dart', 'drop_rate': 0.1, 'name': 'DART'}
2025-03-21 16:32:11,932 - 开始训练 DART 模型...
2025-03-21 16:32:25,117 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 16:32:25,117 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 16:32:25,118 - 未找到GBDT模型文件
2025-03-21 16:32:25,118 - 未找到DART模型文件
2025-03-21 16:32:25,118 - 未找到GOSS模型文件
2025-03-21 16:32:25,118 - 未找到任何可用模型文件
2025-03-21 16:32:25,118 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 16:32:28,313 - DART 模型训练完成
2025-03-21 16:32:28,313 - 使用 DART 模型预测验证集...
2025-03-21 16:32:28,319 - 使用时间加权方式计算模型评分...
2025-03-21 16:32:28,321 - DART 评估结果 - RMSE: 62.7504, K: 0.6220, 加权评分: 0.7393
2025-03-21 16:32:28,321 - ✅ DART 成为当前最佳模型 (基于加权评分)
2025-03-21 16:32:28,334 - DART 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\1months\DART.joblib
2025-03-21 16:32:28,334 - 
--------------------------------------------------
【训练 GOSS 模型】
--------------------------------------------------
2025-03-21 16:32:28,334 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'goss', 'top_rate': 0.2, 'other_rate': 0.1, 'name': 'GOSS'}
2025-03-21 16:32:28,334 - 开始训练 GOSS 模型...
2025-03-21 16:32:41,392 - GOSS 模型训练完成
2025-03-21 16:32:41,392 - 使用 GOSS 模型预测验证集...
2025-03-21 16:32:41,400 - 使用时间加权方式计算模型评分...
2025-03-21 16:32:41,401 - GOSS 评估结果 - RMSE: 68.2680, K: 0.4465, 加权评分: 0.6427
2025-03-21 16:32:41,413 - GOSS 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\1months\GOSS.joblib
2025-03-21 16:32:41,415 - Scaler 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\1months\scaler.joblib
2025-03-21 16:32:41,423 - 最佳模型 'DART' 已额外保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\1months\model.joblib
2025-03-21 16:32:41,423 - 1个月数据的模型训练完成
2025-03-21 16:32:41,423 - 
--------------------------------------------------
【更新每种算法的最佳模型】
--------------------------------------------------
2025-03-21 16:32:41,423 - ✅ 发现更好的GBDT模型 (来自1个月数据)
2025-03-21 16:32:41,423 -    新评分: 0.6447, 旧评分: -inf
2025-03-21 16:32:41,423 - ✅ 发现更好的DART模型 (来自1个月数据)
2025-03-21 16:32:41,423 -    新评分: 0.7393, 旧评分: -inf
2025-03-21 16:32:41,424 - ✅ 发现更好的GOSS模型 (来自1个月数据)
2025-03-21 16:32:41,424 -    新评分: 0.6427, 旧评分: -inf
2025-03-21 16:32:41,424 - 
--------------------------------------------------
【训练数据集: 3个月】
--------------------------------------------------
2025-03-21 16:32:41,424 - 使用3个月的数据进行训练...
2025-03-21 16:32:41,424 - 过滤数据为最近3个月...
2025-03-21 16:32:41,431 - 过滤后的数据量: 8737
2025-03-21 16:32:41,431 - 对3个月数据进行预处理...
2025-03-21 16:32:41,442 - 预处理后的特征维度: (8737, 304), 目标变量维度: (8737,)
2025-03-21 16:32:41,443 - 数据集划分完成，训练集: (7863, 304), 验证集: (874, 304)
2025-03-21 16:32:41,443 - 提取了 874 个验证集时间戳，用于时间加权评估
2025-03-21 16:32:41,443 - 执行特征工程，滞后特征数: 4...
2025-03-21 16:32:41,560 - 特征工程后的特征维度 - 训练集: (7860, 859), 验证集: (871, 859)
2025-03-21 16:32:41,560 - 数据标准化...
2025-03-21 16:32:41,637 - 数据标准化完成
2025-03-21 16:32:41,637 - 创建时间窗口，窗口大小: 16...
2025-03-21 16:32:41,798 - 时间窗口创建完成 - 训练集: (7845, 16, 859), 验证集: (856, 16, 859)
2025-03-21 16:32:41,798 - 调整时间戳长度以匹配窗口化后的验证集 - 原始长度: 874, 目标长度: 856
2025-03-21 16:32:41,798 - 时间戳已截断至匹配窗口化后的验证集长度: 856
2025-03-21 16:32:41,799 - 为3个月数据创建模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\3months
2025-03-21 16:32:41,799 - 开始训练3个月数据的模型...
2025-03-21 16:32:41,799 - 
--------------------------------------------------
【开始模型训练与评估】
--------------------------------------------------
2025-03-21 16:32:41,799 - 模型和 scaler 将被保存到目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\3months
2025-03-21 16:32:41,799 - 
--------------------------------------------------
【训练 GBDT 模型】
--------------------------------------------------
2025-03-21 16:32:41,799 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'gbdt', 'name': 'GBDT'}
2025-03-21 16:32:41,799 - 开始训练 GBDT 模型...
2025-03-21 16:32:55,127 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 16:32:55,127 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 16:32:55,127 - 未找到GBDT模型文件
2025-03-21 16:32:55,127 - 未找到DART模型文件
2025-03-21 16:32:55,127 - 未找到GOSS模型文件
2025-03-21 16:32:55,128 - 未找到任何可用模型文件
2025-03-21 16:32:55,128 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 16:33:04,777 - GBDT 模型训练完成
2025-03-21 16:33:04,777 - 使用 GBDT 模型预测验证集...
2025-03-21 16:33:04,799 - 使用时间加权方式计算模型评分...
2025-03-21 16:33:04,805 - GBDT 评估结果 - RMSE: 53.7633, K: 0.6220, 加权评分: 0.7498
2025-03-21 16:33:04,805 - ✅ GBDT 成为当前最佳模型 (基于加权评分)
2025-03-21 16:33:04,815 - GBDT 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\3months\GBDT.joblib
2025-03-21 16:33:04,815 - 
--------------------------------------------------
【训练 DART 模型】
--------------------------------------------------
2025-03-21 16:33:04,816 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'dart', 'drop_rate': 0.1, 'name': 'DART'}
2025-03-21 16:33:04,816 - 开始训练 DART 模型...
2025-03-21 16:33:25,134 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 16:33:25,134 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 16:33:25,135 - 未找到GBDT模型文件
2025-03-21 16:33:25,135 - 未找到DART模型文件
2025-03-21 16:33:25,135 - 未找到GOSS模型文件
2025-03-21 16:33:25,135 - 未找到任何可用模型文件
2025-03-21 16:33:25,136 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 16:33:28,142 - DART 模型训练完成
2025-03-21 16:33:28,142 - 使用 DART 模型预测验证集...
2025-03-21 16:33:28,168 - 使用时间加权方式计算模型评分...
2025-03-21 16:33:28,173 - DART 评估结果 - RMSE: 60.1716, K: 0.7051, 加权评分: 0.7855
2025-03-21 16:33:28,173 - ✅ DART 成为当前最佳模型 (基于加权评分)
2025-03-21 16:33:28,181 - DART 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\3months\DART.joblib
2025-03-21 16:33:28,181 - 
--------------------------------------------------
【训练 GOSS 模型】
--------------------------------------------------
2025-03-21 16:33:28,181 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'goss', 'top_rate': 0.2, 'other_rate': 0.1, 'name': 'GOSS'}
2025-03-21 16:33:28,181 - 开始训练 GOSS 模型...
2025-03-21 16:33:49,358 - GOSS 模型训练完成
2025-03-21 16:33:49,358 - 使用 GOSS 模型预测验证集...
2025-03-21 16:33:49,383 - 使用时间加权方式计算模型评分...
2025-03-21 16:33:49,388 - GOSS 评估结果 - RMSE: 53.4696, K: 0.6275, 加权评分: 0.7529
2025-03-21 16:33:49,401 - GOSS 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\3months\GOSS.joblib
2025-03-21 16:33:49,402 - Scaler 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\3months\scaler.joblib
2025-03-21 16:33:49,409 - 最佳模型 'DART' 已额外保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\3months\model.joblib
2025-03-21 16:33:49,409 - 3个月数据的模型训练完成
2025-03-21 16:33:49,409 - 
--------------------------------------------------
【更新每种算法的最佳模型】
--------------------------------------------------
2025-03-21 16:33:49,409 - ✅ 发现更好的GBDT模型 (来自3个月数据)
2025-03-21 16:33:49,409 -    新评分: 0.7498, 旧评分: 0.6447
2025-03-21 16:33:49,409 - ✅ 发现更好的DART模型 (来自3个月数据)
2025-03-21 16:33:49,409 -    新评分: 0.7855, 旧评分: 0.7393
2025-03-21 16:33:49,409 - ✅ 发现更好的GOSS模型 (来自3个月数据)
2025-03-21 16:33:49,409 -    新评分: 0.7529, 旧评分: 0.6427
2025-03-21 16:33:49,409 - 
--------------------------------------------------
【训练数据集: 全部数据】
--------------------------------------------------
2025-03-21 16:33:49,409 - 使用全部数据的数据进行训练...
2025-03-21 16:33:49,409 - 使用全部数据...
2025-03-21 16:33:49,411 - 过滤后的数据量: 15294
2025-03-21 16:33:49,411 - 对全部数据数据进行预处理...
2025-03-21 16:33:49,424 - 预处理后的特征维度: (15294, 304), 目标变量维度: (15294,)
2025-03-21 16:33:49,426 - 数据集划分完成，训练集: (13764, 304), 验证集: (1530, 304)
2025-03-21 16:33:49,426 - 提取了 1530 个验证集时间戳，用于时间加权评估
2025-03-21 16:33:49,426 - 执行特征工程，滞后特征数: 4...
2025-03-21 16:33:49,562 - 特征工程后的特征维度 - 训练集: (13761, 859), 验证集: (1527, 859)
2025-03-21 16:33:49,562 - 数据标准化...
2025-03-21 16:33:49,694 - 数据标准化完成
2025-03-21 16:33:49,694 - 创建时间窗口，窗口大小: 16...
2025-03-21 16:33:50,040 - 时间窗口创建完成 - 训练集: (13746, 16, 859), 验证集: (1512, 16, 859)
2025-03-21 16:33:50,040 - 调整时间戳长度以匹配窗口化后的验证集 - 原始长度: 1530, 目标长度: 1512
2025-03-21 16:33:50,040 - 时间戳已截断至匹配窗口化后的验证集长度: 1512
2025-03-21 16:33:50,041 - 为全部数据数据创建模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\all_data
2025-03-21 16:33:50,041 - 开始训练全部数据数据的模型...
2025-03-21 16:33:50,041 - 
--------------------------------------------------
【开始模型训练与评估】
--------------------------------------------------
2025-03-21 16:33:50,041 - 模型和 scaler 将被保存到目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\all_data
2025-03-21 16:33:50,041 - 
--------------------------------------------------
【训练 GBDT 模型】
--------------------------------------------------
2025-03-21 16:33:50,041 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'gbdt', 'name': 'GBDT'}
2025-03-21 16:33:50,041 - 开始训练 GBDT 模型...
2025-03-21 16:33:55,142 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 16:33:55,142 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 16:33:55,142 - 未找到GBDT模型文件
2025-03-21 16:33:55,142 - 未找到DART模型文件
2025-03-21 16:33:55,142 - 未找到GOSS模型文件
2025-03-21 16:33:55,142 - 未找到任何可用模型文件
2025-03-21 16:33:55,142 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 16:34:21,916 - GBDT 模型训练完成
2025-03-21 16:34:21,916 - 使用 GBDT 模型预测验证集...
2025-03-21 16:34:21,959 - 使用时间加权方式计算模型评分...
2025-03-21 16:34:21,967 - GBDT 评估结果 - RMSE: 51.9599, K: 0.6630, 加权评分: 0.7723
2025-03-21 16:34:21,967 - ✅ GBDT 成为当前最佳模型 (基于加权评分)
2025-03-21 16:34:21,977 - GBDT 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\all_data\GBDT.joblib
2025-03-21 16:34:21,977 - 
--------------------------------------------------
【训练 DART 模型】
--------------------------------------------------
2025-03-21 16:34:21,977 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'dart', 'drop_rate': 0.1, 'name': 'DART'}
2025-03-21 16:34:21,977 - 开始训练 DART 模型...
2025-03-21 16:34:25,155 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 16:34:25,155 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 16:34:25,156 - 未找到GBDT模型文件
2025-03-21 16:34:25,156 - 未找到DART模型文件
2025-03-21 16:34:25,156 - 未找到GOSS模型文件
2025-03-21 16:34:25,156 - 未找到任何可用模型文件
2025-03-21 16:34:25,157 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 16:34:54,755 - DART 模型训练完成
2025-03-21 16:34:54,756 - 使用 DART 模型预测验证集...
2025-03-21 16:34:54,793 - 使用时间加权方式计算模型评分...
2025-03-21 16:34:54,798 - DART 评估结果 - RMSE: 65.0217, K: 0.6982, 加权评分: 0.7771
2025-03-21 16:34:54,798 - ✅ DART 成为当前最佳模型 (基于加权评分)
2025-03-21 16:34:54,805 - DART 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\all_data\DART.joblib
2025-03-21 16:34:54,805 - 
--------------------------------------------------
【训练 GOSS 模型】
--------------------------------------------------
2025-03-21 16:34:54,805 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'goss', 'top_rate': 0.2, 'other_rate': 0.1, 'name': 'GOSS'}
2025-03-21 16:34:54,805 - 开始训练 GOSS 模型...
2025-03-21 16:34:55,165 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 16:34:55,165 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 16:34:55,165 - 未找到GBDT模型文件
2025-03-21 16:34:55,166 - 未找到DART模型文件
2025-03-21 16:34:55,166 - 未找到GOSS模型文件
2025-03-21 16:34:55,166 - 未找到任何可用模型文件
2025-03-21 16:34:55,166 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 16:35:24,602 - GOSS 模型训练完成
2025-03-21 16:35:24,602 - 使用 GOSS 模型预测验证集...
2025-03-21 16:35:24,645 - 使用时间加权方式计算模型评分...
2025-03-21 16:35:24,652 - GOSS 评估结果 - RMSE: 52.3822, K: 0.6635, 加权评分: 0.7720
2025-03-21 16:35:24,668 - GOSS 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\all_data\GOSS.joblib
2025-03-21 16:35:24,669 - Scaler 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\all_data\scaler.joblib
2025-03-21 16:35:24,677 - 最佳模型 'DART' 已额外保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\all_data\model.joblib
2025-03-21 16:35:24,677 - 全部数据数据的模型训练完成
2025-03-21 16:35:24,677 - 
--------------------------------------------------
【更新每种算法的最佳模型】
--------------------------------------------------
2025-03-21 16:35:24,677 - ✅ 发现更好的GBDT模型 (来自全部数据数据)
2025-03-21 16:35:24,678 -    新评分: 0.7723, 旧评分: 0.7498
2025-03-21 16:35:24,678 - ❌ 全部数据数据的DART模型不是最佳模型
2025-03-21 16:35:24,678 -    当前评分: 0.7771, 最佳评分: 0.7855
2025-03-21 16:35:24,678 - ✅ 发现更好的GOSS模型 (来自全部数据数据)
2025-03-21 16:35:24,678 -    新评分: 0.7720, 旧评分: 0.7529
2025-03-21 16:35:24,678 - 
--------------------------------------------------
【保存每种算法的最佳模型】
--------------------------------------------------
2025-03-21 16:35:24,688 - 最佳GBDT模型 (使用全部数据数据) 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models\GBDT.joblib
2025-03-21 16:35:24,688 - RMSE: 51.9599, K: 0.6630, 评分: 0.7723
2025-03-21 16:35:24,697 - 最佳DART模型 (使用3个月数据) 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models\DART.joblib
2025-03-21 16:35:24,697 - RMSE: 60.1716, K: 0.7051, 评分: 0.7855
2025-03-21 16:35:24,709 - 最佳GOSS模型 (使用全部数据数据) 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models\GOSS.joblib
2025-03-21 16:35:24,709 - RMSE: 52.3822, K: 0.6635, 评分: 0.7720
2025-03-21 16:35:24,838 - 多数据集训练完成! 已为每种算法选择最佳模型
2025-03-21 16:35:24,838 -   - 最佳GBDT模型: 使用全部数据数据, RMSE=51.9599, K=0.6630, 评分=0.7723
2025-03-21 16:35:24,838 -   - 最佳DART模型: 使用3个月数据, RMSE=60.1716, K=0.7051, 评分=0.7855
2025-03-21 16:35:24,838 -   - 最佳GOSS模型: 使用全部数据数据, RMSE=52.3822, K=0.6635, 评分=0.7720
2025-03-21 16:35:24,838 - 
================================================================================
2025-03-21 16:35:24,838 - >>> 开始计算模型权重 <<<
2025-03-21 16:35:24,838 - ================================================================================

2025-03-21 16:35:24,838 - 开始计算模型权重
2025-03-21 16:35:24,838 - 从训练数据集中提取最后三天数据进行权重优化
2025-03-21 16:35:24,839 - ✅ 已从训练数据集提取最后三天数据，共 289 条记录
2025-03-21 16:35:24,839 - 开始计算最优模型权重...
2025-03-21 16:35:24,839 - 
--------------------------------------------------
【计算模型权重】
--------------------------------------------------
2025-03-21 16:35:24,862 - 加载最佳模型和对应的scaler...
2025-03-21 16:35:24,862 - ✅ 已加载 GBDT 模型和scaler
2025-03-21 16:35:24,862 - ✅ 已加载 DART 模型和scaler
2025-03-21 16:35:24,862 - ✅ 已加载 GOSS 模型和scaler
2025-03-21 16:35:24,862 - 预处理验证数据，共 289 条记录...
2025-03-21 16:35:24,864 - 验证数据预处理完成，特征维度: (289, 304)
2025-03-21 16:35:24,894 - 验证数据特征工程完成，特征维度: (286, 859)
2025-03-21 16:35:24,894 - 使用各模型进行预测...
2025-03-21 16:35:24,901 - 使用 GBDT 模型预测...
2025-03-21 16:35:24,910 - ✅ GBDT 模型预测完成，预测结果数量: 271
2025-03-21 16:35:24,925 - 使用 DART 模型预测...
2025-03-21 16:35:24,938 - ✅ DART 模型预测完成，预测结果数量: 271
2025-03-21 16:35:24,948 - 使用 GOSS 模型预测...
2025-03-21 16:35:24,958 - ✅ GOSS 模型预测完成，预测结果数量: 271
2025-03-21 16:35:24,958 - 对齐预测结果，使用最小长度: 271
2025-03-21 16:35:24,958 - 创建线性回归的特征矩阵 (271, 3) 和目标向量 (271,)
2025-03-21 16:35:24,958 - 训练线性回归模型计算最优权重...
2025-03-21 16:35:24,959 - 线性回归得到的原始权重: {'GBDT': np.float64(0.0), 'DART': np.float64(1.1091389998624723), 'GOSS': np.float64(0.0)}
2025-03-21 16:35:24,959 - 归一化后的权重: {'GBDT': np.float64(0.0), 'DART': np.float64(1.0), 'GOSS': np.float64(0.0)}
2025-03-21 16:35:24,959 - 最终计算的模型权重: {'GBDT': np.float64(0.0), 'DART': np.float64(1.0), 'GOSS': np.float64(0.0)}
2025-03-21 16:35:24,961 - 计算得到的最优权重: {'GBDT': np.float64(0.0), 'DART': np.float64(1.0), 'GOSS': np.float64(0.0)}
2025-03-21 16:35:24,962 - 模型权重已保存到: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\model_weights.joblib
2025-03-21 16:35:24,975 - ✅ 训练完成，已创建标志文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\20250321_train_done.flag
2025-03-21 16:35:24,975 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 16:35:24,975 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 16:35:24,975 - 发现GBDT模型文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models\GBDT.joblib
2025-03-21 16:35:24,975 - ✅ 模型已成功保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321，模型可用。
2025-03-21 16:35:25,177 - ✅ 发现新的预测文件：D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv\20250321.csv，执行预测...
2025-03-21 16:35:25,177 - 
============================================================
【风电功率预测开始】
============================================================
2025-03-21 16:35:25,177 - 配置信息:
2025-03-21 16:35:25,178 -   - 数据文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv\20250321.csv
2025-03-21 16:35:25,178 -   - 模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 16:35:25,178 -   - 窗口大小: 16
2025-03-21 16:35:25,178 -   - 滞后特征数: 4
2025-03-21 16:35:25,178 - 
============================================================
【预处理新数据】
============================================================
2025-03-21 16:35:25,178 - 加载数据文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv\20250321.csv
2025-03-21 16:35:25,192 - 数据加载完成，去除缺失值后共 109 条记录
2025-03-21 16:35:25,243 - 数据前5行预览:
         Timestamp    129.128_1    129.128_2  ...  ws200_13   ws200_14   ws200_15
0  2024/4/16 20:00  15974.26563  16293.82813  ...  9.541195  10.863499  12.404554
1  2024/4/16 20:15  15974.26563  16293.82813  ...  9.280917  10.585079  12.259521
2  2024/4/16 20:30  15974.26563  16293.82813  ...  9.020693  10.307371  12.115601
3  2024/4/16 20:45  15974.26563  16293.82813  ...  8.760527  10.030434  11.972834
4  2024/4/16 21:00  15974.26563  16293.82813  ...  8.500424   9.754334  11.831263

[5 rows x 301 columns]
2025-03-21 16:35:25,243 - 预处理数据...
2025-03-21 16:35:25,245 - 预处理完成，特征维度: (109, 304)
2025-03-21 16:35:25,245 - 执行特征工程，滞后特征数: 4...
2025-03-21 16:35:25,277 - 特征工程完成，特征维度: (106, 859)
2025-03-21 16:35:25,277 - 新数据预处理完成，共 106 个样本
2025-03-21 16:35:25,277 - ✅ 发现最佳模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models，尝试使用多模型加权预测
2025-03-21 16:35:25,277 - 
============================================================
【加载多个模型】
============================================================
2025-03-21 16:35:25,278 - 从目录加载模型和 scaler: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 16:35:25,278 - 加载 GBDT 模型和 scaler...
2025-03-21 16:35:25,285 - ✅ 已成功加载 GBDT 模型和对应的 scaler
2025-03-21 16:35:25,286 - 加载 DART 模型和 scaler...
2025-03-21 16:35:25,293 - ✅ 已成功加载 DART 模型和对应的 scaler
2025-03-21 16:35:25,293 - 加载 GOSS 模型和 scaler...
2025-03-21 16:35:25,298 - ✅ 已成功加载 GOSS 模型和对应的 scaler
2025-03-21 16:35:25,299 - 加载完成，共加载了 3 个模型: GBDT, DART, GOSS
2025-03-21 16:35:25,299 - 尝试加载模型权重文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\model_weights.joblib
2025-03-21 16:35:25,299 - ✅ 已加载模型权重: {'GBDT': np.float64(0.0), 'DART': np.float64(1.0), 'GOSS': np.float64(0.0)}
2025-03-21 16:35:25,299 - 
============================================================
【使用多模型加权预测】
============================================================
2025-03-21 16:35:25,299 - 使用自定义权重: {'GBDT': np.float64(0.0), 'DART': np.float64(1.0), 'GOSS': np.float64(0.0)}
2025-03-21 16:35:25,299 - ❌ GBDT 模型权重为0，跳过
2025-03-21 16:35:25,299 - 使用 DART 模型进行预测 (权重: 1.0000)...
2025-03-21 16:35:25,302 - DART: 数据标准化完成
2025-03-21 16:35:25,304 - DART: 时间窗口创建完成，窗口数量: 91
2025-03-21 16:35:25,308 - ✅ DART 模型预测完成，生成了 91 个预测值
2025-03-21 16:35:25,309 -    统计: 最小值=170.80, 最大值=209.75, 平均值=196.57
2025-03-21 16:35:25,309 - ❌ GOSS 模型权重为0，跳过
2025-03-21 16:35:25,309 - 所有预测结果对齐到最小长度: 91
2025-03-21 16:35:25,309 - 开始计算加权平均预测结果...
2025-03-21 16:35:25,309 -   加入 DART 模型贡献 (权重: 1.0000)
2025-03-21 16:35:25,309 - 加权平均预测完成，生成了 91 个预测值
2025-03-21 16:35:25,309 - 加权预测结果统计: 最小值=170.80, 最大值=209.75, 平均值=196.57
2025-03-21 16:35:25,310 - ✅ 多模型加权预测完成，使用模型: GBDT, DART, GOSS
2025-03-21 16:35:25,310 - 
============================================================
【保存预测结果】
============================================================
2025-03-21 16:35:25,311 - 创建输出目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\results\shortresult\20250321
2025-03-21 16:35:25,311 - 预测结果数据框创建完成，共 91 行
2025-03-21 16:35:25,313 - ✅ 预测结果已保存到文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\results\shortresult\20250321\20250321.csv
2025-03-21 16:35:25,313 - 尝试将预测结果导入数据库...
2025-03-21 16:35:25,313 - 发送HTTP请求到: http://localhost:5000/prediction2database/batch_shortl_power
2025-03-21 16:35:27,679 - ✅ 数据已成功导入数据库
2025-03-21 16:35:27,679 -    总记录数: 91, 更新: 91, 插入: 0
2025-03-21 16:35:27,679 - ✅ 预测结果已保存到: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\results\shortresult\20250321\20250321.csv
2025-03-21 16:35:27,680 - ✅ 创建预测完成标志文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\results\shortresult\20250321\20250321_predict_done.flag
2025-03-21 16:35:27,680 - 
============================================================
【风电功率预测完成】
============================================================
2025-03-21 16:35:27,680 - 风电功率预测完成
2025-03-21 16:35:27,681 - ✅ 预测执行完成
2025-03-21 16:35:27,682 - 
================================================================================
2025-03-21 16:35:27,682 - >>> 系统任务完成 <<<
2025-03-21 16:35:27,682 - ================================================================================

2025-03-21 16:35:27,682 - 系统任务完成
2025-03-21 16:35:27,682 - 今天的训练和预测任务已完成。
2025-03-21 19:11:22,999 - 
================================================================================
2025-03-21 19:11:22,999 - >>> 自动训练预测系统启动 <<<
2025-03-21 19:11:22,999 - ================================================================================

2025-03-21 19:11:22,999 - 自动训练预测系统启动
2025-03-21 19:11:22,999 - 今天的日期是: 20250321
2025-03-21 19:11:22,999 - 创建监视线程...
2025-03-21 19:11:22,999 - 启动训练线程...
2025-03-21 19:11:23,000 - 启动预测线程...
2025-03-21 19:11:23,000 - 
================================================================================
2025-03-21 19:11:23,000 - >>> 启动训练监视线程 <<<
2025-03-21 19:11:23,000 - ================================================================================

2025-03-21 19:11:23,000 - 启动训练监视线程
2025-03-21 19:11:23,000 - 等待线程完成...
2025-03-21 19:11:23,001 - 
================================================================================
2025-03-21 19:11:23,001 - 训练文件路径: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short\20250321.csv
2025-03-21 19:11:23,001 - >>> 启动预测监视线程 <<<
2025-03-21 19:11:23,001 - 模型存储目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 19:11:23,001 - ================================================================================

2025-03-21 19:11:23,001 - 训练完成标志文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\20250321_train_done.flag
2025-03-21 19:11:23,001 - 启动预测监视线程
2025-03-21 19:11:23,001 - 开始监视 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short 文件夹以进行训练...
2025-03-21 19:11:23,001 - 预测数据文件路径: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv\20250321.csv
2025-03-21 19:11:23,001 - 模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 19:11:23,001 - ✅ 发现新的训练文件：D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short\20250321.csv，执行训练...
2025-03-21 19:11:23,001 - 预测完成标志文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\results\shortresult\20250321\20250321_predict_done.flag
2025-03-21 19:11:23,002 - 开始监视 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv 文件夹以进行预测...
2025-03-21 19:11:23,002 - 
================================================================================
2025-03-21 19:11:23,002 - >>> 开始模型训练 <<<
2025-03-21 19:11:23,002 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 19:11:23,002 - ================================================================================

2025-03-21 19:11:23,002 - 配置信息:
2025-03-21 19:11:23,002 - 未找到best_models目录，检查传统模型文件
2025-03-21 19:11:23,002 -   - 窗口大小: 16
2025-03-21 19:11:23,002 -   - 滞后特征数: 4
2025-03-21 19:11:23,002 - 未找到任何可用模型文件
2025-03-21 19:11:23,002 -   - 训练集比例: 0.9
2025-03-21 19:11:23,002 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 19:11:23,002 -   - 输出目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\train_predictions\short_predictions
2025-03-21 19:11:23,003 -   - 模型存储路径: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 19:11:23,003 - 输出结果将保存到: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\train_predictions\short_predictions
2025-03-21 19:11:23,003 - 
================================================================================
2025-03-21 19:11:23,003 - >>> 数据加载与预处理 <<<
2025-03-21 19:11:23,003 - ================================================================================

2025-03-21 19:11:23,003 - 加载数据文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short\20250321.csv
2025-03-21 19:11:23,003 - 开始加载和预处理数据...
2025-03-21 19:11:23,759 - 数据加载完成，共 38172 条记录
2025-03-21 19:11:23,778 - 数据前5行预览: 
       Timestamp    129.128_1    129.128_2  ...  ws200_15  wp_true    ws_all
0  2023/3/2 0:00  15950.07031  16250.82031  ...  8.808324    26.02  4.092251
1  2023/3/2 0:15  15950.07031  16250.82031  ...  8.549524    19.92  3.833974
2  2023/3/2 0:30  15950.07031  16250.82031  ...  8.295010    14.90  3.591723
3  2023/3/2 0:45  15950.07031  16250.82031  ...  8.045185     8.43  3.206756
4  2023/3/2 1:00  15950.07031  16250.82031  ...  7.800503     5.47  2.986988

[5 rows x 303 columns]
2025-03-21 19:11:23,793 - 数据集时间范围: 2023-03-02 至 2024-04-17, 共 13 个月
2025-03-21 19:11:23,794 - 将使用以下时间段训练模型: [1, 3, 6, 9, 12, None]
2025-03-21 19:11:23,794 - 
================================================================================
2025-03-21 19:11:23,794 - >>> 开始多数据集训练 <<<
2025-03-21 19:11:23,794 - ================================================================================

2025-03-21 19:11:23,794 - 将使用多种时间跨度的数据训练模型...
2025-03-21 19:11:23,794 - 
--------------------------------------------------
【使用多个数据集训练模型】
--------------------------------------------------
2025-03-21 19:11:23,795 - 最佳模型将保存到: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 19:11:23,795 - 获取统一参数成功，包含 3 种模型类型
2025-03-21 19:11:23,795 - 
--------------------------------------------------
【训练数据集: 1个月】
--------------------------------------------------
2025-03-21 19:11:23,795 - 使用1个月的数据进行训练...
2025-03-21 19:11:23,795 - 过滤数据为最近1个月...
2025-03-21 19:11:23,797 - 过滤后的数据量: 2977
2025-03-21 19:11:23,797 - 对1个月数据进行预处理...
2025-03-21 19:11:23,802 - 预处理后的特征维度: (2977, 304), 目标变量维度: (2977,)
2025-03-21 19:11:23,802 - 数据集划分完成，训练集: (2679, 304), 验证集: (298, 304)
2025-03-21 19:11:23,802 - 提取了 298 个验证集时间戳，用于时间加权评估
2025-03-21 19:11:23,802 - 执行特征工程，滞后特征数: 4...
2025-03-21 19:11:23,849 - 特征工程后的特征维度 - 训练集: (2676, 859), 验证集: (295, 859)
2025-03-21 19:11:23,849 - 数据标准化...
2025-03-21 19:11:23,879 - 数据标准化完成
2025-03-21 19:11:23,879 - 创建时间窗口，窗口大小: 16...
2025-03-21 19:11:23,927 - 时间窗口创建完成 - 训练集: (2661, 16, 859), 验证集: (280, 16, 859)
2025-03-21 19:11:23,927 - 调整时间戳长度以匹配窗口化后的验证集 - 原始长度: 298, 目标长度: 280
2025-03-21 19:11:23,928 - 时间戳已截断至匹配窗口化后的验证集长度: 280
2025-03-21 19:11:23,928 - 为1个月数据创建模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\1months
2025-03-21 19:11:23,928 - 开始训练1个月数据的模型...
2025-03-21 19:11:23,928 - 
--------------------------------------------------
【开始模型训练与评估】
--------------------------------------------------
2025-03-21 19:11:23,929 - 模型和 scaler 将被保存到目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\1months
2025-03-21 19:11:23,929 - 
--------------------------------------------------
【训练 GBDT 模型】
--------------------------------------------------
2025-03-21 19:11:23,929 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'gbdt', 'name': 'GBDT'}
2025-03-21 19:11:23,929 - 开始训练 GBDT 模型...
2025-03-21 19:11:40,392 - GBDT 模型训练完成
2025-03-21 19:11:40,392 - 使用 GBDT 模型预测验证集...
2025-03-21 19:11:40,400 - 使用时间加权方式计算模型评分...
2025-03-21 19:11:40,403 - GBDT 评估结果 - RMSE: 68.3078, K: 0.4502, 加权评分: 0.6447
2025-03-21 19:11:40,403 - ✅ GBDT 成为当前最佳模型 (基于加权评分)
2025-03-21 19:11:40,412 - GBDT 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\1months\GBDT.joblib
2025-03-21 19:11:40,412 - 
--------------------------------------------------
【训练 DART 模型】
--------------------------------------------------
2025-03-21 19:11:40,412 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'dart', 'drop_rate': 0.1, 'name': 'DART'}
2025-03-21 19:11:40,413 - 开始训练 DART 模型...
2025-03-21 19:11:53,017 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 19:11:53,017 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 19:11:53,018 - 未找到GBDT模型文件
2025-03-21 19:11:53,018 - 未找到DART模型文件
2025-03-21 19:11:53,018 - 未找到GOSS模型文件
2025-03-21 19:11:53,019 - 未找到任何可用模型文件
2025-03-21 19:11:53,019 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 19:11:56,759 - DART 模型训练完成
2025-03-21 19:11:56,759 - 使用 DART 模型预测验证集...
2025-03-21 19:11:56,766 - 使用时间加权方式计算模型评分...
2025-03-21 19:11:56,768 - DART 评估结果 - RMSE: 62.7504, K: 0.6220, 加权评分: 0.7393
2025-03-21 19:11:56,768 - ✅ DART 成为当前最佳模型 (基于加权评分)
2025-03-21 19:11:56,775 - DART 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\1months\DART.joblib
2025-03-21 19:11:56,775 - 
--------------------------------------------------
【训练 GOSS 模型】
--------------------------------------------------
2025-03-21 19:11:56,775 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'goss', 'top_rate': 0.2, 'other_rate': 0.1, 'name': 'GOSS'}
2025-03-21 19:11:56,775 - 开始训练 GOSS 模型...
2025-03-21 19:12:09,913 - GOSS 模型训练完成
2025-03-21 19:12:09,913 - 使用 GOSS 模型预测验证集...
2025-03-21 19:12:09,922 - 使用时间加权方式计算模型评分...
2025-03-21 19:12:09,923 - GOSS 评估结果 - RMSE: 68.2680, K: 0.4465, 加权评分: 0.6427
2025-03-21 19:12:09,939 - GOSS 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\1months\GOSS.joblib
2025-03-21 19:12:09,941 - Scaler 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\1months\scaler.joblib
2025-03-21 19:12:09,949 - 最佳模型 'DART' 已额外保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\1months\model.joblib
2025-03-21 19:12:09,949 - 1个月数据的模型训练完成
2025-03-21 19:12:09,949 - 
--------------------------------------------------
【更新每种算法的最佳模型】
--------------------------------------------------
2025-03-21 19:12:09,949 - ✅ 发现更好的GBDT模型 (来自1个月数据)
2025-03-21 19:12:09,949 -    新评分: 0.6447, 旧评分: -inf
2025-03-21 19:12:09,949 - ✅ 发现更好的DART模型 (来自1个月数据)
2025-03-21 19:12:09,949 -    新评分: 0.7393, 旧评分: -inf
2025-03-21 19:12:09,949 - ✅ 发现更好的GOSS模型 (来自1个月数据)
2025-03-21 19:12:09,949 -    新评分: 0.6427, 旧评分: -inf
2025-03-21 19:12:09,950 - 
--------------------------------------------------
【训练数据集: 3个月】
--------------------------------------------------
2025-03-21 19:12:09,950 - 使用3个月的数据进行训练...
2025-03-21 19:12:09,950 - 过滤数据为最近3个月...
2025-03-21 19:12:09,956 - 过滤后的数据量: 8737
2025-03-21 19:12:09,956 - 对3个月数据进行预处理...
2025-03-21 19:12:09,964 - 预处理后的特征维度: (8737, 304), 目标变量维度: (8737,)
2025-03-21 19:12:09,965 - 数据集划分完成，训练集: (7863, 304), 验证集: (874, 304)
2025-03-21 19:12:09,965 - 提取了 874 个验证集时间戳，用于时间加权评估
2025-03-21 19:12:09,965 - 执行特征工程，滞后特征数: 4...
2025-03-21 19:12:10,070 - 特征工程后的特征维度 - 训练集: (7860, 859), 验证集: (871, 859)
2025-03-21 19:12:10,071 - 数据标准化...
2025-03-21 19:12:10,166 - 数据标准化完成
2025-03-21 19:12:10,166 - 创建时间窗口，窗口大小: 16...
2025-03-21 19:12:10,384 - 时间窗口创建完成 - 训练集: (7845, 16, 859), 验证集: (856, 16, 859)
2025-03-21 19:12:10,384 - 调整时间戳长度以匹配窗口化后的验证集 - 原始长度: 874, 目标长度: 856
2025-03-21 19:12:10,385 - 时间戳已截断至匹配窗口化后的验证集长度: 856
2025-03-21 19:12:10,385 - 为3个月数据创建模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\3months
2025-03-21 19:12:10,385 - 开始训练3个月数据的模型...
2025-03-21 19:12:10,385 - 
--------------------------------------------------
【开始模型训练与评估】
--------------------------------------------------
2025-03-21 19:12:10,385 - 模型和 scaler 将被保存到目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\3months
2025-03-21 19:12:10,385 - 
--------------------------------------------------
【训练 GBDT 模型】
--------------------------------------------------
2025-03-21 19:12:10,385 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'gbdt', 'name': 'GBDT'}
2025-03-21 19:12:10,386 - 开始训练 GBDT 模型...
2025-03-21 19:12:23,030 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 19:12:23,031 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 19:12:23,031 - 未找到GBDT模型文件
2025-03-21 19:12:23,031 - 未找到DART模型文件
2025-03-21 19:12:23,031 - 未找到GOSS模型文件
2025-03-21 19:12:23,031 - 未找到任何可用模型文件
2025-03-21 19:12:23,031 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 19:12:33,323 - GBDT 模型训练完成
2025-03-21 19:12:33,323 - 使用 GBDT 模型预测验证集...
2025-03-21 19:12:33,342 - 使用时间加权方式计算模型评分...
2025-03-21 19:12:33,345 - GBDT 评估结果 - RMSE: 53.7633, K: 0.6220, 加权评分: 0.7498
2025-03-21 19:12:33,345 - ✅ GBDT 成为当前最佳模型 (基于加权评分)
2025-03-21 19:12:33,352 - GBDT 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\3months\GBDT.joblib
2025-03-21 19:12:33,352 - 
--------------------------------------------------
【训练 DART 模型】
--------------------------------------------------
2025-03-21 19:12:33,352 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'dart', 'drop_rate': 0.1, 'name': 'DART'}
2025-03-21 19:12:33,353 - 开始训练 DART 模型...
2025-03-21 19:12:53,038 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 19:12:53,038 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 19:12:53,038 - 未找到GBDT模型文件
2025-03-21 19:12:53,039 - 未找到DART模型文件
2025-03-21 19:12:53,039 - 未找到GOSS模型文件
2025-03-21 19:12:53,039 - 未找到任何可用模型文件
2025-03-21 19:12:53,039 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 19:12:56,421 - DART 模型训练完成
2025-03-21 19:12:56,421 - 使用 DART 模型预测验证集...
2025-03-21 19:12:56,442 - 使用时间加权方式计算模型评分...
2025-03-21 19:12:56,447 - DART 评估结果 - RMSE: 60.1716, K: 0.7051, 加权评分: 0.7855
2025-03-21 19:12:56,447 - ✅ DART 成为当前最佳模型 (基于加权评分)
2025-03-21 19:12:56,455 - DART 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\3months\DART.joblib
2025-03-21 19:12:56,455 - 
--------------------------------------------------
【训练 GOSS 模型】
--------------------------------------------------
2025-03-21 19:12:56,455 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'goss', 'top_rate': 0.2, 'other_rate': 0.1, 'name': 'GOSS'}
2025-03-21 19:12:56,455 - 开始训练 GOSS 模型...
2025-03-21 19:13:17,588 - GOSS 模型训练完成
2025-03-21 19:13:17,588 - 使用 GOSS 模型预测验证集...
2025-03-21 19:13:17,611 - 使用时间加权方式计算模型评分...
2025-03-21 19:13:17,618 - GOSS 评估结果 - RMSE: 53.4696, K: 0.6275, 加权评分: 0.7529
2025-03-21 19:13:17,634 - GOSS 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\3months\GOSS.joblib
2025-03-21 19:13:17,635 - Scaler 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\3months\scaler.joblib
2025-03-21 19:13:17,642 - 最佳模型 'DART' 已额外保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\3months\model.joblib
2025-03-21 19:13:17,643 - 3个月数据的模型训练完成
2025-03-21 19:13:17,643 - 
--------------------------------------------------
【更新每种算法的最佳模型】
--------------------------------------------------
2025-03-21 19:13:17,643 - ✅ 发现更好的GBDT模型 (来自3个月数据)
2025-03-21 19:13:17,643 -    新评分: 0.7498, 旧评分: 0.6447
2025-03-21 19:13:17,643 - ✅ 发现更好的DART模型 (来自3个月数据)
2025-03-21 19:13:17,643 -    新评分: 0.7855, 旧评分: 0.7393
2025-03-21 19:13:17,643 - ✅ 发现更好的GOSS模型 (来自3个月数据)
2025-03-21 19:13:17,643 -    新评分: 0.7529, 旧评分: 0.6427
2025-03-21 19:13:17,643 - 
--------------------------------------------------
【训练数据集: 6个月】
--------------------------------------------------
2025-03-21 19:13:17,643 - 使用6个月的数据进行训练...
2025-03-21 19:13:17,644 - 过滤数据为最近6个月...
2025-03-21 19:13:17,656 - 过滤后的数据量: 17327
2025-03-21 19:13:17,656 - 对6个月数据进行预处理...
2025-03-21 19:13:17,669 - 预处理后的特征维度: (17327, 304), 目标变量维度: (17327,)
2025-03-21 19:13:17,670 - 数据集划分完成，训练集: (15594, 304), 验证集: (1733, 304)
2025-03-21 19:13:17,671 - 提取了 1733 个验证集时间戳，用于时间加权评估
2025-03-21 19:13:17,671 - 执行特征工程，滞后特征数: 4...
2025-03-21 19:13:17,818 - 特征工程后的特征维度 - 训练集: (15591, 859), 验证集: (1730, 859)
2025-03-21 19:13:17,818 - 数据标准化...
2025-03-21 19:13:17,988 - 数据标准化完成
2025-03-21 19:13:17,988 - 创建时间窗口，窗口大小: 16...
2025-03-21 19:13:18,394 - 时间窗口创建完成 - 训练集: (15576, 16, 859), 验证集: (1715, 16, 859)
2025-03-21 19:13:18,394 - 调整时间戳长度以匹配窗口化后的验证集 - 原始长度: 1733, 目标长度: 1715
2025-03-21 19:13:18,394 - 时间戳已截断至匹配窗口化后的验证集长度: 1715
2025-03-21 19:13:18,395 - 为6个月数据创建模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\6months
2025-03-21 19:13:18,395 - 开始训练6个月数据的模型...
2025-03-21 19:13:18,395 - 
--------------------------------------------------
【开始模型训练与评估】
--------------------------------------------------
2025-03-21 19:13:18,395 - 模型和 scaler 将被保存到目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\6months
2025-03-21 19:13:18,395 - 
--------------------------------------------------
【训练 GBDT 模型】
--------------------------------------------------
2025-03-21 19:13:18,395 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'gbdt', 'name': 'GBDT'}
2025-03-21 19:13:18,395 - 开始训练 GBDT 模型...
2025-03-21 19:13:23,044 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 19:13:23,044 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 19:13:23,044 - 未找到GBDT模型文件
2025-03-21 19:13:23,044 - 未找到DART模型文件
2025-03-21 19:13:23,044 - 未找到GOSS模型文件
2025-03-21 19:13:23,044 - 未找到任何可用模型文件
2025-03-21 19:13:23,045 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 19:13:51,304 - GBDT 模型训练完成
2025-03-21 19:13:51,305 - 使用 GBDT 模型预测验证集...
2025-03-21 19:13:51,350 - 使用时间加权方式计算模型评分...
2025-03-21 19:13:51,358 - GBDT 评估结果 - RMSE: 50.8665, K: 0.6900, 加权评分: 0.7872
2025-03-21 19:13:51,358 - ✅ GBDT 成为当前最佳模型 (基于加权评分)
2025-03-21 19:13:51,369 - GBDT 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\6months\GBDT.joblib
2025-03-21 19:13:51,370 - 
--------------------------------------------------
【训练 DART 模型】
--------------------------------------------------
2025-03-21 19:13:51,370 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'dart', 'drop_rate': 0.1, 'name': 'DART'}
2025-03-21 19:13:51,370 - 开始训练 DART 模型...
2025-03-21 19:13:53,050 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 19:13:53,050 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 19:13:53,050 - 未找到GBDT模型文件
2025-03-21 19:13:53,050 - 未找到DART模型文件
2025-03-21 19:13:53,050 - 未找到GOSS模型文件
2025-03-21 19:13:53,051 - 未找到任何可用模型文件
2025-03-21 19:13:53,051 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 19:14:23,052 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 19:14:23,052 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 19:14:23,053 - 未找到GBDT模型文件
2025-03-21 19:14:23,053 - 未找到DART模型文件
2025-03-21 19:14:23,053 - 未找到GOSS模型文件
2025-03-21 19:14:23,053 - 未找到任何可用模型文件
2025-03-21 19:14:23,054 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 19:14:25,508 - DART 模型训练完成
2025-03-21 19:14:25,508 - 使用 DART 模型预测验证集...
2025-03-21 19:14:25,556 - 使用时间加权方式计算模型评分...
2025-03-21 19:14:25,564 - DART 评估结果 - RMSE: 68.5842, K: 0.6994, 加权评分: 0.7739
2025-03-21 19:14:25,572 - DART 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\6months\DART.joblib
2025-03-21 19:14:25,572 - 
--------------------------------------------------
【训练 GOSS 模型】
--------------------------------------------------
2025-03-21 19:14:25,572 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'goss', 'top_rate': 0.2, 'other_rate': 0.1, 'name': 'GOSS'}
2025-03-21 19:14:25,572 - 开始训练 GOSS 模型...
2025-03-21 19:14:53,067 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 19:14:53,067 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 19:14:53,067 - 未找到GBDT模型文件
2025-03-21 19:14:53,068 - 未找到DART模型文件
2025-03-21 19:14:53,068 - 未找到GOSS模型文件
2025-03-21 19:14:53,068 - 未找到任何可用模型文件
2025-03-21 19:14:53,068 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 19:14:56,336 - GOSS 模型训练完成
2025-03-21 19:14:56,336 - 使用 GOSS 模型预测验证集...
2025-03-21 19:14:56,384 - 使用时间加权方式计算模型评分...
2025-03-21 19:14:56,394 - GOSS 评估结果 - RMSE: 49.3663, K: 0.6978, 加权评分: 0.7928
2025-03-21 19:14:56,394 - ✅ GOSS 成为当前最佳模型 (基于加权评分)
2025-03-21 19:14:56,408 - GOSS 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\6months\GOSS.joblib
2025-03-21 19:14:56,409 - Scaler 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\6months\scaler.joblib
2025-03-21 19:14:56,425 - 最佳模型 'GOSS' 已额外保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\6months\model.joblib
2025-03-21 19:14:56,425 - 6个月数据的模型训练完成
2025-03-21 19:14:56,425 - 
--------------------------------------------------
【更新每种算法的最佳模型】
--------------------------------------------------
2025-03-21 19:14:56,425 - ✅ 发现更好的GBDT模型 (来自6个月数据)
2025-03-21 19:14:56,425 -    新评分: 0.7872, 旧评分: 0.7498
2025-03-21 19:14:56,425 - ❌ 6个月数据的DART模型不是最佳模型
2025-03-21 19:14:56,425 -    当前评分: 0.7739, 最佳评分: 0.7855
2025-03-21 19:14:56,425 - ✅ 发现更好的GOSS模型 (来自6个月数据)
2025-03-21 19:14:56,425 -    新评分: 0.7928, 旧评分: 0.7529
2025-03-21 19:14:56,426 - 
--------------------------------------------------
【训练数据集: 9个月】
--------------------------------------------------
2025-03-21 19:14:56,426 - 使用9个月的数据进行训练...
2025-03-21 19:14:56,426 - 过滤数据为最近9个月...
2025-03-21 19:14:56,447 - 过滤后的数据量: 24928
2025-03-21 19:14:56,447 - 对9个月数据进行预处理...
2025-03-21 19:14:56,473 - 预处理后的特征维度: (24928, 304), 目标变量维度: (24928,)
2025-03-21 19:14:56,477 - 数据集划分完成，训练集: (22435, 304), 验证集: (2493, 304)
2025-03-21 19:14:56,478 - 提取了 2493 个验证集时间戳，用于时间加权评估
2025-03-21 19:14:56,478 - 执行特征工程，滞后特征数: 4...
2025-03-21 19:14:56,667 - 特征工程后的特征维度 - 训练集: (22432, 859), 验证集: (2490, 859)
2025-03-21 19:14:56,667 - 数据标准化...
2025-03-21 19:14:56,878 - 数据标准化完成
2025-03-21 19:14:56,879 - 创建时间窗口，窗口大小: 16...
2025-03-21 19:14:57,448 - 时间窗口创建完成 - 训练集: (22417, 16, 859), 验证集: (2475, 16, 859)
2025-03-21 19:14:57,448 - 调整时间戳长度以匹配窗口化后的验证集 - 原始长度: 2493, 目标长度: 2475
2025-03-21 19:14:57,449 - 时间戳已截断至匹配窗口化后的验证集长度: 2475
2025-03-21 19:14:57,449 - 为9个月数据创建模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\9months
2025-03-21 19:14:57,449 - 开始训练9个月数据的模型...
2025-03-21 19:14:57,449 - 
--------------------------------------------------
【开始模型训练与评估】
--------------------------------------------------
2025-03-21 19:14:57,449 - 模型和 scaler 将被保存到目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\9months
2025-03-21 19:14:57,449 - 
--------------------------------------------------
【训练 GBDT 模型】
--------------------------------------------------
2025-03-21 19:14:57,449 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'gbdt', 'name': 'GBDT'}
2025-03-21 19:14:57,450 - 开始训练 GBDT 模型...
2025-03-21 19:15:23,073 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 19:15:23,073 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 19:15:23,073 - 未找到GBDT模型文件
2025-03-21 19:15:23,074 - 未找到DART模型文件
2025-03-21 19:15:23,074 - 未找到GOSS模型文件
2025-03-21 19:15:23,074 - 未找到任何可用模型文件
2025-03-21 19:15:23,074 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 19:15:38,405 - GBDT 模型训练完成
2025-03-21 19:15:38,405 - 使用 GBDT 模型预测验证集...
2025-03-21 19:15:38,490 - 使用时间加权方式计算模型评分...
2025-03-21 19:15:38,501 - GBDT 评估结果 - RMSE: 48.8180, K: 0.6768, 加权评分: 0.7836
2025-03-21 19:15:38,501 - ✅ GBDT 成为当前最佳模型 (基于加权评分)
2025-03-21 19:15:38,508 - GBDT 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\9months\GBDT.joblib
2025-03-21 19:15:38,508 - 
--------------------------------------------------
【训练 DART 模型】
--------------------------------------------------
2025-03-21 19:15:38,508 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'dart', 'drop_rate': 0.1, 'name': 'DART'}
2025-03-21 19:15:38,508 - 开始训练 DART 模型...
2025-03-21 19:15:53,085 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 19:15:53,085 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 19:15:53,085 - 未找到GBDT模型文件
2025-03-21 19:15:53,085 - 未找到DART模型文件
2025-03-21 19:15:53,085 - 未找到GOSS模型文件
2025-03-21 19:15:53,085 - 未找到任何可用模型文件
2025-03-21 19:15:53,085 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 19:16:20,584 - DART 模型训练完成
2025-03-21 19:16:20,584 - 使用 DART 模型预测验证集...
2025-03-21 19:16:20,664 - 使用时间加权方式计算模型评分...
2025-03-21 19:16:20,687 - DART 评估结果 - RMSE: 61.0135, K: 0.7109, 加权评分: 0.7877
2025-03-21 19:16:20,687 - ✅ DART 成为当前最佳模型 (基于加权评分)
2025-03-21 19:16:20,698 - DART 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\9months\DART.joblib
2025-03-21 19:16:20,699 - 
--------------------------------------------------
【训练 GOSS 模型】
--------------------------------------------------
2025-03-21 19:16:20,699 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'goss', 'top_rate': 0.2, 'other_rate': 0.1, 'name': 'GOSS'}
2025-03-21 19:16:20,699 - 开始训练 GOSS 模型...
2025-03-21 19:16:23,088 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 19:16:23,088 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 19:16:23,088 - 未找到GBDT模型文件
2025-03-21 19:16:23,088 - 未找到DART模型文件
2025-03-21 19:16:23,088 - 未找到GOSS模型文件
2025-03-21 19:16:23,088 - 未找到任何可用模型文件
2025-03-21 19:16:23,088 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 19:16:53,104 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 19:16:53,104 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 19:16:53,105 - 未找到GBDT模型文件
2025-03-21 19:16:53,105 - 未找到DART模型文件
2025-03-21 19:16:53,105 - 未找到GOSS模型文件
2025-03-21 19:16:53,105 - 未找到任何可用模型文件
2025-03-21 19:16:53,105 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 19:16:59,293 - GOSS 模型训练完成
2025-03-21 19:16:59,293 - 使用 GOSS 模型预测验证集...
2025-03-21 19:16:59,421 - 使用时间加权方式计算模型评分...
2025-03-21 19:16:59,429 - GOSS 评估结果 - RMSE: 48.8096, K: 0.6796, 加权评分: 0.7852
2025-03-21 19:16:59,447 - GOSS 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\9months\GOSS.joblib
2025-03-21 19:16:59,449 - Scaler 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\9months\scaler.joblib
2025-03-21 19:16:59,457 - 最佳模型 'DART' 已额外保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\9months\model.joblib
2025-03-21 19:16:59,457 - 9个月数据的模型训练完成
2025-03-21 19:16:59,457 - 
--------------------------------------------------
【更新每种算法的最佳模型】
--------------------------------------------------
2025-03-21 19:16:59,458 - ❌ 9个月数据的GBDT模型不是最佳模型
2025-03-21 19:16:59,458 -    当前评分: 0.7836, 最佳评分: 0.7872
2025-03-21 19:16:59,458 - ✅ 发现更好的DART模型 (来自9个月数据)
2025-03-21 19:16:59,458 -    新评分: 0.7877, 旧评分: 0.7855
2025-03-21 19:16:59,458 - ❌ 9个月数据的GOSS模型不是最佳模型
2025-03-21 19:16:59,458 -    当前评分: 0.7852, 最佳评分: 0.7928
2025-03-21 19:16:59,458 - 
--------------------------------------------------
【训练数据集: 12个月】
--------------------------------------------------
2025-03-21 19:16:59,458 - 使用12个月的数据进行训练...
2025-03-21 19:16:59,458 - 过滤数据为最近12个月...
2025-03-21 19:16:59,480 - 过滤后的数据量: 33664
2025-03-21 19:16:59,481 - 对12个月数据进行预处理...
2025-03-21 19:16:59,508 - 预处理后的特征维度: (33664, 304), 目标变量维度: (33664,)
2025-03-21 19:16:59,513 - 数据集划分完成，训练集: (30297, 304), 验证集: (3367, 304)
2025-03-21 19:16:59,513 - 提取了 3367 个验证集时间戳，用于时间加权评估
2025-03-21 19:16:59,513 - 执行特征工程，滞后特征数: 4...
2025-03-21 19:16:59,754 - 特征工程后的特征维度 - 训练集: (30294, 859), 验证集: (3364, 859)
2025-03-21 19:16:59,754 - 数据标准化...
2025-03-21 19:17:00,050 - 数据标准化完成
2025-03-21 19:17:00,050 - 创建时间窗口，窗口大小: 16...
2025-03-21 19:17:00,734 - 时间窗口创建完成 - 训练集: (30279, 16, 859), 验证集: (3349, 16, 859)
2025-03-21 19:17:00,734 - 调整时间戳长度以匹配窗口化后的验证集 - 原始长度: 3367, 目标长度: 3349
2025-03-21 19:17:00,734 - 时间戳已截断至匹配窗口化后的验证集长度: 3349
2025-03-21 19:17:00,735 - 为12个月数据创建模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\12months
2025-03-21 19:17:00,735 - 开始训练12个月数据的模型...
2025-03-21 19:17:00,735 - 
--------------------------------------------------
【开始模型训练与评估】
--------------------------------------------------
2025-03-21 19:17:00,735 - 模型和 scaler 将被保存到目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\12months
2025-03-21 19:17:00,735 - 
--------------------------------------------------
【训练 GBDT 模型】
--------------------------------------------------
2025-03-21 19:17:00,735 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'gbdt', 'name': 'GBDT'}
2025-03-21 19:17:00,735 - 开始训练 GBDT 模型...
2025-03-21 19:17:23,114 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 19:17:23,114 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 19:17:23,114 - 未找到GBDT模型文件
2025-03-21 19:17:23,114 - 未找到DART模型文件
2025-03-21 19:17:23,114 - 未找到GOSS模型文件
2025-03-21 19:17:23,114 - 未找到任何可用模型文件
2025-03-21 19:17:23,114 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 19:17:53,126 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 19:17:53,126 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 19:17:53,127 - 未找到GBDT模型文件
2025-03-21 19:17:53,127 - 未找到DART模型文件
2025-03-21 19:17:53,127 - 未找到GOSS模型文件
2025-03-21 19:17:53,127 - 未找到任何可用模型文件
2025-03-21 19:17:53,127 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 19:17:55,684 - GBDT 模型训练完成
2025-03-21 19:17:55,684 - 使用 GBDT 模型预测验证集...
2025-03-21 19:17:55,866 - 使用时间加权方式计算模型评分...
2025-03-21 19:17:55,896 - GBDT 评估结果 - RMSE: 45.8674, K: 0.7136, 加权评分: 0.8056
2025-03-21 19:17:55,896 - ✅ GBDT 成为当前最佳模型 (基于加权评分)
2025-03-21 19:17:55,911 - GBDT 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\12months\GBDT.joblib
2025-03-21 19:17:55,912 - 
--------------------------------------------------
【训练 DART 模型】
--------------------------------------------------
2025-03-21 19:17:55,912 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'dart', 'drop_rate': 0.1, 'name': 'DART'}
2025-03-21 19:17:55,912 - 开始训练 DART 模型...
2025-03-21 19:18:23,131 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 19:18:23,131 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 19:18:23,131 - 未找到GBDT模型文件
2025-03-21 19:18:23,131 - 未找到DART模型文件
2025-03-21 19:18:23,131 - 未找到GOSS模型文件
2025-03-21 19:18:23,131 - 未找到任何可用模型文件
2025-03-21 19:18:23,131 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 19:18:53,143 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 19:18:53,143 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 19:18:53,144 - 未找到GBDT模型文件
2025-03-21 19:18:53,144 - 未找到DART模型文件
2025-03-21 19:18:53,144 - 未找到GOSS模型文件
2025-03-21 19:18:53,144 - 未找到任何可用模型文件
2025-03-21 19:18:53,144 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 19:18:56,919 - DART 模型训练完成
2025-03-21 19:18:56,919 - 使用 DART 模型预测验证集...
2025-03-21 19:18:57,181 - 使用时间加权方式计算模型评分...
2025-03-21 19:18:57,197 - DART 评估结果 - RMSE: 61.3973, K: 0.7155, 加权评分: 0.7898
2025-03-21 19:18:57,205 - DART 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\12months\DART.joblib
2025-03-21 19:18:57,205 - 
--------------------------------------------------
【训练 GOSS 模型】
--------------------------------------------------
2025-03-21 19:18:57,205 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'goss', 'top_rate': 0.2, 'other_rate': 0.1, 'name': 'GOSS'}
2025-03-21 19:18:57,205 - 开始训练 GOSS 模型...
2025-03-21 19:19:23,152 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 19:19:23,152 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 19:19:23,152 - 未找到GBDT模型文件
2025-03-21 19:19:23,152 - 未找到DART模型文件
2025-03-21 19:19:23,152 - 未找到GOSS模型文件
2025-03-21 19:19:23,152 - 未找到任何可用模型文件
2025-03-21 19:19:23,152 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 19:19:53,157 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 19:19:53,157 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 19:19:53,158 - 未找到GBDT模型文件
2025-03-21 19:19:53,158 - 未找到DART模型文件
2025-03-21 19:19:53,158 - 未找到GOSS模型文件
2025-03-21 19:19:53,158 - 未找到任何可用模型文件
2025-03-21 19:19:53,158 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 19:19:59,124 - GOSS 模型训练完成
2025-03-21 19:19:59,125 - 使用 GOSS 模型预测验证集...
2025-03-21 19:19:59,476 - 使用时间加权方式计算模型评分...
2025-03-21 19:19:59,488 - GOSS 评估结果 - RMSE: 46.6498, K: 0.7086, 加权评分: 0.8024
2025-03-21 19:19:59,501 - GOSS 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\12months\GOSS.joblib
2025-03-21 19:19:59,503 - Scaler 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\12months\scaler.joblib
2025-03-21 19:19:59,512 - 最佳模型 'GBDT' 已额外保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\12months\model.joblib
2025-03-21 19:19:59,512 - 12个月数据的模型训练完成
2025-03-21 19:19:59,512 - 
--------------------------------------------------
【更新每种算法的最佳模型】
--------------------------------------------------
2025-03-21 19:19:59,513 - ✅ 发现更好的GBDT模型 (来自12个月数据)
2025-03-21 19:19:59,513 -    新评分: 0.8056, 旧评分: 0.7872
2025-03-21 19:19:59,513 - ✅ 发现更好的DART模型 (来自12个月数据)
2025-03-21 19:19:59,513 -    新评分: 0.7898, 旧评分: 0.7877
2025-03-21 19:19:59,513 - ✅ 发现更好的GOSS模型 (来自12个月数据)
2025-03-21 19:19:59,513 -    新评分: 0.8024, 旧评分: 0.7928
2025-03-21 19:19:59,513 - 
--------------------------------------------------
【训练数据集: 全部数据】
--------------------------------------------------
2025-03-21 19:19:59,513 - 使用全部数据的数据进行训练...
2025-03-21 19:19:59,513 - 使用全部数据...
2025-03-21 19:19:59,516 - 过滤后的数据量: 38172
2025-03-21 19:19:59,516 - 对全部数据数据进行预处理...
2025-03-21 19:19:59,562 - 预处理后的特征维度: (38172, 304), 目标变量维度: (38172,)
2025-03-21 19:19:59,568 - 数据集划分完成，训练集: (34354, 304), 验证集: (3818, 304)
2025-03-21 19:19:59,569 - 提取了 3818 个验证集时间戳，用于时间加权评估
2025-03-21 19:19:59,569 - 执行特征工程，滞后特征数: 4...
2025-03-21 19:19:59,898 - 特征工程后的特征维度 - 训练集: (34351, 859), 验证集: (3815, 859)
2025-03-21 19:19:59,898 - 数据标准化...
2025-03-21 19:20:00,232 - 数据标准化完成
2025-03-21 19:20:00,232 - 创建时间窗口，窗口大小: 16...
2025-03-21 19:20:01,061 - 时间窗口创建完成 - 训练集: (34336, 16, 859), 验证集: (3800, 16, 859)
2025-03-21 19:20:01,062 - 调整时间戳长度以匹配窗口化后的验证集 - 原始长度: 3818, 目标长度: 3800
2025-03-21 19:20:01,062 - 时间戳已截断至匹配窗口化后的验证集长度: 3800
2025-03-21 19:20:01,062 - 为全部数据数据创建模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\all_data
2025-03-21 19:20:01,063 - 开始训练全部数据数据的模型...
2025-03-21 19:20:01,063 - 
--------------------------------------------------
【开始模型训练与评估】
--------------------------------------------------
2025-03-21 19:20:01,063 - 模型和 scaler 将被保存到目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\all_data
2025-03-21 19:20:01,063 - 
--------------------------------------------------
【训练 GBDT 模型】
--------------------------------------------------
2025-03-21 19:20:01,063 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'gbdt', 'name': 'GBDT'}
2025-03-21 19:20:01,063 - 开始训练 GBDT 模型...
2025-03-21 19:20:23,167 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 19:20:23,167 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 19:20:23,167 - 未找到GBDT模型文件
2025-03-21 19:20:23,167 - 未找到DART模型文件
2025-03-21 19:20:23,167 - 未找到GOSS模型文件
2025-03-21 19:20:23,168 - 未找到任何可用模型文件
2025-03-21 19:20:23,168 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 19:20:53,180 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 19:20:53,181 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 19:20:53,181 - 未找到GBDT模型文件
2025-03-21 19:20:53,181 - 未找到DART模型文件
2025-03-21 19:20:53,181 - 未找到GOSS模型文件
2025-03-21 19:20:53,181 - 未找到任何可用模型文件
2025-03-21 19:20:53,182 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 19:21:17,253 - GBDT 模型训练完成
2025-03-21 19:21:17,253 - 使用 GBDT 模型预测验证集...
2025-03-21 19:21:17,673 - 使用时间加权方式计算模型评分...
2025-03-21 19:21:17,686 - GBDT 评估结果 - RMSE: 46.2606, K: 0.6942, 加权评分: 0.7956
2025-03-21 19:21:17,686 - ✅ GBDT 成为当前最佳模型 (基于加权评分)
2025-03-21 19:21:17,694 - GBDT 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\all_data\GBDT.joblib
2025-03-21 19:21:17,694 - 
--------------------------------------------------
【训练 DART 模型】
--------------------------------------------------
2025-03-21 19:21:17,694 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'dart', 'drop_rate': 0.1, 'name': 'DART'}
2025-03-21 19:21:17,694 - 开始训练 DART 模型...
2025-03-21 19:21:23,186 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 19:21:23,186 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 19:21:23,186 - 未找到GBDT模型文件
2025-03-21 19:21:23,186 - 未找到DART模型文件
2025-03-21 19:21:23,186 - 未找到GOSS模型文件
2025-03-21 19:21:23,187 - 未找到任何可用模型文件
2025-03-21 19:21:23,187 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 19:21:53,188 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 19:21:53,188 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 19:21:53,188 - 未找到GBDT模型文件
2025-03-21 19:21:53,188 - 未找到DART模型文件
2025-03-21 19:21:53,188 - 未找到GOSS模型文件
2025-03-21 19:21:53,188 - 未找到任何可用模型文件
2025-03-21 19:21:53,188 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 19:22:23,200 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 19:22:23,200 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 19:22:23,201 - 未找到GBDT模型文件
2025-03-21 19:22:23,201 - 未找到DART模型文件
2025-03-21 19:22:23,201 - 未找到GOSS模型文件
2025-03-21 19:22:23,201 - 未找到任何可用模型文件
2025-03-21 19:22:23,201 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 19:22:37,391 - DART 模型训练完成
2025-03-21 19:22:37,391 - 使用 DART 模型预测验证集...
2025-03-21 19:22:37,901 - 使用时间加权方式计算模型评分...
2025-03-21 19:22:37,935 - DART 评估结果 - RMSE: 59.3663, K: 0.7118, 加权评分: 0.7903
2025-03-21 19:22:37,949 - DART 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\all_data\DART.joblib
2025-03-21 19:22:37,950 - 
--------------------------------------------------
【训练 GOSS 模型】
--------------------------------------------------
2025-03-21 19:22:37,950 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'goss', 'top_rate': 0.2, 'other_rate': 0.1, 'name': 'GOSS'}
2025-03-21 19:22:37,950 - 开始训练 GOSS 模型...
2025-03-21 19:22:53,204 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 19:22:53,204 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 19:22:53,204 - 未找到GBDT模型文件
2025-03-21 19:22:53,204 - 未找到DART模型文件
2025-03-21 19:22:53,204 - 未找到GOSS模型文件
2025-03-21 19:22:53,204 - 未找到任何可用模型文件
2025-03-21 19:22:53,205 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 19:23:23,216 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 19:23:23,216 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 19:23:23,216 - 未找到GBDT模型文件
2025-03-21 19:23:23,216 - 未找到DART模型文件
2025-03-21 19:23:23,216 - 未找到GOSS模型文件
2025-03-21 19:23:23,216 - 未找到任何可用模型文件
2025-03-21 19:23:23,216 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 19:23:53,221 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 19:23:53,221 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 19:23:53,222 - 未找到GBDT模型文件
2025-03-21 19:23:53,222 - 未找到DART模型文件
2025-03-21 19:23:53,222 - 未找到GOSS模型文件
2025-03-21 19:23:53,222 - 未找到任何可用模型文件
2025-03-21 19:23:53,222 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 19:23:56,264 - GOSS 模型训练完成
2025-03-21 19:23:56,264 - 使用 GOSS 模型预测验证集...
2025-03-21 19:23:56,842 - 使用时间加权方式计算模型评分...
2025-03-21 19:23:56,855 - GOSS 评估结果 - RMSE: 46.2717, K: 0.6971, 加权评分: 0.7970
2025-03-21 19:23:56,855 - ✅ GOSS 成为当前最佳模型 (基于加权评分)
2025-03-21 19:23:56,877 - GOSS 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\all_data\GOSS.joblib
2025-03-21 19:23:56,879 - Scaler 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\all_data\scaler.joblib
2025-03-21 19:23:56,895 - 最佳模型 'GOSS' 已额外保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\all_data\model.joblib
2025-03-21 19:23:56,895 - 全部数据数据的模型训练完成
2025-03-21 19:23:56,895 - 
--------------------------------------------------
【更新每种算法的最佳模型】
--------------------------------------------------
2025-03-21 19:23:56,896 - ❌ 全部数据数据的GBDT模型不是最佳模型
2025-03-21 19:23:56,896 -    当前评分: 0.7956, 最佳评分: 0.8056
2025-03-21 19:23:56,896 - ✅ 发现更好的DART模型 (来自全部数据数据)
2025-03-21 19:23:56,896 -    新评分: 0.7903, 旧评分: 0.7898
2025-03-21 19:23:56,896 - ❌ 全部数据数据的GOSS模型不是最佳模型
2025-03-21 19:23:56,896 -    当前评分: 0.7970, 最佳评分: 0.8024
2025-03-21 19:23:56,896 - 
--------------------------------------------------
【保存每种算法的最佳模型】
--------------------------------------------------
2025-03-21 19:23:56,907 - 最佳GBDT模型 (使用12个月数据) 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models\GBDT.joblib
2025-03-21 19:23:56,907 - RMSE: 45.8674, K: 0.7136, 评分: 0.8056
2025-03-21 19:23:56,918 - 最佳DART模型 (使用全部数据数据) 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models\DART.joblib
2025-03-21 19:23:56,918 - RMSE: 59.3663, K: 0.7118, 评分: 0.7903
2025-03-21 19:23:56,933 - 最佳GOSS模型 (使用12个月数据) 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models\GOSS.joblib
2025-03-21 19:23:56,933 - RMSE: 46.6498, K: 0.7086, 评分: 0.8024
2025-03-21 19:23:57,309 - 多数据集训练完成! 已为每种算法选择最佳模型
2025-03-21 19:23:57,309 -   - 最佳GBDT模型: 使用12个月数据, RMSE=45.8674, K=0.7136, 评分=0.8056
2025-03-21 19:23:57,309 -   - 最佳DART模型: 使用全部数据数据, RMSE=59.3663, K=0.7118, 评分=0.7903
2025-03-21 19:23:57,309 -   - 最佳GOSS模型: 使用12个月数据, RMSE=46.6498, K=0.7086, 评分=0.8024
2025-03-21 19:23:57,309 - 
================================================================================
2025-03-21 19:23:57,309 - >>> 开始计算模型权重 <<<
2025-03-21 19:23:57,309 - ================================================================================

2025-03-21 19:23:57,309 - 开始计算模型权重
2025-03-21 19:23:57,309 - 从训练数据集中提取最后三天数据进行权重优化
2025-03-21 19:23:57,310 - ✅ 已从训练数据集提取最后三天数据，共 289 条记录
2025-03-21 19:23:57,310 - 开始计算最优模型权重...
2025-03-21 19:23:57,310 - 
--------------------------------------------------
【计算模型权重】
--------------------------------------------------
2025-03-21 19:23:57,347 - 加载最佳模型和对应的scaler...
2025-03-21 19:23:57,347 - ✅ 已加载 GBDT 模型和scaler
2025-03-21 19:23:57,347 - ✅ 已加载 DART 模型和scaler
2025-03-21 19:23:57,347 - ✅ 已加载 GOSS 模型和scaler
2025-03-21 19:23:57,347 - 预处理验证数据，共 289 条记录...
2025-03-21 19:23:57,350 - 验证数据预处理完成，特征维度: (289, 304)
2025-03-21 19:23:57,384 - 验证数据特征工程完成，特征维度: (286, 859)
2025-03-21 19:23:57,384 - 使用各模型进行预测...
2025-03-21 19:23:57,393 - 使用 GBDT 模型预测...
2025-03-21 19:23:57,436 - ✅ GBDT 模型预测完成，预测结果数量: 271
2025-03-21 19:23:57,449 - 使用 DART 模型预测...
2025-03-21 19:23:57,492 - ✅ DART 模型预测完成，预测结果数量: 271
2025-03-21 19:23:57,507 - 使用 GOSS 模型预测...
2025-03-21 19:23:57,551 - ✅ GOSS 模型预测完成，预测结果数量: 271
2025-03-21 19:23:57,551 - 对齐预测结果，使用最小长度: 271
2025-03-21 19:23:57,552 - 创建线性回归的特征矩阵 (271, 3) 和目标向量 (271,)
2025-03-21 19:23:57,552 - 训练线性回归模型计算最优权重...
2025-03-21 19:23:57,561 - 线性回归得到的权重: {'GBDT': np.float64(0.0), 'DART': np.float64(0.0), 'GOSS': np.float64(0.9413418792089218), 'INTERCEPT': np.float64(-0.0258769107539365)}
2025-03-21 19:23:57,561 - 最终计算的模型权重: {'GBDT': np.float64(0.0), 'DART': np.float64(0.0), 'GOSS': np.float64(0.9413418792089218), 'INTERCEPT': np.float64(-0.0258769107539365)}
2025-03-21 19:23:57,565 - 计算得到的最优权重: {'GBDT': np.float64(0.0), 'DART': np.float64(0.0), 'GOSS': np.float64(0.9413418792089218), 'INTERCEPT': np.float64(-0.0258769107539365)}
2025-03-21 19:23:57,566 - 模型权重已保存到: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\model_weights.joblib
2025-03-21 19:23:57,593 - ✅ 训练完成，已创建标志文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\20250321_train_done.flag
2025-03-21 19:23:57,593 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 19:23:57,594 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 19:23:57,594 - 发现GBDT模型文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models\GBDT.joblib
2025-03-21 19:23:57,594 - ✅ 模型已成功保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321，模型可用。
2025-03-21 19:24:23,223 - ✅ 发现新的预测文件：D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv\20250321.csv，执行预测...
2025-03-21 19:24:23,223 - 
============================================================
【风电功率预测开始】
============================================================
2025-03-21 19:24:23,223 - 配置信息:
2025-03-21 19:24:23,223 -   - 数据文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv\20250321.csv
2025-03-21 19:24:23,224 -   - 模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 19:24:23,224 -   - 窗口大小: 16
2025-03-21 19:24:23,224 -   - 滞后特征数: 4
2025-03-21 19:24:23,224 - 
============================================================
【预处理新数据】
============================================================
2025-03-21 19:24:23,224 - 加载数据文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv\20250321.csv
2025-03-21 19:24:23,246 - 数据加载完成，去除缺失值后共 109 条记录
2025-03-21 19:24:23,366 - 数据前5行预览:
         Timestamp    129.128_1    129.128_2  ...  ws200_13   ws200_14   ws200_15
0  2024/4/16 20:00  15974.26563  16293.82813  ...  9.541195  10.863499  12.404554
1  2024/4/16 20:15  15974.26563  16293.82813  ...  9.280917  10.585079  12.259521
2  2024/4/16 20:30  15974.26563  16293.82813  ...  9.020693  10.307371  12.115601
3  2024/4/16 20:45  15974.26563  16293.82813  ...  8.760527  10.030434  11.972834
4  2024/4/16 21:00  15974.26563  16293.82813  ...  8.500424   9.754334  11.831263

[5 rows x 301 columns]
2025-03-21 19:24:23,367 - 预处理数据...
2025-03-21 19:24:23,370 - 预处理完成，特征维度: (109, 304)
2025-03-21 19:24:23,370 - 执行特征工程，滞后特征数: 4...
2025-03-21 19:24:23,442 - 特征工程完成，特征维度: (106, 859)
2025-03-21 19:24:23,442 - 新数据预处理完成，共 106 个样本
2025-03-21 19:24:23,443 - ✅ 发现最佳模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models，尝试使用多模型加权预测
2025-03-21 19:24:23,443 - 
============================================================
【加载多个模型】
============================================================
2025-03-21 19:24:23,443 - 从目录加载模型和 scaler: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 19:24:23,443 - 加载 GBDT 模型和 scaler...
2025-03-21 19:24:23,457 - ✅ 已成功加载 GBDT 模型和对应的 scaler
2025-03-21 19:24:23,458 - 加载 DART 模型和 scaler...
2025-03-21 19:24:23,469 - ✅ 已成功加载 DART 模型和对应的 scaler
2025-03-21 19:24:23,469 - 加载 GOSS 模型和 scaler...
2025-03-21 19:24:23,480 - ✅ 已成功加载 GOSS 模型和对应的 scaler
2025-03-21 19:24:23,480 - 加载完成，共加载了 3 个模型: GBDT, DART, GOSS
2025-03-21 19:24:23,480 - 尝试加载模型权重文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\model_weights.joblib
2025-03-21 19:24:23,480 - ✅ 已加载模型权重: {'GBDT': np.float64(0.0), 'DART': np.float64(0.0), 'GOSS': np.float64(0.9413418792089218), 'INTERCEPT': np.float64(-0.0258769107539365)}
2025-03-21 19:24:23,481 - 
============================================================
【使用多模型加权预测】
============================================================
2025-03-21 19:24:23,481 - 使用自定义权重: {'GBDT': np.float64(0.0), 'DART': np.float64(0.0), 'GOSS': np.float64(0.9413418792089218), 'INTERCEPT': np.float64(-0.0258769107539365)}
2025-03-21 19:24:23,481 - 权重总和为 0.9154649684549853，进行归一化...
2025-03-21 19:24:23,481 - 归一化后的权重: {'GBDT': np.float64(0.0), 'DART': np.float64(0.0), 'GOSS': np.float64(1.0282664128564183), 'INTERCEPT': np.float64(-0.028266412856418226)}
2025-03-21 19:24:23,481 - ❌ GBDT 模型权重为0，跳过
2025-03-21 19:24:23,481 - ❌ DART 模型权重为0，跳过
2025-03-21 19:24:23,481 - 使用 GOSS 模型进行预测 (权重: 1.0283)...
2025-03-21 19:24:23,486 - GOSS: 数据标准化完成
2025-03-21 19:24:23,488 - GOSS: 时间窗口创建完成，窗口数量: 91
2025-03-21 19:24:23,510 - ✅ GOSS 模型预测完成，生成了 91 个预测值
2025-03-21 19:24:23,510 -    统计: 最小值=180.04, 最大值=286.40, 平均值=224.81
2025-03-21 19:24:23,510 - 所有预测结果对齐到最小长度: 91
2025-03-21 19:24:23,510 - 开始计算加权平均预测结果...
2025-03-21 19:24:23,511 -   加入 GOSS 模型贡献 (权重: 1.0283)
2025-03-21 19:24:23,511 -   加入常数偏置项 (值: -0.0283)
2025-03-21 19:24:23,511 - 加权平均预测完成，生成了 91 个预测值
2025-03-21 19:24:23,511 - 加权预测结果统计: 最小值=185.10, 最大值=294.46, 平均值=231.14
2025-03-21 19:24:23,512 - ✅ 多模型加权预测完成，使用模型: GBDT, DART, GOSS
2025-03-21 19:24:23,512 - 
============================================================
【保存预测结果】
============================================================
2025-03-21 19:24:23,513 - 创建输出目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\results\shortresult\20250321
2025-03-21 19:24:23,514 - 预测结果数据框创建完成，共 91 行
2025-03-21 19:24:23,518 - ✅ 预测结果已保存到文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\results\shortresult\20250321\20250321.csv
2025-03-21 19:24:23,518 - 尝试将预测结果导入数据库...
2025-03-21 19:24:23,518 - 发送HTTP请求到: http://localhost:5000/prediction2database/batch_shortl_power
2025-03-21 19:24:25,711 - ✅ 数据已成功导入数据库
2025-03-21 19:24:25,711 -    总记录数: 91, 更新: 91, 插入: 0
2025-03-21 19:24:25,711 - ✅ 预测结果已保存到: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\results\shortresult\20250321\20250321.csv
2025-03-21 19:24:25,712 - ✅ 创建预测完成标志文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\results\shortresult\20250321\20250321_predict_done.flag
2025-03-21 19:24:25,712 - 
============================================================
【风电功率预测完成】
============================================================
2025-03-21 19:24:25,712 - 风电功率预测完成
2025-03-21 19:24:25,720 - ✅ 预测执行完成
2025-03-21 19:24:25,720 - 
================================================================================
2025-03-21 19:24:25,720 - >>> 系统任务完成 <<<
2025-03-21 19:24:25,720 - ================================================================================

2025-03-21 19:24:25,720 - 系统任务完成
2025-03-21 19:24:25,720 - 今天的训练和预测任务已完成。
2025-03-21 19:30:10,708 - 
================================================================================
2025-03-21 19:30:10,708 - >>> 自动训练预测系统启动 <<<
2025-03-21 19:30:10,709 - ================================================================================

2025-03-21 19:30:10,709 - 自动训练预测系统启动
2025-03-21 19:30:10,709 - 今天的日期是: 20250321
2025-03-21 19:30:10,709 - 创建监视线程...
2025-03-21 19:30:10,709 - 启动训练线程...
2025-03-21 19:30:10,709 - 启动预测线程...
2025-03-21 19:30:10,709 - 
================================================================================
2025-03-21 19:30:10,709 - >>> 启动训练监视线程 <<<
2025-03-21 19:30:10,710 - 等待线程完成...
2025-03-21 19:30:10,710 - ================================================================================

2025-03-21 19:30:10,710 - 
================================================================================
2025-03-21 19:30:10,710 - 启动训练监视线程
2025-03-21 19:30:10,710 - >>> 启动预测监视线程 <<<
2025-03-21 19:30:10,710 - ================================================================================

2025-03-21 19:30:10,710 - 启动预测监视线程
2025-03-21 19:30:10,710 - 训练文件路径: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short\20250321.csv
2025-03-21 19:30:10,710 - 预测数据文件路径: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv\20250321.csv
2025-03-21 19:30:10,710 - 模型存储目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 19:30:10,710 - 模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 19:30:10,711 - 训练完成标志文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\20250321_train_done.flag
2025-03-21 19:30:10,711 - 预测完成标志文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\results\shortresult\20250321\20250321_predict_done.flag
2025-03-21 19:30:10,711 - 开始监视 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short 文件夹以进行训练...
2025-03-21 19:30:10,711 - 开始监视 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv 文件夹以进行预测...
2025-03-21 19:30:10,711 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 19:30:10,711 - ✅ 发现新的训练文件：D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short\20250321.csv，执行训练...
2025-03-21 19:30:10,711 - 未找到best_models目录，检查传统模型文件
2025-03-21 19:30:10,711 - 
================================================================================
2025-03-21 19:30:10,711 - >>> 开始模型训练 <<<
2025-03-21 19:30:10,711 - 未找到任何可用模型文件
2025-03-21 19:30:10,711 - ================================================================================

2025-03-21 19:30:10,712 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 19:30:10,712 - 配置信息:
2025-03-21 19:30:10,712 -   - 窗口大小: 16
2025-03-21 19:30:10,712 -   - 滞后特征数: 4
2025-03-21 19:30:10,712 -   - 训练集比例: 0.9
2025-03-21 19:30:10,712 -   - 输出目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\train_predictions\short_predictions
2025-03-21 19:30:10,712 -   - 模型存储路径: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 19:30:10,712 - 输出结果将保存到: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\train_predictions\short_predictions
2025-03-21 19:30:10,712 - 
================================================================================
2025-03-21 19:30:10,712 - >>> 数据加载与预处理 <<<
2025-03-21 19:30:10,712 - ================================================================================

2025-03-21 19:30:10,712 - 加载数据文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short\20250321.csv
2025-03-21 19:30:10,712 - 开始加载和预处理数据...
2025-03-21 19:30:10,825 - 数据加载完成，共 2973 条记录
2025-03-21 19:30:10,846 - 数据前5行预览: 
        Timestamp    129.128_1    129.128_2  ...  ws200_15  wp_true    ws_all
0  2024/3/18 0:00  15974.26563  16293.82813  ...  9.731182   227.36  8.047185
1  2024/3/18 0:15  15974.26563  16293.82813  ...  9.603328   247.36  8.295189
2  2024/3/18 0:30  15974.26563  16293.82813  ...  9.476844   255.30  8.392767
3  2024/3/18 0:45  15974.26563  16293.82813  ...  9.351785   267.26  8.539846
4  2024/3/18 1:00  15974.26563  16293.82813  ...  9.228210   279.18  8.687130

[5 rows x 303 columns]
2025-03-21 19:30:10,848 - 数据集时间范围: 2024-03-18 至 2024-04-17, 共 1 个月
2025-03-21 19:30:10,848 - 根据数据集实际时间范围(1个月)，优化months_list: [1, 3, 6, 9, 12, None] -> [1, None]
2025-03-21 19:30:10,848 - 将使用以下时间段训练模型: [1, None]
2025-03-21 19:30:10,848 - 
================================================================================
2025-03-21 19:30:10,848 - >>> 开始多数据集训练 <<<
2025-03-21 19:30:10,848 - ================================================================================

2025-03-21 19:30:10,849 - 将使用多种时间跨度的数据训练模型...
2025-03-21 19:30:10,849 - 
--------------------------------------------------
【使用多个数据集训练模型】
--------------------------------------------------
2025-03-21 19:30:10,849 - 最佳模型将保存到: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 19:30:10,849 - 获取统一参数成功，包含 3 种模型类型
2025-03-21 19:30:10,849 - 
--------------------------------------------------
【训练数据集: 1个月】
--------------------------------------------------
2025-03-21 19:30:10,850 - 使用1个月的数据进行训练...
2025-03-21 19:30:10,850 - 过滤数据为最近1个月...
2025-03-21 19:30:10,851 - 过滤后的数据量: 2973
2025-03-21 19:30:10,851 - 对1个月数据进行预处理...
2025-03-21 19:30:10,855 - 预处理后的特征维度: (2973, 304), 目标变量维度: (2973,)
2025-03-21 19:30:10,856 - 数据集划分完成，训练集: (2675, 304), 验证集: (298, 304)
2025-03-21 19:30:10,856 - 提取了 298 个验证集时间戳，用于时间加权评估
2025-03-21 19:30:10,856 - 执行特征工程，滞后特征数: 4...
2025-03-21 19:30:10,904 - 特征工程后的特征维度 - 训练集: (2672, 859), 验证集: (295, 859)
2025-03-21 19:30:10,904 - 数据标准化...
2025-03-21 19:30:10,934 - 数据标准化完成
2025-03-21 19:30:10,934 - 创建时间窗口，窗口大小: 16...
2025-03-21 19:30:10,985 - 时间窗口创建完成 - 训练集: (2657, 16, 859), 验证集: (280, 16, 859)
2025-03-21 19:30:10,985 - 调整时间戳长度以匹配窗口化后的验证集 - 原始长度: 298, 目标长度: 280
2025-03-21 19:30:10,985 - 时间戳已截断至匹配窗口化后的验证集长度: 280
2025-03-21 19:30:10,986 - 为1个月数据创建模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\1months
2025-03-21 19:30:10,986 - 开始训练1个月数据的模型...
2025-03-21 19:30:10,986 - 
--------------------------------------------------
【开始模型训练与评估】
--------------------------------------------------
2025-03-21 19:30:10,986 - 模型和 scaler 将被保存到目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\1months
2025-03-21 19:30:10,986 - 
--------------------------------------------------
【训练 GBDT 模型】
--------------------------------------------------
2025-03-21 19:30:10,986 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'gbdt', 'name': 'GBDT'}
2025-03-21 19:30:10,986 - 开始训练 GBDT 模型...
2025-03-21 19:30:27,220 - GBDT 模型训练完成
2025-03-21 19:30:27,220 - 使用 GBDT 模型预测验证集...
2025-03-21 19:30:27,227 - 使用时间加权方式计算模型评分...
2025-03-21 19:30:27,228 - GBDT 评估结果 - RMSE: 67.1426, K: 0.4608, 加权评分: 0.6513
2025-03-21 19:30:27,228 - ✅ GBDT 成为当前最佳模型 (基于加权评分)
2025-03-21 19:30:27,239 - GBDT 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\1months\GBDT.joblib
2025-03-21 19:30:27,240 - 
--------------------------------------------------
【训练 DART 模型】
--------------------------------------------------
2025-03-21 19:30:27,240 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'dart', 'drop_rate': 0.1, 'name': 'DART'}
2025-03-21 19:30:27,240 - 开始训练 DART 模型...
2025-03-21 19:30:40,716 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 19:30:40,716 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 19:30:40,717 - 未找到GBDT模型文件
2025-03-21 19:30:40,717 - 未找到DART模型文件
2025-03-21 19:30:40,717 - 未找到GOSS模型文件
2025-03-21 19:30:40,717 - 未找到任何可用模型文件
2025-03-21 19:30:40,717 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 19:30:43,343 - DART 模型训练完成
2025-03-21 19:30:43,343 - 使用 DART 模型预测验证集...
2025-03-21 19:30:43,350 - 使用时间加权方式计算模型评分...
2025-03-21 19:30:43,351 - DART 评估结果 - RMSE: 62.3280, K: 0.6255, 加权评分: 0.7416
2025-03-21 19:30:43,352 - ✅ DART 成为当前最佳模型 (基于加权评分)
2025-03-21 19:30:43,363 - DART 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\1months\DART.joblib
2025-03-21 19:30:43,363 - 
--------------------------------------------------
【训练 GOSS 模型】
--------------------------------------------------
2025-03-21 19:30:43,363 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'goss', 'top_rate': 0.2, 'other_rate': 0.1, 'name': 'GOSS'}
2025-03-21 19:30:43,364 - 开始训练 GOSS 模型...
2025-03-21 19:30:56,201 - GOSS 模型训练完成
2025-03-21 19:30:56,202 - 使用 GOSS 模型预测验证集...
2025-03-21 19:30:56,209 - 使用时间加权方式计算模型评分...
2025-03-21 19:30:56,211 - GOSS 评估结果 - RMSE: 68.3105, K: 0.4494, 加权评分: 0.6442
2025-03-21 19:30:56,225 - GOSS 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\1months\GOSS.joblib
2025-03-21 19:30:56,227 - Scaler 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\1months\scaler.joblib
2025-03-21 19:30:56,233 - 最佳模型 'DART' 已额外保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\1months\model.joblib
2025-03-21 19:30:56,233 - 1个月数据的模型训练完成
2025-03-21 19:30:56,233 - 
--------------------------------------------------
【更新每种算法的最佳模型】
--------------------------------------------------
2025-03-21 19:30:56,234 - ✅ 发现更好的GBDT模型 (来自1个月数据)
2025-03-21 19:30:56,234 -    新评分: 0.6513, 旧评分: -inf
2025-03-21 19:30:56,234 - ✅ 发现更好的DART模型 (来自1个月数据)
2025-03-21 19:30:56,234 -    新评分: 0.7416, 旧评分: -inf
2025-03-21 19:30:56,234 - ✅ 发现更好的GOSS模型 (来自1个月数据)
2025-03-21 19:30:56,234 -    新评分: 0.6442, 旧评分: -inf
2025-03-21 19:30:56,234 - 
--------------------------------------------------
【训练数据集: 全部数据】
--------------------------------------------------
2025-03-21 19:30:56,234 - 使用全部数据的数据进行训练...
2025-03-21 19:30:56,234 - 使用全部数据...
2025-03-21 19:30:56,235 - 过滤后的数据量: 2973
2025-03-21 19:30:56,235 - 对全部数据数据进行预处理...
2025-03-21 19:30:56,241 - 预处理后的特征维度: (2973, 304), 目标变量维度: (2973,)
2025-03-21 19:30:56,241 - 数据集划分完成，训练集: (2675, 304), 验证集: (298, 304)
2025-03-21 19:30:56,241 - 提取了 298 个验证集时间戳，用于时间加权评估
2025-03-21 19:30:56,241 - 执行特征工程，滞后特征数: 4...
2025-03-21 19:30:56,336 - 特征工程后的特征维度 - 训练集: (2672, 859), 验证集: (295, 859)
2025-03-21 19:30:56,336 - 数据标准化...
2025-03-21 19:30:56,368 - 数据标准化完成
2025-03-21 19:30:56,369 - 创建时间窗口，窗口大小: 16...
2025-03-21 19:30:56,434 - 时间窗口创建完成 - 训练集: (2657, 16, 859), 验证集: (280, 16, 859)
2025-03-21 19:30:56,435 - 调整时间戳长度以匹配窗口化后的验证集 - 原始长度: 298, 目标长度: 280
2025-03-21 19:30:56,435 - 时间戳已截断至匹配窗口化后的验证集长度: 280
2025-03-21 19:30:56,435 - 为全部数据数据创建模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\all_data
2025-03-21 19:30:56,435 - 开始训练全部数据数据的模型...
2025-03-21 19:30:56,435 - 
--------------------------------------------------
【开始模型训练与评估】
--------------------------------------------------
2025-03-21 19:30:56,435 - 模型和 scaler 将被保存到目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\all_data
2025-03-21 19:30:56,435 - 
--------------------------------------------------
【训练 GBDT 模型】
--------------------------------------------------
2025-03-21 19:30:56,435 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'gbdt', 'name': 'GBDT'}
2025-03-21 19:30:56,436 - 开始训练 GBDT 模型...
2025-03-21 19:31:10,726 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 19:31:10,726 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 19:31:10,727 - 未找到GBDT模型文件
2025-03-21 19:31:10,727 - 未找到DART模型文件
2025-03-21 19:31:10,727 - 未找到GOSS模型文件
2025-03-21 19:31:10,727 - 未找到任何可用模型文件
2025-03-21 19:31:10,728 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 19:31:12,639 - GBDT 模型训练完成
2025-03-21 19:31:12,639 - 使用 GBDT 模型预测验证集...
2025-03-21 19:31:12,646 - 使用时间加权方式计算模型评分...
2025-03-21 19:31:12,648 - GBDT 评估结果 - RMSE: 67.1426, K: 0.4608, 加权评分: 0.6513
2025-03-21 19:31:12,648 - ✅ GBDT 成为当前最佳模型 (基于加权评分)
2025-03-21 19:31:12,656 - GBDT 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\all_data\GBDT.joblib
2025-03-21 19:31:12,656 - 
--------------------------------------------------
【训练 DART 模型】
--------------------------------------------------
2025-03-21 19:31:12,657 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'dart', 'drop_rate': 0.1, 'name': 'DART'}
2025-03-21 19:31:12,657 - 开始训练 DART 模型...
2025-03-21 19:31:28,972 - DART 模型训练完成
2025-03-21 19:31:28,972 - 使用 DART 模型预测验证集...
2025-03-21 19:31:28,980 - 使用时间加权方式计算模型评分...
2025-03-21 19:31:28,982 - DART 评估结果 - RMSE: 62.3280, K: 0.6255, 加权评分: 0.7416
2025-03-21 19:31:28,982 - ✅ DART 成为当前最佳模型 (基于加权评分)
2025-03-21 19:31:28,990 - DART 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\all_data\DART.joblib
2025-03-21 19:31:28,990 - 
--------------------------------------------------
【训练 GOSS 模型】
--------------------------------------------------
2025-03-21 19:31:28,990 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'goss', 'top_rate': 0.2, 'other_rate': 0.1, 'name': 'GOSS'}
2025-03-21 19:31:28,990 - 开始训练 GOSS 模型...
2025-03-21 19:31:40,742 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 19:31:40,742 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 19:31:40,742 - 未找到GBDT模型文件
2025-03-21 19:31:40,742 - 未找到DART模型文件
2025-03-21 19:31:40,742 - 未找到GOSS模型文件
2025-03-21 19:31:40,742 - 未找到任何可用模型文件
2025-03-21 19:31:40,743 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 19:31:42,027 - GOSS 模型训练完成
2025-03-21 19:31:42,027 - 使用 GOSS 模型预测验证集...
2025-03-21 19:31:42,036 - 使用时间加权方式计算模型评分...
2025-03-21 19:31:42,037 - GOSS 评估结果 - RMSE: 68.3105, K: 0.4494, 加权评分: 0.6442
2025-03-21 19:31:42,050 - GOSS 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\all_data\GOSS.joblib
2025-03-21 19:31:42,051 - Scaler 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\all_data\scaler.joblib
2025-03-21 19:31:42,058 - 最佳模型 'DART' 已额外保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\all_data\model.joblib
2025-03-21 19:31:42,058 - 全部数据数据的模型训练完成
2025-03-21 19:31:42,058 - 
--------------------------------------------------
【更新每种算法的最佳模型】
--------------------------------------------------
2025-03-21 19:31:42,058 - ❌ 全部数据数据的GBDT模型不是最佳模型
2025-03-21 19:31:42,058 -    当前评分: 0.6513, 最佳评分: 0.6513
2025-03-21 19:31:42,058 - ❌ 全部数据数据的DART模型不是最佳模型
2025-03-21 19:31:42,058 -    当前评分: 0.7416, 最佳评分: 0.7416
2025-03-21 19:31:42,058 - ❌ 全部数据数据的GOSS模型不是最佳模型
2025-03-21 19:31:42,059 -    当前评分: 0.6442, 最佳评分: 0.6442
2025-03-21 19:31:42,059 - 
--------------------------------------------------
【保存每种算法的最佳模型】
--------------------------------------------------
2025-03-21 19:31:42,065 - 最佳GBDT模型 (使用1个月数据) 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models\GBDT.joblib
2025-03-21 19:31:42,065 - RMSE: 67.1426, K: 0.4608, 评分: 0.6513
2025-03-21 19:31:42,074 - 最佳DART模型 (使用1个月数据) 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models\DART.joblib
2025-03-21 19:31:42,074 - RMSE: 62.3280, K: 0.6255, 评分: 0.7416
2025-03-21 19:31:42,087 - 最佳GOSS模型 (使用1个月数据) 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models\GOSS.joblib
2025-03-21 19:31:42,087 - RMSE: 68.3105, K: 0.4494, 评分: 0.6442
2025-03-21 19:31:42,117 - 多数据集训练完成! 已为每种算法选择最佳模型
2025-03-21 19:31:42,117 -   - 最佳GBDT模型: 使用1个月数据, RMSE=67.1426, K=0.4608, 评分=0.6513
2025-03-21 19:31:42,118 -   - 最佳DART模型: 使用1个月数据, RMSE=62.3280, K=0.6255, 评分=0.7416
2025-03-21 19:31:42,118 -   - 最佳GOSS模型: 使用1个月数据, RMSE=68.3105, K=0.4494, 评分=0.6442
2025-03-21 19:31:42,118 - 
================================================================================
2025-03-21 19:31:42,118 - >>> 开始计算模型权重 <<<
2025-03-21 19:31:42,118 - ================================================================================

2025-03-21 19:31:42,118 - 开始计算模型权重
2025-03-21 19:31:42,118 - 从训练数据集中提取最后三天数据进行权重优化
2025-03-21 19:31:42,119 - ✅ 已从训练数据集提取最后三天数据，共 289 条记录
2025-03-21 19:31:42,119 - 开始计算最优模型权重...
2025-03-21 19:31:42,119 - 
--------------------------------------------------
【计算模型权重】
--------------------------------------------------
2025-03-21 19:31:42,144 - 加载最佳模型和对应的scaler...
2025-03-21 19:31:42,145 - ✅ 已加载 GBDT 模型和scaler
2025-03-21 19:31:42,145 - ✅ 已加载 DART 模型和scaler
2025-03-21 19:31:42,145 - ✅ 已加载 GOSS 模型和scaler
2025-03-21 19:31:42,145 - 预处理验证数据，共 289 条记录...
2025-03-21 19:31:42,147 - 验证数据预处理完成，特征维度: (289, 304)
2025-03-21 19:31:42,187 - 验证数据特征工程完成，特征维度: (286, 859)
2025-03-21 19:31:42,187 - 使用各模型进行预测...
2025-03-21 19:31:42,195 - 使用 GBDT 模型预测...
2025-03-21 19:31:42,203 - ✅ GBDT 模型预测完成，预测结果数量: 271
2025-03-21 19:31:42,213 - 使用 DART 模型预测...
2025-03-21 19:31:42,220 - ✅ DART 模型预测完成，预测结果数量: 271
2025-03-21 19:31:42,236 - 使用 GOSS 模型预测...
2025-03-21 19:31:42,244 - ✅ GOSS 模型预测完成，预测结果数量: 271
2025-03-21 19:31:42,244 - 对齐预测结果，使用最小长度: 271
2025-03-21 19:31:42,244 - 创建线性回归的特征矩阵 (271, 3) 和目标向量 (271,)
2025-03-21 19:31:42,244 - 训练线性回归模型计算最优权重...
2025-03-21 19:31:42,246 - 线性回归得到的权重: {'GBDT': np.float64(0.3378826776996291), 'DART': np.float64(0.18465658902121768), 'GOSS': np.float64(0.0), 'INTERCEPT': np.float64(98.07836551790079)}
2025-03-21 19:31:42,246 - 最终计算的模型权重: {'GBDT': np.float64(0.3378826776996291), 'DART': np.float64(0.18465658902121768), 'GOSS': np.float64(0.0), 'INTERCEPT': np.float64(98.07836551790079)}
2025-03-21 19:31:42,247 - 计算得到的最优权重: {'GBDT': np.float64(0.3378826776996291), 'DART': np.float64(0.18465658902121768), 'GOSS': np.float64(0.0), 'INTERCEPT': np.float64(98.07836551790079)}
2025-03-21 19:31:42,248 - 模型权重已保存到: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\model_weights.joblib
2025-03-21 19:31:42,256 - ✅ 训练完成，已创建标志文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\20250321_train_done.flag
2025-03-21 19:31:42,256 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 19:31:42,256 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 19:31:42,257 - 发现GBDT模型文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models\GBDT.joblib
2025-03-21 19:31:42,257 - ✅ 模型已成功保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321，模型可用。
2025-03-21 19:32:10,753 - ✅ 发现新的预测文件：D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv\20250321.csv，执行预测...
2025-03-21 19:32:10,753 - 
============================================================
【风电功率预测开始】
============================================================
2025-03-21 19:32:10,754 - 配置信息:
2025-03-21 19:32:10,754 -   - 数据文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv\20250321.csv
2025-03-21 19:32:10,755 -   - 模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 19:32:10,755 -   - 窗口大小: 16
2025-03-21 19:32:10,756 -   - 滞后特征数: 4
2025-03-21 19:32:10,756 - 
============================================================
【预处理新数据】
============================================================
2025-03-21 19:32:10,757 - 加载数据文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv\20250321.csv
2025-03-21 19:32:10,770 - 数据加载完成，去除缺失值后共 109 条记录
2025-03-21 19:32:10,814 - 数据前5行预览:
         Timestamp    129.128_1    129.128_2  ...  ws200_13   ws200_14   ws200_15
0  2024/4/16 20:00  15974.26563  16293.82813  ...  9.541195  10.863499  12.404554
1  2024/4/16 20:15  15974.26563  16293.82813  ...  9.280917  10.585079  12.259521
2  2024/4/16 20:30  15974.26563  16293.82813  ...  9.020693  10.307371  12.115601
3  2024/4/16 20:45  15974.26563  16293.82813  ...  8.760527  10.030434  11.972834
4  2024/4/16 21:00  15974.26563  16293.82813  ...  8.500424   9.754334  11.831263

[5 rows x 301 columns]
2025-03-21 19:32:10,814 - 预处理数据...
2025-03-21 19:32:10,815 - 预处理完成，特征维度: (109, 304)
2025-03-21 19:32:10,815 - 执行特征工程，滞后特征数: 4...
2025-03-21 19:32:10,865 - 特征工程完成，特征维度: (106, 859)
2025-03-21 19:32:10,865 - 新数据预处理完成，共 106 个样本
2025-03-21 19:32:10,865 - ✅ 发现最佳模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models，尝试使用多模型加权预测
2025-03-21 19:32:10,865 - 
============================================================
【加载多个模型】
============================================================
2025-03-21 19:32:10,865 - 从目录加载模型和 scaler: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 19:32:10,865 - 加载 GBDT 模型和 scaler...
2025-03-21 19:32:10,873 - ✅ 已成功加载 GBDT 模型和对应的 scaler
2025-03-21 19:32:10,874 - 加载 DART 模型和 scaler...
2025-03-21 19:32:10,881 - ✅ 已成功加载 DART 模型和对应的 scaler
2025-03-21 19:32:10,882 - 加载 GOSS 模型和 scaler...
2025-03-21 19:32:10,890 - ✅ 已成功加载 GOSS 模型和对应的 scaler
2025-03-21 19:32:10,890 - 加载完成，共加载了 3 个模型: GBDT, DART, GOSS
2025-03-21 19:32:10,891 - 尝试加载模型权重文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\model_weights.joblib
2025-03-21 19:32:10,891 - ✅ 已加载模型权重: {'GBDT': np.float64(0.3378826776996291), 'DART': np.float64(0.18465658902121768), 'GOSS': np.float64(0.0), 'INTERCEPT': np.float64(98.07836551790079)}
2025-03-21 19:32:10,891 - 
============================================================
【使用多模型加权预测】
============================================================
2025-03-21 19:32:10,892 - 使用自定义权重: {'GBDT': np.float64(0.3378826776996291), 'DART': np.float64(0.18465658902121768), 'GOSS': np.float64(0.0), 'INTERCEPT': np.float64(98.07836551790079)}
2025-03-21 19:32:10,892 - 权重总和为 98.60090478462163，进行归一化...
2025-03-21 19:32:10,892 - 归一化后的权重: {'GBDT': np.float64(0.00342677055994244), 'DART': np.float64(0.0018727676934057686), 'GOSS': np.float64(0.0), 'INTERCEPT': np.float64(0.9947004617466518)}
2025-03-21 19:32:10,892 - 使用 GBDT 模型进行预测 (权重: 0.0034)...
2025-03-21 19:32:10,897 - GBDT: 数据标准化完成
2025-03-21 19:32:10,900 - GBDT: 时间窗口创建完成，窗口数量: 91
2025-03-21 19:32:10,904 - ✅ GBDT 模型预测完成，生成了 91 个预测值
2025-03-21 19:32:10,904 -    统计: 最小值=201.69, 最大值=273.76, 平均值=250.17
2025-03-21 19:32:10,904 - 使用 DART 模型进行预测 (权重: 0.0019)...
2025-03-21 19:32:10,908 - DART: 数据标准化完成
2025-03-21 19:32:10,911 - DART: 时间窗口创建完成，窗口数量: 91
2025-03-21 19:32:10,914 - ✅ DART 模型预测完成，生成了 91 个预测值
2025-03-21 19:32:10,914 -    统计: 最小值=160.99, 最大值=218.68, 平均值=199.92
2025-03-21 19:32:10,914 - ❌ GOSS 模型权重为0，跳过
2025-03-21 19:32:10,914 - 所有预测结果对齐到最小长度: 91
2025-03-21 19:32:10,915 - 开始计算加权平均预测结果...
2025-03-21 19:32:10,915 -   加入 GBDT 模型贡献 (权重: 0.0034)
2025-03-21 19:32:10,915 -   加入 DART 模型贡献 (权重: 0.0019)
2025-03-21 19:32:10,915 -   加入常数偏置项 (值: 0.9947)
2025-03-21 19:32:10,915 - 加权平均预测完成，生成了 91 个预测值
2025-03-21 19:32:10,915 - 加权预测结果统计: 最小值=1.99, 最大值=2.34, 平均值=2.23
2025-03-21 19:32:10,916 - ✅ 多模型加权预测完成，使用模型: GBDT, DART, GOSS
2025-03-21 19:32:10,916 - 
============================================================
【保存预测结果】
============================================================
2025-03-21 19:32:10,916 - 创建输出目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\results\shortresult\20250321
2025-03-21 19:32:10,917 - 预测结果数据框创建完成，共 91 行
2025-03-21 19:32:10,919 - ✅ 预测结果已保存到文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\results\shortresult\20250321\20250321.csv
2025-03-21 19:32:10,919 - 尝试将预测结果导入数据库...
2025-03-21 19:32:10,919 - 发送HTTP请求到: http://localhost:5000/prediction2database/batch_shortl_power
2025-03-21 19:36:11,637 - ❌ 调用数据库接口失败: ('Connection aborted.', ConnectionResetError(10054, '远程主机强迫关闭了一个现有的连接。', None, 10054, None))
2025-03-21 19:36:11,637 - ✅ 预测结果已保存到: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\results\shortresult\20250321\20250321.csv
2025-03-21 19:36:11,638 - ✅ 创建预测完成标志文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\results\shortresult\20250321\20250321_predict_done.flag
2025-03-21 19:36:11,638 - 
============================================================
【风电功率预测完成】
============================================================
2025-03-21 19:36:11,638 - 风电功率预测完成
2025-03-21 19:36:11,638 - ✅ 预测执行完成
2025-03-21 19:37:18,194 - 
================================================================================
2025-03-21 19:37:18,195 - >>> 自动训练预测系统启动 <<<
2025-03-21 19:37:18,195 - ================================================================================

2025-03-21 19:37:18,195 - 自动训练预测系统启动
2025-03-21 19:37:18,195 - 今天的日期是: 20250321
2025-03-21 19:37:18,195 - 创建监视线程...
2025-03-21 19:37:18,195 - 启动训练线程...
2025-03-21 19:37:18,195 - 启动预测线程...
2025-03-21 19:37:18,196 - 
================================================================================
2025-03-21 19:37:18,196 - >>> 启动训练监视线程 <<<
2025-03-21 19:37:18,196 - 等待线程完成...
2025-03-21 19:37:18,196 - ================================================================================

2025-03-21 19:37:18,196 - 
================================================================================
2025-03-21 19:37:18,196 - 启动训练监视线程
2025-03-21 19:37:18,196 - >>> 启动预测监视线程 <<<
2025-03-21 19:37:18,196 - ================================================================================

2025-03-21 19:37:18,196 - 启动预测监视线程
2025-03-21 19:37:18,196 - 训练文件路径: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short\20250321.csv
2025-03-21 19:37:18,197 - 模型存储目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 19:37:18,197 - 预测数据文件路径: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv\20250321.csv
2025-03-21 19:37:18,197 - 训练完成标志文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\20250321_train_done.flag
2025-03-21 19:37:18,197 - 模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 19:37:18,197 - 开始监视 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short 文件夹以进行训练...
2025-03-21 19:37:18,197 - 预测完成标志文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\results\shortresult\20250321\20250321_predict_done.flag
2025-03-21 19:37:18,197 - 开始监视 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv 文件夹以进行预测...
2025-03-21 19:37:18,197 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 19:37:18,197 - ✅ 发现新的训练文件：D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short\20250321.csv，执行训练...
2025-03-21 19:37:18,197 - 未找到best_models目录，检查传统模型文件
2025-03-21 19:37:18,197 - 
================================================================================
2025-03-21 19:37:18,197 - >>> 开始模型训练 <<<
2025-03-21 19:37:18,197 - 未找到任何可用模型文件
2025-03-21 19:37:18,198 - ================================================================================

2025-03-21 19:37:18,198 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 19:37:18,198 - 配置信息:
2025-03-21 19:37:18,198 -   - 窗口大小: 16
2025-03-21 19:37:18,198 -   - 滞后特征数: 4
2025-03-21 19:37:18,198 -   - 训练集比例: 0.9
2025-03-21 19:37:18,198 -   - 输出目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\train_predictions\short_predictions
2025-03-21 19:37:18,198 -   - 模型存储路径: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 19:37:18,198 - 输出结果将保存到: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\train_predictions\short_predictions
2025-03-21 19:37:18,198 - 
================================================================================
2025-03-21 19:37:18,198 - >>> 数据加载与预处理 <<<
2025-03-21 19:37:18,198 - ================================================================================

2025-03-21 19:37:18,198 - 加载数据文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short\20250321.csv
2025-03-21 19:37:18,198 - 开始加载和预处理数据...
2025-03-21 19:37:18,332 - 数据加载完成，共 2973 条记录
2025-03-21 19:37:18,354 - 数据前5行预览: 
        Timestamp    129.128_1    129.128_2  ...  ws200_15  wp_true    ws_all
0  2024/3/18 0:00  15974.26563  16293.82813  ...  9.731182   227.36  8.047185
1  2024/3/18 0:15  15974.26563  16293.82813  ...  9.603328   247.36  8.295189
2  2024/3/18 0:30  15974.26563  16293.82813  ...  9.476844   255.30  8.392767
3  2024/3/18 0:45  15974.26563  16293.82813  ...  9.351785   267.26  8.539846
4  2024/3/18 1:00  15974.26563  16293.82813  ...  9.228210   279.18  8.687130

[5 rows x 303 columns]
2025-03-21 19:37:18,357 - 数据集时间范围: 2024-03-18 至 2024-04-17, 共 1 个月
2025-03-21 19:37:18,357 - 根据数据集实际时间范围(1个月)，优化months_list: [1, 3, 6, 9, 12, None] -> [1, None]
2025-03-21 19:37:18,357 - 将使用以下时间段训练模型: [1, None]
2025-03-21 19:37:18,357 - 
================================================================================
2025-03-21 19:37:18,357 - >>> 开始多数据集训练 <<<
2025-03-21 19:37:18,357 - ================================================================================

2025-03-21 19:37:18,357 - 将使用多种时间跨度的数据训练模型...
2025-03-21 19:37:18,357 - 
--------------------------------------------------
【使用多个数据集训练模型】
--------------------------------------------------
2025-03-21 19:37:18,358 - 最佳模型将保存到: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 19:37:18,358 - 获取统一参数成功，包含 3 种模型类型
2025-03-21 19:37:18,358 - 
--------------------------------------------------
【训练数据集: 1个月】
--------------------------------------------------
2025-03-21 19:37:18,358 - 使用1个月的数据进行训练...
2025-03-21 19:37:18,358 - 过滤数据为最近1个月...
2025-03-21 19:37:18,360 - 过滤后的数据量: 2973
2025-03-21 19:37:18,360 - 对1个月数据进行预处理...
2025-03-21 19:37:18,364 - 预处理后的特征维度: (2973, 304), 目标变量维度: (2973,)
2025-03-21 19:37:18,364 - 数据集划分完成，训练集: (2675, 304), 验证集: (298, 304)
2025-03-21 19:37:18,364 - 提取了 298 个验证集时间戳，用于时间加权评估
2025-03-21 19:37:18,364 - 执行特征工程，滞后特征数: 4...
2025-03-21 19:37:18,411 - 特征工程后的特征维度 - 训练集: (2672, 859), 验证集: (295, 859)
2025-03-21 19:37:18,411 - 数据标准化...
2025-03-21 19:37:18,444 - 数据标准化完成
2025-03-21 19:37:18,444 - 创建时间窗口，窗口大小: 16...
2025-03-21 19:37:18,500 - 时间窗口创建完成 - 训练集: (2657, 16, 859), 验证集: (280, 16, 859)
2025-03-21 19:37:18,500 - 调整时间戳长度以匹配窗口化后的验证集 - 原始长度: 298, 目标长度: 280
2025-03-21 19:37:18,500 - 时间戳已截断至匹配窗口化后的验证集长度: 280
2025-03-21 19:37:18,500 - 为1个月数据创建模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\1months
2025-03-21 19:37:18,501 - 开始训练1个月数据的模型...
2025-03-21 19:37:18,501 - 
--------------------------------------------------
【开始模型训练与评估】
--------------------------------------------------
2025-03-21 19:37:18,501 - 模型和 scaler 将被保存到目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\1months
2025-03-21 19:37:18,501 - 
--------------------------------------------------
【训练 GBDT 模型】
--------------------------------------------------
2025-03-21 19:37:18,501 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'gbdt', 'name': 'GBDT'}
2025-03-21 19:37:18,501 - 开始训练 GBDT 模型...
2025-03-21 19:37:34,660 - GBDT 模型训练完成
2025-03-21 19:37:34,660 - 使用 GBDT 模型预测验证集...
2025-03-21 19:37:34,667 - 使用时间加权方式计算模型评分...
2025-03-21 19:37:34,669 - GBDT 评估结果 - RMSE: 67.1426, K: 0.4608, 加权评分: 0.6513
2025-03-21 19:37:34,669 - ✅ GBDT 成为当前最佳模型 (基于加权评分)
2025-03-21 19:37:34,679 - GBDT 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\1months\GBDT.joblib
2025-03-21 19:37:34,680 - 
--------------------------------------------------
【训练 DART 模型】
--------------------------------------------------
2025-03-21 19:37:34,680 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'dart', 'drop_rate': 0.1, 'name': 'DART'}
2025-03-21 19:37:34,680 - 开始训练 DART 模型...
2025-03-21 19:37:48,211 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 19:37:48,211 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 19:37:48,212 - 未找到GBDT模型文件
2025-03-21 19:37:48,212 - 未找到DART模型文件
2025-03-21 19:37:48,212 - 未找到GOSS模型文件
2025-03-21 19:37:48,212 - 未找到任何可用模型文件
2025-03-21 19:37:48,212 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 19:37:50,713 - DART 模型训练完成
2025-03-21 19:37:50,713 - 使用 DART 模型预测验证集...
2025-03-21 19:37:50,720 - 使用时间加权方式计算模型评分...
2025-03-21 19:37:50,721 - DART 评估结果 - RMSE: 62.3280, K: 0.6255, 加权评分: 0.7416
2025-03-21 19:37:50,721 - ✅ DART 成为当前最佳模型 (基于加权评分)
2025-03-21 19:37:50,727 - DART 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\1months\DART.joblib
2025-03-21 19:37:50,728 - 
--------------------------------------------------
【训练 GOSS 模型】
--------------------------------------------------
2025-03-21 19:37:50,728 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'goss', 'top_rate': 0.2, 'other_rate': 0.1, 'name': 'GOSS'}
2025-03-21 19:37:50,728 - 开始训练 GOSS 模型...
2025-03-21 19:38:03,567 - GOSS 模型训练完成
2025-03-21 19:38:03,567 - 使用 GOSS 模型预测验证集...
2025-03-21 19:38:03,576 - 使用时间加权方式计算模型评分...
2025-03-21 19:38:03,578 - GOSS 评估结果 - RMSE: 68.3105, K: 0.4494, 加权评分: 0.6442
2025-03-21 19:38:03,597 - GOSS 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\1months\GOSS.joblib
2025-03-21 19:38:03,599 - Scaler 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\1months\scaler.joblib
2025-03-21 19:38:03,605 - 最佳模型 'DART' 已额外保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\1months\model.joblib
2025-03-21 19:38:03,605 - 1个月数据的模型训练完成
2025-03-21 19:38:03,605 - 
--------------------------------------------------
【更新每种算法的最佳模型】
--------------------------------------------------
2025-03-21 19:38:03,605 - ✅ 发现更好的GBDT模型 (来自1个月数据)
2025-03-21 19:38:03,605 -    新评分: 0.6513, 旧评分: -inf
2025-03-21 19:38:03,605 - ✅ 发现更好的DART模型 (来自1个月数据)
2025-03-21 19:38:03,606 -    新评分: 0.7416, 旧评分: -inf
2025-03-21 19:38:03,606 - ✅ 发现更好的GOSS模型 (来自1个月数据)
2025-03-21 19:38:03,606 -    新评分: 0.6442, 旧评分: -inf
2025-03-21 19:38:03,606 - 
--------------------------------------------------
【训练数据集: 全部数据】
--------------------------------------------------
2025-03-21 19:38:03,606 - 使用全部数据的数据进行训练...
2025-03-21 19:38:03,606 - 使用全部数据...
2025-03-21 19:38:03,607 - 过滤后的数据量: 2973
2025-03-21 19:38:03,607 - 对全部数据数据进行预处理...
2025-03-21 19:38:03,612 - 预处理后的特征维度: (2973, 304), 目标变量维度: (2973,)
2025-03-21 19:38:03,613 - 数据集划分完成，训练集: (2675, 304), 验证集: (298, 304)
2025-03-21 19:38:03,613 - 提取了 298 个验证集时间戳，用于时间加权评估
2025-03-21 19:38:03,613 - 执行特征工程，滞后特征数: 4...
2025-03-21 19:38:03,718 - 特征工程后的特征维度 - 训练集: (2672, 859), 验证集: (295, 859)
2025-03-21 19:38:03,718 - 数据标准化...
2025-03-21 19:38:03,749 - 数据标准化完成
2025-03-21 19:38:03,749 - 创建时间窗口，窗口大小: 16...
2025-03-21 19:38:03,816 - 时间窗口创建完成 - 训练集: (2657, 16, 859), 验证集: (280, 16, 859)
2025-03-21 19:38:03,816 - 调整时间戳长度以匹配窗口化后的验证集 - 原始长度: 298, 目标长度: 280
2025-03-21 19:38:03,816 - 时间戳已截断至匹配窗口化后的验证集长度: 280
2025-03-21 19:38:03,816 - 为全部数据数据创建模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\all_data
2025-03-21 19:38:03,816 - 开始训练全部数据数据的模型...
2025-03-21 19:38:03,816 - 
--------------------------------------------------
【开始模型训练与评估】
--------------------------------------------------
2025-03-21 19:38:03,817 - 模型和 scaler 将被保存到目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\all_data
2025-03-21 19:38:03,817 - 
--------------------------------------------------
【训练 GBDT 模型】
--------------------------------------------------
2025-03-21 19:38:03,817 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'gbdt', 'name': 'GBDT'}
2025-03-21 19:38:03,817 - 开始训练 GBDT 模型...
2025-03-21 19:38:18,226 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 19:38:18,226 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 19:38:18,226 - 未找到GBDT模型文件
2025-03-21 19:38:18,226 - 未找到DART模型文件
2025-03-21 19:38:18,226 - 未找到GOSS模型文件
2025-03-21 19:38:18,226 - 未找到任何可用模型文件
2025-03-21 19:38:18,226 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 19:38:20,156 - GBDT 模型训练完成
2025-03-21 19:38:20,156 - 使用 GBDT 模型预测验证集...
2025-03-21 19:38:20,163 - 使用时间加权方式计算模型评分...
2025-03-21 19:38:20,164 - GBDT 评估结果 - RMSE: 67.1426, K: 0.4608, 加权评分: 0.6513
2025-03-21 19:38:20,164 - ✅ GBDT 成为当前最佳模型 (基于加权评分)
2025-03-21 19:38:20,176 - GBDT 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\all_data\GBDT.joblib
2025-03-21 19:38:20,176 - 
--------------------------------------------------
【训练 DART 模型】
--------------------------------------------------
2025-03-21 19:38:20,176 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'dart', 'drop_rate': 0.1, 'name': 'DART'}
2025-03-21 19:38:20,176 - 开始训练 DART 模型...
2025-03-21 19:38:36,421 - DART 模型训练完成
2025-03-21 19:38:36,421 - 使用 DART 模型预测验证集...
2025-03-21 19:38:36,430 - 使用时间加权方式计算模型评分...
2025-03-21 19:38:36,431 - DART 评估结果 - RMSE: 62.3280, K: 0.6255, 加权评分: 0.7416
2025-03-21 19:38:36,431 - ✅ DART 成为当前最佳模型 (基于加权评分)
2025-03-21 19:38:36,442 - DART 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\all_data\DART.joblib
2025-03-21 19:38:36,443 - 
--------------------------------------------------
【训练 GOSS 模型】
--------------------------------------------------
2025-03-21 19:38:36,443 - 模型参数: {'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'boosting_type': 'goss', 'top_rate': 0.2, 'other_rate': 0.1, 'name': 'GOSS'}
2025-03-21 19:38:36,443 - 开始训练 GOSS 模型...
2025-03-21 19:38:48,240 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 19:38:48,240 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 19:38:48,240 - 未找到GBDT模型文件
2025-03-21 19:38:48,241 - 未找到DART模型文件
2025-03-21 19:38:48,241 - 未找到GOSS模型文件
2025-03-21 19:38:48,241 - 未找到任何可用模型文件
2025-03-21 19:38:48,241 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 19:38:49,402 - GOSS 模型训练完成
2025-03-21 19:38:49,402 - 使用 GOSS 模型预测验证集...
2025-03-21 19:38:49,410 - 使用时间加权方式计算模型评分...
2025-03-21 19:38:49,411 - GOSS 评估结果 - RMSE: 68.3105, K: 0.4494, 加权评分: 0.6442
2025-03-21 19:38:49,423 - GOSS 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\all_data\GOSS.joblib
2025-03-21 19:38:49,425 - Scaler 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\all_data\scaler.joblib
2025-03-21 19:38:49,433 - 最佳模型 'DART' 已额外保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\all_data\model.joblib
2025-03-21 19:38:49,433 - 全部数据数据的模型训练完成
2025-03-21 19:38:49,433 - 
--------------------------------------------------
【更新每种算法的最佳模型】
--------------------------------------------------
2025-03-21 19:38:49,433 - ❌ 全部数据数据的GBDT模型不是最佳模型
2025-03-21 19:38:49,433 -    当前评分: 0.6513, 最佳评分: 0.6513
2025-03-21 19:38:49,433 - ❌ 全部数据数据的DART模型不是最佳模型
2025-03-21 19:38:49,433 -    当前评分: 0.7416, 最佳评分: 0.7416
2025-03-21 19:38:49,433 - ❌ 全部数据数据的GOSS模型不是最佳模型
2025-03-21 19:38:49,434 -    当前评分: 0.6442, 最佳评分: 0.6442
2025-03-21 19:38:49,434 - 
--------------------------------------------------
【保存每种算法的最佳模型】
--------------------------------------------------
2025-03-21 19:38:49,443 - 最佳GBDT模型 (使用1个月数据) 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models\GBDT.joblib
2025-03-21 19:38:49,443 - RMSE: 67.1426, K: 0.4608, 评分: 0.6513
2025-03-21 19:38:49,451 - 最佳DART模型 (使用1个月数据) 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models\DART.joblib
2025-03-21 19:38:49,452 - RMSE: 62.3280, K: 0.6255, 评分: 0.7416
2025-03-21 19:38:49,464 - 最佳GOSS模型 (使用1个月数据) 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models\GOSS.joblib
2025-03-21 19:38:49,464 - RMSE: 68.3105, K: 0.4494, 评分: 0.6442
2025-03-21 19:38:49,505 - 多数据集训练完成! 已为每种算法选择最佳模型
2025-03-21 19:38:49,505 -   - 最佳GBDT模型: 使用1个月数据, RMSE=67.1426, K=0.4608, 评分=0.6513
2025-03-21 19:38:49,505 -   - 最佳DART模型: 使用1个月数据, RMSE=62.3280, K=0.6255, 评分=0.7416
2025-03-21 19:38:49,505 -   - 最佳GOSS模型: 使用1个月数据, RMSE=68.3105, K=0.4494, 评分=0.6442
2025-03-21 19:38:49,505 - 
================================================================================
2025-03-21 19:38:49,505 - >>> 开始计算模型权重 <<<
2025-03-21 19:38:49,506 - ================================================================================

2025-03-21 19:38:49,506 - 开始计算模型权重
2025-03-21 19:38:49,506 - 从训练数据集中提取最后三天数据进行权重优化
2025-03-21 19:38:49,507 - ✅ 已从训练数据集提取最后三天数据，共 289 条记录
2025-03-21 19:38:49,507 - 开始计算最优模型权重...
2025-03-21 19:38:49,507 - 
--------------------------------------------------
【计算模型权重】
--------------------------------------------------
2025-03-21 19:38:49,547 - 加载最佳模型和对应的scaler...
2025-03-21 19:38:49,547 - ✅ 已加载 GBDT 模型和scaler
2025-03-21 19:38:49,547 - ✅ 已加载 DART 模型和scaler
2025-03-21 19:38:49,548 - ✅ 已加载 GOSS 模型和scaler
2025-03-21 19:38:49,548 - 预处理验证数据，共 289 条记录...
2025-03-21 19:38:49,551 - 验证数据预处理完成，特征维度: (289, 304)
2025-03-21 19:38:49,588 - 验证数据特征工程完成，特征维度: (286, 859)
2025-03-21 19:38:49,588 - 使用各模型进行预测...
2025-03-21 19:38:49,596 - 使用 GBDT 模型预测...
2025-03-21 19:38:49,603 - ✅ GBDT 模型预测完成，预测结果数量: 271
2025-03-21 19:38:49,619 - 使用 DART 模型预测...
2025-03-21 19:38:49,626 - ✅ DART 模型预测完成，预测结果数量: 271
2025-03-21 19:38:49,638 - 使用 GOSS 模型预测...
2025-03-21 19:38:49,646 - ✅ GOSS 模型预测完成，预测结果数量: 271
2025-03-21 19:38:49,646 - 对齐预测结果，使用最小长度: 271
2025-03-21 19:38:49,646 - 创建线性回归的特征矩阵 (271, 3) 和目标向量 (271,)
2025-03-21 19:38:49,646 - 训练线性回归模型计算最优权重...
2025-03-21 19:38:49,646 - 线性回归得到的权重: {'GBDT': np.float64(0.3378826776996291), 'DART': np.float64(0.18465658902121768), 'GOSS': np.float64(0.0), 'INTERCEPT': np.float64(98.07836551790079)}
2025-03-21 19:38:49,646 - 最终计算的模型权重: {'GBDT': np.float64(0.3378826776996291), 'DART': np.float64(0.18465658902121768), 'GOSS': np.float64(0.0), 'INTERCEPT': np.float64(98.07836551790079)}
2025-03-21 19:38:49,649 - 计算得到的最优权重: {'GBDT': np.float64(0.3378826776996291), 'DART': np.float64(0.18465658902121768), 'GOSS': np.float64(0.0), 'INTERCEPT': np.float64(98.07836551790079)}
2025-03-21 19:38:49,650 - 模型权重已保存到: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\model_weights.joblib
2025-03-21 19:38:49,656 - ✅ 训练完成，已创建标志文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\20250321_train_done.flag
2025-03-21 19:38:49,656 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 19:38:49,656 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 19:38:49,656 - 发现GBDT模型文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models\GBDT.joblib
2025-03-21 19:38:49,657 - ✅ 模型已成功保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321，模型可用。
2025-03-21 19:39:18,242 - ✅ 发现新的预测文件：D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv\20250321.csv，执行预测...
2025-03-21 19:39:18,243 - 
============================================================
【风电功率预测开始】
============================================================
2025-03-21 19:39:18,244 - 配置信息:
2025-03-21 19:39:18,244 -   - 数据文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv\20250321.csv
2025-03-21 19:39:18,244 -   - 模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 19:39:18,245 -   - 窗口大小: 16
2025-03-21 19:39:18,245 -   - 滞后特征数: 4
2025-03-21 19:39:18,246 - 
============================================================
【预处理新数据】
============================================================
2025-03-21 19:39:18,246 - 加载数据文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv\20250321.csv
2025-03-21 19:39:18,260 - 数据加载完成，去除缺失值后共 109 条记录
2025-03-21 19:39:18,311 - 数据前5行预览:
         Timestamp    129.128_1    129.128_2  ...  ws200_13   ws200_14   ws200_15
0  2024/4/16 20:00  15974.26563  16293.82813  ...  9.541195  10.863499  12.404554
1  2024/4/16 20:15  15974.26563  16293.82813  ...  9.280917  10.585079  12.259521
2  2024/4/16 20:30  15974.26563  16293.82813  ...  9.020693  10.307371  12.115601
3  2024/4/16 20:45  15974.26563  16293.82813  ...  8.760527  10.030434  11.972834
4  2024/4/16 21:00  15974.26563  16293.82813  ...  8.500424   9.754334  11.831263

[5 rows x 301 columns]
2025-03-21 19:39:18,311 - 预处理数据...
2025-03-21 19:39:18,313 - 预处理完成，特征维度: (109, 304)
2025-03-21 19:39:18,313 - 执行特征工程，滞后特征数: 4...
2025-03-21 19:39:18,371 - 特征工程完成，特征维度: (106, 859)
2025-03-21 19:39:18,371 - 新数据预处理完成，共 106 个样本
2025-03-21 19:39:18,371 - ✅ 发现最佳模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models，尝试使用多模型加权预测
2025-03-21 19:39:18,371 - 
============================================================
【加载多个模型】
============================================================
2025-03-21 19:39:18,372 - 从目录加载模型和 scaler: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 19:39:18,372 - 加载 GBDT 模型和 scaler...
2025-03-21 19:39:18,379 - ✅ 已成功加载 GBDT 模型和对应的 scaler
2025-03-21 19:39:18,380 - 加载 DART 模型和 scaler...
2025-03-21 19:39:18,385 - ✅ 已成功加载 DART 模型和对应的 scaler
2025-03-21 19:39:18,385 - 加载 GOSS 模型和 scaler...
2025-03-21 19:39:18,393 - ✅ 已成功加载 GOSS 模型和对应的 scaler
2025-03-21 19:39:18,394 - 加载完成，共加载了 3 个模型: GBDT, DART, GOSS
2025-03-21 19:39:18,394 - 尝试加载模型权重文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\model_weights.joblib
2025-03-21 19:39:18,394 - ✅ 已加载模型权重: {'GBDT': np.float64(0.3378826776996291), 'DART': np.float64(0.18465658902121768), 'GOSS': np.float64(0.0), 'INTERCEPT': np.float64(98.07836551790079)}
2025-03-21 19:39:18,394 - 
============================================================
【使用多模型加权预测】
============================================================
2025-03-21 19:39:18,395 - 使用自定义权重: {'GBDT': np.float64(0.3378826776996291), 'DART': np.float64(0.18465658902121768), 'GOSS': np.float64(0.0), 'INTERCEPT': np.float64(98.07836551790079)}
2025-03-21 19:39:18,395 - 使用 GBDT 模型进行预测 (权重: 0.3379)...
2025-03-21 19:39:18,399 - GBDT: 数据标准化完成
2025-03-21 19:39:18,402 - GBDT: 时间窗口创建完成，窗口数量: 91
2025-03-21 19:39:18,406 - ✅ GBDT 模型预测完成，生成了 91 个预测值
2025-03-21 19:39:18,407 -    统计: 最小值=201.69, 最大值=273.76, 平均值=250.17
2025-03-21 19:39:18,407 - 使用 DART 模型进行预测 (权重: 0.1847)...
2025-03-21 19:39:18,411 - DART: 数据标准化完成
2025-03-21 19:39:18,414 - DART: 时间窗口创建完成，窗口数量: 91
2025-03-21 19:39:18,418 - ✅ DART 模型预测完成，生成了 91 个预测值
2025-03-21 19:39:18,418 -    统计: 最小值=160.99, 最大值=218.68, 平均值=199.92
2025-03-21 19:39:18,418 - ❌ GOSS 模型权重为0，跳过
2025-03-21 19:39:18,418 - 所有预测结果对齐到最小长度: 91
2025-03-21 19:39:18,418 - 开始计算加权平均预测结果...
2025-03-21 19:39:18,418 -   加入 GBDT 模型贡献 (权重: 0.3379)
2025-03-21 19:39:18,418 -   加入 DART 模型贡献 (权重: 0.1847)
2025-03-21 19:39:18,418 -   加入常数偏置项 (值: 98.0784)
2025-03-21 19:39:18,418 - 加权平均预测完成，生成了 91 个预测值
2025-03-21 19:39:18,419 - 加权预测结果统计: 最小值=195.95, 最大值=230.83, 平均值=219.52
2025-03-21 19:39:18,419 - ✅ 多模型加权预测完成，使用模型: GBDT, DART, GOSS
2025-03-21 19:39:18,420 - 
============================================================
【保存预测结果】
============================================================
2025-03-21 19:39:18,420 - 创建输出目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\results\shortresult\20250321
2025-03-21 19:39:18,421 - 预测结果数据框创建完成，共 91 行
2025-03-21 19:39:18,427 - ✅ 预测结果已保存到文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\results\shortresult\20250321\20250321.csv
2025-03-21 19:39:18,427 - 尝试将预测结果导入数据库...
2025-03-21 19:39:18,427 - 发送HTTP请求到: http://localhost:5000/prediction2database/batch_shortl_power
2025-03-21 19:39:20,620 - ✅ 数据已成功导入数据库
2025-03-21 19:39:20,620 -    总记录数: 91, 更新: 91, 插入: 0
2025-03-21 19:39:20,621 - ✅ 预测结果已保存到: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\results\shortresult\20250321\20250321.csv
2025-03-21 19:39:20,621 - ✅ 创建预测完成标志文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\results\shortresult\20250321\20250321_predict_done.flag
2025-03-21 19:39:20,621 - 
============================================================
【风电功率预测完成】
============================================================
2025-03-21 19:39:20,621 - 风电功率预测完成
2025-03-21 19:39:20,623 - ✅ 预测执行完成
2025-03-21 19:39:20,623 - 
================================================================================
2025-03-21 19:39:20,623 - >>> 系统任务完成 <<<
2025-03-21 19:39:20,623 - ================================================================================

2025-03-21 19:39:20,623 - 系统任务完成
2025-03-21 19:39:20,623 - 今天的训练和预测任务已完成。
2025-03-21 20:15:19,480 - 
================================================================================
2025-03-21 20:15:19,481 - >>> 自动训练预测系统启动 <<<
2025-03-21 20:15:19,481 - ================================================================================

2025-03-21 20:15:19,481 - 自动训练预测系统启动
2025-03-21 20:15:19,481 - 今天的日期是: 20250321
2025-03-21 20:15:19,481 - 创建监视线程...
2025-03-21 20:15:19,481 - 启动训练线程...
2025-03-21 20:15:19,481 - 启动预测线程...
2025-03-21 20:15:19,482 - 
================================================================================
2025-03-21 20:15:19,482 - >>> 启动训练监视线程 <<<
2025-03-21 20:15:19,482 - 等待线程完成...
2025-03-21 20:15:19,482 - ================================================================================

2025-03-21 20:15:19,482 - 
================================================================================
2025-03-21 20:15:19,482 - 启动训练监视线程
2025-03-21 20:15:19,482 - >>> 启动预测监视线程 <<<
2025-03-21 20:15:19,482 - ================================================================================

2025-03-21 20:15:19,482 - 训练文件路径: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short\20250321.csv
2025-03-21 20:15:19,482 - 启动预测监视线程
2025-03-21 20:15:19,482 - 模型存储目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 20:15:19,483 - 训练完成标志文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\20250321_train_done.flag
2025-03-21 20:15:19,483 - 预测数据文件路径: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv\20250321.csv
2025-03-21 20:15:19,483 - 开始监视 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short 文件夹以进行训练...
2025-03-21 20:15:19,483 - 模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 20:15:19,483 - 预测完成标志文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\results\shortresult\20250321\20250321_predict_done.flag
2025-03-21 20:15:19,484 - 开始监视 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv 文件夹以进行预测...
2025-03-21 20:15:19,484 - ✅ 发现新的训练文件：D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short\20250321.csv，执行训练...
2025-03-21 20:15:19,484 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 20:15:19,484 - 
================================================================================
2025-03-21 20:15:19,484 - >>> 开始模型训练 <<<
2025-03-21 20:15:19,484 - ================================================================================

2025-03-21 20:15:19,484 - 未找到best_models目录，检查传统模型文件
2025-03-21 20:15:19,484 - 配置信息:
2025-03-21 20:15:19,484 - 未找到任何可用模型文件
2025-03-21 20:15:19,484 -   - 窗口大小: 16
2025-03-21 20:15:19,485 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 20:15:19,485 -   - 滞后特征数: 4
2025-03-21 20:15:19,485 -   - 训练集比例: 0.9
2025-03-21 20:15:19,485 -   - 输出目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\train_predictions\short_predictions
2025-03-21 20:15:19,485 -   - 模型存储路径: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 20:15:19,485 - 输出结果将保存到: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\train_predictions\short_predictions
2025-03-21 20:15:19,485 - 
================================================================================
2025-03-21 20:15:19,485 - >>> 数据加载与预处理 <<<
2025-03-21 20:15:19,485 - ================================================================================

2025-03-21 20:15:19,485 - 加载数据文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short\20250321.csv
2025-03-21 20:15:19,485 - 开始加载和预处理数据...
2025-03-21 20:15:19,592 - 数据加载完成，共 2973 条记录
2025-03-21 20:15:19,612 - 数据前5行预览: 
        Timestamp    129.128_1    129.128_2  ...  ws200_15  wp_true    ws_all
0  2024/3/18 0:00  15974.26563  16293.82813  ...  9.731182   227.36  8.047185
1  2024/3/18 0:15  15974.26563  16293.82813  ...  9.603328   247.36  8.295189
2  2024/3/18 0:30  15974.26563  16293.82813  ...  9.476844   255.30  8.392767
3  2024/3/18 0:45  15974.26563  16293.82813  ...  9.351785   267.26  8.539846
4  2024/3/18 1:00  15974.26563  16293.82813  ...  9.228210   279.18  8.687130

[5 rows x 303 columns]
2025-03-21 20:15:19,614 - 数据集时间范围: 2024-03-18 至 2024-04-17, 共 1 个月
2025-03-21 20:15:19,614 - 根据数据集实际时间范围(1个月)，优化months_list: [1, 3, 6, 9, 12, None] -> [1, None]
2025-03-21 20:15:19,614 - 将使用以下时间段训练模型: [1, None]
2025-03-21 20:15:19,615 - 
================================================================================
2025-03-21 20:15:19,615 - >>> 开始多数据集训练 <<<
2025-03-21 20:15:19,615 - ================================================================================

2025-03-21 20:15:19,615 - 将使用多种时间跨度的数据训练模型...
2025-03-21 20:15:19,615 - 
--------------------------------------------------
【使用多个数据集训练模型】
--------------------------------------------------
2025-03-21 20:15:19,615 - 最佳模型将保存到: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 20:15:19,615 - 获取统一参数成功，包含 3 种模型类型
2025-03-21 20:15:19,615 - 
--------------------------------------------------
【训练数据集: 1个月】
--------------------------------------------------
2025-03-21 20:15:19,615 - 使用1个月的数据进行训练...
2025-03-21 20:15:19,616 - 过滤数据为最近1个月...
2025-03-21 20:15:19,617 - 过滤后的数据量: 2973
2025-03-21 20:15:19,617 - 对1个月数据进行预处理...
2025-03-21 20:15:19,621 - 预处理后的特征维度: (2973, 304), 目标变量维度: (2973,)
2025-03-21 20:15:19,621 - 数据集划分完成，训练集: (2675, 304), 验证集: (298, 304)
2025-03-21 20:15:19,621 - 提取了 298 个验证集时间戳，用于时间加权评估
2025-03-21 20:15:19,621 - 执行特征工程，滞后特征数: 4...
2025-03-21 20:15:19,670 - 特征工程后的特征维度 - 训练集: (2672, 859), 验证集: (295, 859)
2025-03-21 20:15:19,670 - 数据标准化...
2025-03-21 20:15:19,720 - 数据标准化完成
2025-03-21 20:15:19,721 - 创建时间窗口，窗口大小: 16...
2025-03-21 20:15:19,773 - 时间窗口创建完成 - 训练集: (2657, 16, 859), 验证集: (280, 16, 859)
2025-03-21 20:15:19,773 - 调整时间戳长度以匹配窗口化后的验证集 - 原始长度: 298, 目标长度: 280
2025-03-21 20:15:19,773 - 时间戳已截断至匹配窗口化后的验证集长度: 280
2025-03-21 20:15:19,774 - 为1个月数据创建模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\1months
2025-03-21 20:15:19,774 - 开始训练1个月数据的模型...
2025-03-21 20:15:19,774 - 
--------------------------------------------------
【开始模型训练与评估】
--------------------------------------------------
2025-03-21 20:15:19,774 - 模型和 scaler 将被保存到目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\1months
2025-03-21 20:15:19,774 - 
--------------------------------------------------
【训练 GBDT 模型】
--------------------------------------------------
2025-03-21 20:15:19,774 - 模型参数: {'boosting_type': 'gbdt', 'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'name': 'GBDT'}
2025-03-21 20:15:19,774 - 开始训练 GBDT 模型...
2025-03-21 20:15:36,352 - GBDT 模型训练完成
2025-03-21 20:15:36,352 - 使用 GBDT 模型预测验证集...
2025-03-21 20:15:36,359 - 使用时间加权方式计算模型评分...
2025-03-21 20:15:36,361 - GBDT 评估结果 - RMSE: 67.1426, K: 0.4608, 加权评分: 0.6513
2025-03-21 20:15:36,361 - ✅ GBDT 成为当前最佳模型 (基于加权评分)
2025-03-21 20:15:36,370 - GBDT 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\1months\GBDT.joblib
2025-03-21 20:15:36,370 - 
--------------------------------------------------
【训练 DART 模型】
--------------------------------------------------
2025-03-21 20:15:36,371 - 模型参数: {'boosting_type': 'dart', 'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'drop_rate': 0.1, 'name': 'DART'}
2025-03-21 20:15:36,371 - 开始训练 DART 模型...
2025-03-21 20:15:49,493 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 20:15:49,493 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 20:15:49,493 - 未找到GBDT模型文件
2025-03-21 20:15:49,493 - 未找到DART模型文件
2025-03-21 20:15:49,494 - 未找到GOSS模型文件
2025-03-21 20:15:49,494 - 未找到任何可用模型文件
2025-03-21 20:15:49,494 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 20:15:52,833 - DART 模型训练完成
2025-03-21 20:15:52,833 - 使用 DART 模型预测验证集...
2025-03-21 20:15:52,840 - 使用时间加权方式计算模型评分...
2025-03-21 20:15:52,843 - DART 评估结果 - RMSE: 62.3280, K: 0.6255, 加权评分: 0.7416
2025-03-21 20:15:52,843 - ✅ DART 成为当前最佳模型 (基于加权评分)
2025-03-21 20:15:52,855 - DART 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\1months\DART.joblib
2025-03-21 20:15:52,855 - 
--------------------------------------------------
【训练 GOSS 模型】
--------------------------------------------------
2025-03-21 20:15:52,855 - 模型参数: {'boosting_type': 'goss', 'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'top_rate': 0.2, 'other_rate': 0.1, 'name': 'GOSS'}
2025-03-21 20:15:52,855 - 开始训练 GOSS 模型...
2025-03-21 20:16:06,196 - GOSS 模型训练完成
2025-03-21 20:16:06,197 - 使用 GOSS 模型预测验证集...
2025-03-21 20:16:06,204 - 使用时间加权方式计算模型评分...
2025-03-21 20:16:06,208 - GOSS 评估结果 - RMSE: 68.3105, K: 0.4494, 加权评分: 0.6442
2025-03-21 20:16:06,222 - GOSS 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\1months\GOSS.joblib
2025-03-21 20:16:06,224 - Scaler 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\1months\scaler.joblib
2025-03-21 20:16:06,232 - 最佳模型 'DART' 已额外保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\1months\model.joblib
2025-03-21 20:16:06,232 - 1个月数据的模型训练完成
2025-03-21 20:16:06,232 - 
--------------------------------------------------
【更新每种算法的最佳模型】
--------------------------------------------------
2025-03-21 20:16:06,232 - ✅ 发现更好的GBDT模型 (来自1个月数据)
2025-03-21 20:16:06,232 -    新评分: 0.6513, 旧评分: -inf
2025-03-21 20:16:06,232 - ✅ 发现更好的DART模型 (来自1个月数据)
2025-03-21 20:16:06,232 -    新评分: 0.7416, 旧评分: -inf
2025-03-21 20:16:06,232 - ✅ 发现更好的GOSS模型 (来自1个月数据)
2025-03-21 20:16:06,233 -    新评分: 0.6442, 旧评分: -inf
2025-03-21 20:16:06,233 - 
--------------------------------------------------
【训练数据集: 全部数据】
--------------------------------------------------
2025-03-21 20:16:06,233 - 使用全部数据的数据进行训练...
2025-03-21 20:16:06,233 - 使用全部数据...
2025-03-21 20:16:06,233 - 过滤后的数据量: 2973
2025-03-21 20:16:06,234 - 对全部数据数据进行预处理...
2025-03-21 20:16:06,241 - 预处理后的特征维度: (2973, 304), 目标变量维度: (2973,)
2025-03-21 20:16:06,241 - 数据集划分完成，训练集: (2675, 304), 验证集: (298, 304)
2025-03-21 20:16:06,242 - 提取了 298 个验证集时间戳，用于时间加权评估
2025-03-21 20:16:06,242 - 执行特征工程，滞后特征数: 4...
2025-03-21 20:16:06,348 - 特征工程后的特征维度 - 训练集: (2672, 859), 验证集: (295, 859)
2025-03-21 20:16:06,349 - 数据标准化...
2025-03-21 20:16:06,379 - 数据标准化完成
2025-03-21 20:16:06,379 - 创建时间窗口，窗口大小: 16...
2025-03-21 20:16:06,445 - 时间窗口创建完成 - 训练集: (2657, 16, 859), 验证集: (280, 16, 859)
2025-03-21 20:16:06,445 - 调整时间戳长度以匹配窗口化后的验证集 - 原始长度: 298, 目标长度: 280
2025-03-21 20:16:06,445 - 时间戳已截断至匹配窗口化后的验证集长度: 280
2025-03-21 20:16:06,445 - 为全部数据数据创建模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\all_data
2025-03-21 20:16:06,445 - 开始训练全部数据数据的模型...
2025-03-21 20:16:06,445 - 
--------------------------------------------------
【开始模型训练与评估】
--------------------------------------------------
2025-03-21 20:16:06,446 - 模型和 scaler 将被保存到目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\all_data
2025-03-21 20:16:06,446 - 
--------------------------------------------------
【训练 GBDT 模型】
--------------------------------------------------
2025-03-21 20:16:06,446 - 模型参数: {'boosting_type': 'gbdt', 'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'name': 'GBDT'}
2025-03-21 20:16:06,446 - 开始训练 GBDT 模型...
2025-03-21 20:16:19,506 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 20:16:19,506 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 20:16:19,506 - 未找到GBDT模型文件
2025-03-21 20:16:19,506 - 未找到DART模型文件
2025-03-21 20:16:19,507 - 未找到GOSS模型文件
2025-03-21 20:16:19,507 - 未找到任何可用模型文件
2025-03-21 20:16:19,507 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 20:16:23,083 - GBDT 模型训练完成
2025-03-21 20:16:23,083 - 使用 GBDT 模型预测验证集...
2025-03-21 20:16:23,091 - 使用时间加权方式计算模型评分...
2025-03-21 20:16:23,093 - GBDT 评估结果 - RMSE: 67.1426, K: 0.4608, 加权评分: 0.6513
2025-03-21 20:16:23,093 - ✅ GBDT 成为当前最佳模型 (基于加权评分)
2025-03-21 20:16:23,104 - GBDT 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\all_data\GBDT.joblib
2025-03-21 20:16:23,104 - 
--------------------------------------------------
【训练 DART 模型】
--------------------------------------------------
2025-03-21 20:16:23,105 - 模型参数: {'boosting_type': 'dart', 'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'drop_rate': 0.1, 'name': 'DART'}
2025-03-21 20:16:23,105 - 开始训练 DART 模型...
2025-03-21 20:16:39,825 - DART 模型训练完成
2025-03-21 20:16:39,825 - 使用 DART 模型预测验证集...
2025-03-21 20:16:39,833 - 使用时间加权方式计算模型评分...
2025-03-21 20:16:39,836 - DART 评估结果 - RMSE: 62.3280, K: 0.6255, 加权评分: 0.7416
2025-03-21 20:16:39,836 - ✅ DART 成为当前最佳模型 (基于加权评分)
2025-03-21 20:16:39,849 - DART 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\all_data\DART.joblib
2025-03-21 20:16:39,849 - 
--------------------------------------------------
【训练 GOSS 模型】
--------------------------------------------------
2025-03-21 20:16:39,849 - 模型参数: {'boosting_type': 'goss', 'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'top_rate': 0.2, 'other_rate': 0.1, 'name': 'GOSS'}
2025-03-21 20:16:39,849 - 开始训练 GOSS 模型...
2025-03-21 20:16:49,516 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 20:16:49,517 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 20:16:49,517 - 未找到GBDT模型文件
2025-03-21 20:16:49,517 - 未找到DART模型文件
2025-03-21 20:16:49,517 - 未找到GOSS模型文件
2025-03-21 20:16:49,518 - 未找到任何可用模型文件
2025-03-21 20:16:49,518 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 20:16:53,381 - GOSS 模型训练完成
2025-03-21 20:16:53,382 - 使用 GOSS 模型预测验证集...
2025-03-21 20:16:53,390 - 使用时间加权方式计算模型评分...
2025-03-21 20:16:53,391 - GOSS 评估结果 - RMSE: 68.3105, K: 0.4494, 加权评分: 0.6442
2025-03-21 20:16:53,406 - GOSS 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\all_data\GOSS.joblib
2025-03-21 20:16:53,407 - Scaler 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\all_data\scaler.joblib
2025-03-21 20:16:53,415 - 最佳模型 'DART' 已额外保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\all_data\model.joblib
2025-03-21 20:16:53,415 - 全部数据数据的模型训练完成
2025-03-21 20:16:53,415 - 
--------------------------------------------------
【更新每种算法的最佳模型】
--------------------------------------------------
2025-03-21 20:16:53,415 - ❌ 全部数据数据的GBDT模型不是最佳模型
2025-03-21 20:16:53,415 -    当前评分: 0.6513, 最佳评分: 0.6513
2025-03-21 20:16:53,416 - ❌ 全部数据数据的DART模型不是最佳模型
2025-03-21 20:16:53,416 -    当前评分: 0.7416, 最佳评分: 0.7416
2025-03-21 20:16:53,416 - ❌ 全部数据数据的GOSS模型不是最佳模型
2025-03-21 20:16:53,416 -    当前评分: 0.6442, 最佳评分: 0.6442
2025-03-21 20:16:53,416 - 
--------------------------------------------------
【保存每种算法的最佳模型】
--------------------------------------------------
2025-03-21 20:16:53,424 - 最佳GBDT模型 (使用1个月数据) 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models\GBDT.joblib
2025-03-21 20:16:53,424 - RMSE: 67.1426, K: 0.4608, 评分: 0.6513
2025-03-21 20:16:53,433 - 最佳DART模型 (使用1个月数据) 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models\DART.joblib
2025-03-21 20:16:53,433 - RMSE: 62.3280, K: 0.6255, 评分: 0.7416
2025-03-21 20:16:53,445 - 最佳GOSS模型 (使用1个月数据) 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models\GOSS.joblib
2025-03-21 20:16:53,445 - RMSE: 68.3105, K: 0.4494, 评分: 0.6442
2025-03-21 20:16:53,480 - 多数据集训练完成! 已为每种算法选择最佳模型
2025-03-21 20:16:53,480 -   - 最佳GBDT模型: 使用1个月数据, RMSE=67.1426, K=0.4608, 评分=0.6513
2025-03-21 20:16:53,480 -   - 最佳DART模型: 使用1个月数据, RMSE=62.3280, K=0.6255, 评分=0.7416
2025-03-21 20:16:53,480 -   - 最佳GOSS模型: 使用1个月数据, RMSE=68.3105, K=0.4494, 评分=0.6442
2025-03-21 20:16:53,480 - 
================================================================================
2025-03-21 20:16:53,480 - >>> 开始计算模型权重 <<<
2025-03-21 20:16:53,481 - ================================================================================

2025-03-21 20:16:53,481 - 开始计算模型权重
2025-03-21 20:16:53,481 - 从训练数据集中提取最后三天数据进行权重优化
2025-03-21 20:16:53,482 - ✅ 已从训练数据集提取最后三天数据，共 289 条记录
2025-03-21 20:16:53,483 - 开始计算最优模型权重...
2025-03-21 20:16:53,483 - 
--------------------------------------------------
【计算模型权重】
--------------------------------------------------
2025-03-21 20:16:53,514 - 加载最佳模型和对应的scaler...
2025-03-21 20:16:53,514 - ✅ 已加载 GBDT 模型和scaler
2025-03-21 20:16:53,514 - ✅ 已加载 DART 模型和scaler
2025-03-21 20:16:53,514 - ✅ 已加载 GOSS 模型和scaler
2025-03-21 20:16:53,514 - 预处理验证数据，共 289 条记录...
2025-03-21 20:16:53,517 - 验证数据预处理完成，特征维度: (289, 304)
2025-03-21 20:16:53,557 - 验证数据特征工程完成，特征维度: (286, 859)
2025-03-21 20:16:53,557 - 使用各模型进行预测...
2025-03-21 20:16:53,564 - 使用 GBDT 模型预测...
2025-03-21 20:16:53,571 - ✅ GBDT 模型预测完成，预测结果数量: 271
2025-03-21 20:16:53,582 - 使用 DART 模型预测...
2025-03-21 20:16:53,589 - ✅ DART 模型预测完成，预测结果数量: 271
2025-03-21 20:16:53,598 - 使用 GOSS 模型预测...
2025-03-21 20:16:53,605 - ✅ GOSS 模型预测完成，预测结果数量: 271
2025-03-21 20:16:53,605 - 对齐预测结果，使用最小长度: 271
2025-03-21 20:16:53,605 - 创建线性回归的特征矩阵 (271, 3) 和目标向量 (271,)
2025-03-21 20:16:53,605 - 训练线性回归模型计算最优权重...
2025-03-21 20:16:53,606 - 线性回归得到的权重: {'GBDT': np.float64(0.3378826776996291), 'DART': np.float64(0.18465658902121768), 'GOSS': np.float64(0.0), 'INTERCEPT': np.float64(98.07836551790079)}
2025-03-21 20:16:53,607 - 最终计算的模型权重: {'GBDT': np.float64(0.3378826776996291), 'DART': np.float64(0.18465658902121768), 'GOSS': np.float64(0.0), 'INTERCEPT': np.float64(98.07836551790079)}
2025-03-21 20:16:53,609 - 计算得到的最优权重: {'GBDT': np.float64(0.3378826776996291), 'DART': np.float64(0.18465658902121768), 'GOSS': np.float64(0.0), 'INTERCEPT': np.float64(98.07836551790079)}
2025-03-21 20:16:53,609 - 模型权重已保存到: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\model_weights.joblib
2025-03-21 20:16:53,616 - ✅ 训练完成，已创建标志文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\20250321_train_done.flag
2025-03-21 20:16:53,616 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 20:16:53,616 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 20:16:53,616 - 发现GBDT模型文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models\GBDT.joblib
2025-03-21 20:16:53,616 - ✅ 模型已成功保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321，模型可用。
2025-03-21 20:17:19,519 - ✅ 发现新的预测文件：D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv\20250321.csv，执行预测...
2025-03-21 20:17:19,519 - 
============================================================
【风电功率预测开始】
============================================================
2025-03-21 20:17:19,519 - 配置信息:
2025-03-21 20:17:19,520 -   - 数据文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv\20250321.csv
2025-03-21 20:17:19,520 -   - 模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 20:17:19,520 -   - 窗口大小: 16
2025-03-21 20:17:19,520 -   - 滞后特征数: 4
2025-03-21 20:17:19,520 - 
============================================================
【预处理新数据】
============================================================
2025-03-21 20:17:19,521 - 加载数据文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv\20250321.csv
2025-03-21 20:17:19,528 - 数据加载完成，去除缺失值后共 109 条记录
2025-03-21 20:17:19,567 - 数据前5行预览:
         Timestamp    129.128_1    129.128_2  ...  ws200_13   ws200_14   ws200_15
0  2024/4/16 20:00  15974.26563  16293.82813  ...  9.541195  10.863499  12.404554
1  2024/4/16 20:15  15974.26563  16293.82813  ...  9.280917  10.585079  12.259521
2  2024/4/16 20:30  15974.26563  16293.82813  ...  9.020693  10.307371  12.115601
3  2024/4/16 20:45  15974.26563  16293.82813  ...  8.760527  10.030434  11.972834
4  2024/4/16 21:00  15974.26563  16293.82813  ...  8.500424   9.754334  11.831263

[5 rows x 301 columns]
2025-03-21 20:17:19,568 - 预处理数据...
2025-03-21 20:17:19,569 - 预处理完成，特征维度: (109, 304)
2025-03-21 20:17:19,569 - 执行特征工程，滞后特征数: 4...
2025-03-21 20:17:19,623 - 特征工程完成，特征维度: (106, 859)
2025-03-21 20:17:19,623 - 新数据预处理完成，共 106 个样本
2025-03-21 20:17:19,623 - ✅ 发现最佳模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models，尝试使用多模型加权预测
2025-03-21 20:17:19,623 - 
============================================================
【加载多个模型】
============================================================
2025-03-21 20:17:19,623 - 从目录加载模型和 scaler: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 20:17:19,623 - 加载 GBDT 模型和 scaler...
2025-03-21 20:17:19,631 - ✅ 已成功加载 GBDT 模型和对应的 scaler
2025-03-21 20:17:19,632 - 加载 DART 模型和 scaler...
2025-03-21 20:17:19,640 - ✅ 已成功加载 DART 模型和对应的 scaler
2025-03-21 20:17:19,640 - 加载 GOSS 模型和 scaler...
2025-03-21 20:17:19,649 - ✅ 已成功加载 GOSS 模型和对应的 scaler
2025-03-21 20:17:19,650 - 加载完成，共加载了 3 个模型: GBDT, DART, GOSS
2025-03-21 20:17:19,650 - 尝试加载模型权重文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\model_weights.joblib
2025-03-21 20:17:19,650 - ✅ 已加载模型权重: {'GBDT': np.float64(0.3378826776996291), 'DART': np.float64(0.18465658902121768), 'GOSS': np.float64(0.0), 'INTERCEPT': np.float64(98.07836551790079)}
2025-03-21 20:17:19,650 - 
============================================================
【使用多模型加权预测】
============================================================
2025-03-21 20:17:19,650 - 使用自定义权重: {'GBDT': np.float64(0.3378826776996291), 'DART': np.float64(0.18465658902121768), 'GOSS': np.float64(0.0), 'INTERCEPT': np.float64(98.07836551790079)}
2025-03-21 20:17:19,651 - 使用 GBDT 模型进行预测 (权重: 0.3379)...
2025-03-21 20:17:19,655 - GBDT: 数据标准化完成
2025-03-21 20:17:19,658 - GBDT: 时间窗口创建完成，窗口数量: 91
2025-03-21 20:17:19,662 - ✅ GBDT 模型预测完成，生成了 91 个预测值
2025-03-21 20:17:19,662 -    统计: 最小值=201.69, 最大值=273.76, 平均值=250.17
2025-03-21 20:17:19,662 - 使用 DART 模型进行预测 (权重: 0.1847)...
2025-03-21 20:17:19,667 - DART: 数据标准化完成
2025-03-21 20:17:19,670 - DART: 时间窗口创建完成，窗口数量: 91
2025-03-21 20:17:19,673 - ✅ DART 模型预测完成，生成了 91 个预测值
2025-03-21 20:17:19,674 -    统计: 最小值=160.99, 最大值=218.68, 平均值=199.92
2025-03-21 20:17:19,674 - ❌ GOSS 模型权重为0，跳过
2025-03-21 20:17:19,674 - 所有预测结果对齐到最小长度: 91
2025-03-21 20:17:19,674 - 开始计算加权平均预测结果...
2025-03-21 20:17:19,674 -   加入 GBDT 模型贡献 (权重: 0.3379)
2025-03-21 20:17:19,674 -   加入 DART 模型贡献 (权重: 0.1847)
2025-03-21 20:17:19,674 -   加入常数偏置项 (值: 98.0784)
2025-03-21 20:17:19,674 - 加权平均预测完成，生成了 91 个预测值
2025-03-21 20:17:19,674 - 加权预测结果统计: 最小值=195.95, 最大值=230.83, 平均值=219.52
2025-03-21 20:17:19,675 - ✅ 多模型加权预测完成，使用模型: GBDT, DART, GOSS
2025-03-21 20:17:19,675 - 
============================================================
【保存预测结果】
============================================================
2025-03-21 20:17:19,675 - 创建输出目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\results\shortresult\20250321
2025-03-21 20:17:19,675 - 预测结果数据框创建完成，共 91 行
2025-03-21 20:17:19,677 - ✅ 预测结果已保存到文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\results\shortresult\20250321\20250321.csv
2025-03-21 20:17:19,677 - 尝试将预测结果导入数据库...
2025-03-21 20:17:19,677 - 发送HTTP请求到: http://localhost:5000/prediction2database/batch_shortl_power
2025-03-21 20:17:21,922 - ✅ 数据已成功导入数据库
2025-03-21 20:17:21,922 -    总记录数: 91, 更新: 91, 插入: 0
2025-03-21 20:17:21,923 - ✅ 预测结果已保存到: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\results\shortresult\20250321\20250321.csv
2025-03-21 20:17:21,923 - ✅ 创建预测完成标志文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\results\shortresult\20250321\20250321_predict_done.flag
2025-03-21 20:17:21,923 - 
============================================================
【风电功率预测完成】
============================================================
2025-03-21 20:17:21,923 - 风电功率预测完成
2025-03-21 20:17:21,924 - ✅ 预测执行完成
2025-03-21 20:17:21,925 - 
================================================================================
2025-03-21 20:17:21,925 - >>> 系统任务完成 <<<
2025-03-21 20:17:21,925 - ================================================================================

2025-03-21 20:17:21,925 - 系统任务完成
2025-03-21 20:17:21,925 - 今天的训练和预测任务已完成。
2025-03-21 20:20:24,278 - 
================================================================================
2025-03-21 20:20:24,278 - >>> 自动训练预测系统启动 <<<
2025-03-21 20:20:24,278 - ================================================================================

2025-03-21 20:20:24,278 - 自动训练预测系统启动
2025-03-21 20:20:24,278 - 今天的日期是: 20250321
2025-03-21 20:20:24,278 - 创建监视线程...
2025-03-21 20:20:24,278 - 启动训练线程...
2025-03-21 20:20:24,279 - 启动预测线程...
2025-03-21 20:20:24,279 - 
================================================================================
2025-03-21 20:20:24,279 - >>> 启动训练监视线程 <<<
2025-03-21 20:20:24,279 - ================================================================================

2025-03-21 20:20:24,279 - 等待线程完成...
2025-03-21 20:20:24,279 - 
================================================================================
2025-03-21 20:20:24,279 - 启动训练监视线程
2025-03-21 20:20:24,280 - >>> 启动预测监视线程 <<<
2025-03-21 20:20:24,280 - ================================================================================

2025-03-21 20:20:24,280 - 训练文件路径: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short\20250321.csv
2025-03-21 20:20:24,280 - 启动预测监视线程
2025-03-21 20:20:24,280 - 模型存储目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 20:20:24,280 - 训练完成标志文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\20250321_train_done.flag
2025-03-21 20:20:24,280 - 预测数据文件路径: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv\20250321.csv
2025-03-21 20:20:24,280 - 开始监视 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short 文件夹以进行训练...
2025-03-21 20:20:24,280 - 模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 20:20:24,280 - 预测完成标志文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\results\shortresult\20250321\20250321_predict_done.flag
2025-03-21 20:20:24,280 - 开始监视 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv 文件夹以进行预测...
2025-03-21 20:20:24,280 - ⚠️ 检测到今天的训练已经执行过，跳过...
2025-03-21 20:20:24,281 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 20:20:24,281 - ⚠️ 检测到今天的预测已经执行过，跳过...
2025-03-21 20:20:24,281 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 20:20:24,281 - 发现GBDT模型文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models\GBDT.joblib
2025-03-21 20:20:24,281 - ✅ 模型已设置为可用状态
2025-03-21 20:20:24,281 - 
================================================================================
2025-03-21 20:20:24,281 - >>> 系统任务完成 <<<
2025-03-21 20:20:24,281 - ================================================================================

2025-03-21 20:20:24,281 - 系统任务完成
2025-03-21 20:20:24,281 - 今天的训练和预测任务已完成。
2025-03-21 21:21:07,820 - 
================================================================================
2025-03-21 21:21:07,820 - >>> 自动训练预测系统启动 <<<
2025-03-21 21:21:07,821 - ================================================================================

2025-03-21 21:21:07,821 - 自动训练预测系统启动
2025-03-21 21:21:07,821 - 今天的日期是: 20250321
2025-03-21 21:21:07,821 - 创建监视线程...
2025-03-21 21:21:07,821 - 启动训练线程...
2025-03-21 21:21:07,821 - 
================================================================================
2025-03-21 21:21:07,821 - 启动预测线程...
2025-03-21 21:21:07,822 - >>> 启动训练监视线程 <<<
2025-03-21 21:21:07,822 - ================================================================================

2025-03-21 21:21:07,822 - 启动训练监视线程
2025-03-21 21:21:07,822 - 等待线程完成...
2025-03-21 21:21:07,822 - 训练文件路径: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short\20250321.csv
2025-03-21 21:21:07,822 - 
================================================================================
2025-03-21 21:21:07,822 - 模型存储目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 21:21:07,822 - >>> 启动预测监视线程 <<<
2025-03-21 21:21:07,822 - 训练完成标志文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\20250321_train_done.flag
2025-03-21 21:21:07,822 - ================================================================================

2025-03-21 21:21:07,822 - 开始监视 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short 文件夹以进行训练...
2025-03-21 21:21:07,823 - 启动预测监视线程
2025-03-21 21:21:07,823 - 预测数据文件路径: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv\20250321.csv
2025-03-21 21:21:07,823 - ⚠️ 检测到今天的训练已经执行过，跳过...
2025-03-21 21:21:07,823 - 模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 21:21:07,823 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 21:21:07,823 - 预测完成标志文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\results\shortresult\20250321\20250321_predict_done.flag
2025-03-21 21:21:07,824 - 开始监视 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv 文件夹以进行预测...
2025-03-21 21:21:07,824 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 21:21:07,824 - ⚠️ 检测到今天的预测已经执行过，跳过...
2025-03-21 21:21:07,824 - 发现GBDT模型文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models\GBDT.joblib
2025-03-21 21:21:07,824 - ✅ 模型已设置为可用状态
2025-03-21 21:21:07,824 - 
================================================================================
2025-03-21 21:21:07,824 - >>> 系统任务完成 <<<
2025-03-21 21:21:07,824 - ================================================================================

2025-03-21 21:21:07,824 - 系统任务完成
2025-03-21 21:21:07,824 - 今天的训练和预测任务已完成。
2025-03-21 21:40:23,981 - 
================================================================================
2025-03-21 21:40:23,981 - >>> 自动训练预测系统启动 <<<
2025-03-21 21:40:23,981 - ================================================================================

2025-03-21 21:40:23,981 - 自动训练预测系统启动
2025-03-21 21:40:23,981 - 今天的日期是: 20250321
2025-03-21 21:40:23,981 - 创建监视线程...
2025-03-21 21:40:23,981 - 启动训练线程...
2025-03-21 21:40:23,982 - 启动预测线程...
2025-03-21 21:40:23,982 - 
================================================================================
2025-03-21 21:40:23,982 - 等待线程完成...
2025-03-21 21:40:23,982 - >>> 启动训练监视线程 <<<
2025-03-21 21:40:23,982 - ================================================================================

2025-03-21 21:40:23,982 - 
================================================================================
2025-03-21 21:40:23,982 - 启动训练监视线程
2025-03-21 21:40:23,982 - >>> 启动预测监视线程 <<<
2025-03-21 21:40:23,982 - ================================================================================

2025-03-21 21:40:23,982 - 训练文件路径: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short\20250321.csv
2025-03-21 21:40:23,983 - 启动预测监视线程
2025-03-21 21:40:23,983 - 模型存储目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 21:40:23,983 - 训练完成标志文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\20250321_train_done.flag
2025-03-21 21:40:23,983 - 预测数据文件路径: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv\20250321.csv
2025-03-21 21:40:23,983 - 开始监视 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short 文件夹以进行训练...
2025-03-21 21:40:23,983 - 模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 21:40:23,983 - 预测完成标志文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\results\shortresult\20250321\20250321_predict_done.flag
2025-03-21 21:40:23,983 - 开始监视 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv 文件夹以进行预测...
2025-03-21 21:40:23,983 - ⚠️ 检测到今天的训练已经执行过，跳过...
2025-03-21 21:40:23,983 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 21:40:23,983 - ⚠️ 检测到今天的预测已经执行过，跳过...
2025-03-21 21:40:23,983 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 21:40:23,983 - 发现GBDT模型文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models\GBDT.joblib
2025-03-21 21:40:23,984 - ✅ 模型已设置为可用状态
2025-03-21 21:40:23,984 - 
================================================================================
2025-03-21 21:40:23,984 - >>> 系统任务完成 <<<
2025-03-21 21:40:23,984 - ================================================================================

2025-03-21 21:40:23,984 - 系统任务完成
2025-03-21 21:40:23,984 - 今天的训练和预测任务已完成。
2025-03-21 22:00:18,063 - 
================================================================================
2025-03-21 22:00:18,063 - >>> 自动训练预测系统启动 <<<
2025-03-21 22:00:18,063 - ================================================================================

2025-03-21 22:00:18,064 - 自动训练预测系统启动
2025-03-21 22:00:18,064 - 今天的日期是: 20250321
2025-03-21 22:00:18,064 - 创建监视线程...
2025-03-21 22:00:18,064 - 启动训练线程...
2025-03-21 22:00:18,064 - 启动预测线程...
2025-03-21 22:00:18,064 - 
================================================================================
2025-03-21 22:00:18,064 - >>> 启动训练监视线程 <<<
2025-03-21 22:00:18,065 - 等待线程完成...
2025-03-21 22:00:18,065 - 
================================================================================
2025-03-21 22:00:18,065 - ================================================================================

2025-03-21 22:00:18,065 - >>> 启动预测监视线程 <<<
2025-03-21 22:00:18,065 - 启动训练监视线程
2025-03-21 22:00:18,065 - ================================================================================

2025-03-21 22:00:18,065 - 启动预测监视线程
2025-03-21 22:00:18,066 - 训练文件路径: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short\20250321.csv
2025-03-21 22:00:18,066 - 模型存储目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 22:00:18,066 - 训练完成标志文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\20250321_train_done.flag
2025-03-21 22:00:18,066 - 开始监视 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short 文件夹以进行训练...
2025-03-21 22:00:18,066 - 预测数据文件路径: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv\20250321.csv
2025-03-21 22:00:18,066 - 模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 22:00:18,066 - ✅ 发现新的训练文件：D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short\20250321.csv，执行训练...
2025-03-21 22:00:18,066 - 预测完成标志文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\results\shortresult\20250321\20250321_predict_done.flag
2025-03-21 22:00:18,066 - 
================================================================================
2025-03-21 22:00:18,066 - 开始监视 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv 文件夹以进行预测...
2025-03-21 22:00:18,066 - >>> 开始模型训练 <<<
2025-03-21 22:00:18,067 - ================================================================================

2025-03-21 22:00:18,067 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 22:00:18,067 - 配置信息:
2025-03-21 22:00:18,067 -   - 窗口大小: 16
2025-03-21 22:00:18,067 - 未找到best_models目录，检查传统模型文件
2025-03-21 22:00:18,067 -   - 滞后特征数: 4
2025-03-21 22:00:18,067 -   - 训练集比例: 0.9
2025-03-21 22:00:18,067 -   - 输出目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\train_predictions\short_predictions
2025-03-21 22:00:18,067 - 未找到任何可用模型文件
2025-03-21 22:00:18,067 -   - 模型存储路径: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 22:00:18,067 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 22:00:18,068 - 输出结果将保存到: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\train_predictions\short_predictions
2025-03-21 22:00:18,068 - 
================================================================================
2025-03-21 22:00:18,068 - >>> 数据加载与预处理 <<<
2025-03-21 22:00:18,068 - ================================================================================

2025-03-21 22:00:18,068 - 加载数据文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short\20250321.csv
2025-03-21 22:00:18,068 - 开始加载和预处理数据...
2025-03-21 22:00:18,814 - 数据加载完成，共 38172 条记录
2025-03-21 22:00:18,833 - 数据前5行预览: 
       Timestamp    129.128_1    129.128_2  ...  ws200_15  wp_true    ws_all
0  2023/3/2 0:00  15950.07031  16250.82031  ...  8.808324    26.02  4.092251
1  2023/3/2 0:15  15950.07031  16250.82031  ...  8.549524    19.92  3.833974
2  2023/3/2 0:30  15950.07031  16250.82031  ...  8.295010    14.90  3.591723
3  2023/3/2 0:45  15950.07031  16250.82031  ...  8.045185     8.43  3.206756
4  2023/3/2 1:00  15950.07031  16250.82031  ...  7.800503     5.47  2.986988

[5 rows x 303 columns]
2025-03-21 22:00:18,848 - 数据集时间范围: 2023-03-02 至 2024-04-17, 共 13 个月
2025-03-21 22:00:18,848 - 将使用以下时间段训练模型: [1, 3, 6, 9, 12, None]
2025-03-21 22:00:18,848 - 
================================================================================
2025-03-21 22:00:18,848 - >>> 开始多数据集训练 <<<
2025-03-21 22:00:18,848 - ================================================================================

2025-03-21 22:00:18,848 - 将使用多种时间跨度的数据训练模型...
2025-03-21 22:00:18,848 - 
--------------------------------------------------
【使用多个数据集训练模型】
--------------------------------------------------
2025-03-21 22:00:18,849 - 最佳模型将保存到: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 22:00:18,849 - 获取统一参数成功，包含 3 种模型类型
2025-03-21 22:00:18,849 - 
--------------------------------------------------
【训练数据集: 1个月】
--------------------------------------------------
2025-03-21 22:00:18,849 - 使用1个月的数据进行训练...
2025-03-21 22:00:18,849 - 过滤数据为最近1个月...
2025-03-21 22:00:18,851 - 过滤后的数据量: 2977
2025-03-21 22:00:18,851 - 对1个月数据进行预处理...
2025-03-21 22:00:18,856 - 预处理后的特征维度: (2977, 304), 目标变量维度: (2977,)
2025-03-21 22:00:18,856 - 数据集划分完成，训练集: (2679, 304), 验证集: (298, 304)
2025-03-21 22:00:18,856 - 提取了 298 个验证集时间戳，用于时间加权评估
2025-03-21 22:00:18,856 - 执行特征工程，滞后特征数: 4...
2025-03-21 22:00:18,903 - 特征工程后的特征维度 - 训练集: (2676, 859), 验证集: (295, 859)
2025-03-21 22:00:18,903 - 数据标准化...
2025-03-21 22:00:18,933 - 数据标准化完成
2025-03-21 22:00:18,933 - 创建时间窗口，窗口大小: 16...
2025-03-21 22:00:18,980 - 时间窗口创建完成 - 训练集: (2661, 16, 859), 验证集: (280, 16, 859)
2025-03-21 22:00:18,980 - 调整时间戳长度以匹配窗口化后的验证集 - 原始长度: 298, 目标长度: 280
2025-03-21 22:00:18,980 - 时间戳已截断至匹配窗口化后的验证集长度: 280
2025-03-21 22:00:18,981 - 为1个月数据创建模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\1months
2025-03-21 22:00:18,981 - 开始训练1个月数据的模型...
2025-03-21 22:00:18,981 - 
--------------------------------------------------
【开始模型训练与评估】
--------------------------------------------------
2025-03-21 22:00:18,981 - 模型和 scaler 将被保存到目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\1months
2025-03-21 22:00:18,981 - 
--------------------------------------------------
【训练 GBDT 模型】
--------------------------------------------------
2025-03-21 22:00:18,981 - 模型参数: {'boosting_type': 'gbdt', 'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'name': 'GBDT'}
2025-03-21 22:00:18,981 - 开始训练 GBDT 模型...
2025-03-21 22:00:35,485 - GBDT 模型训练完成
2025-03-21 22:00:35,485 - 使用 GBDT 模型预测验证集...
2025-03-21 22:00:35,493 - 使用时间加权方式计算模型评分...
2025-03-21 22:00:35,496 - GBDT 评估结果 - RMSE: 68.3078, K: 0.4502, 加权评分: 0.6447
2025-03-21 22:00:35,496 - ✅ GBDT 成为当前最佳模型 (基于加权评分)
2025-03-21 22:00:35,505 - GBDT 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\1months\GBDT.joblib
2025-03-21 22:00:35,506 - 
--------------------------------------------------
【训练 DART 模型】
--------------------------------------------------
2025-03-21 22:00:35,506 - 模型参数: {'boosting_type': 'dart', 'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'drop_rate': 0.1, 'name': 'DART'}
2025-03-21 22:00:35,506 - 开始训练 DART 模型...
2025-03-21 22:00:48,076 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 22:00:48,076 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 22:00:48,076 - 未找到GBDT模型文件
2025-03-21 22:00:48,077 - 未找到DART模型文件
2025-03-21 22:00:48,077 - 未找到GOSS模型文件
2025-03-21 22:00:48,077 - 未找到任何可用模型文件
2025-03-21 22:00:48,077 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 22:00:52,391 - DART 模型训练完成
2025-03-21 22:00:52,391 - 使用 DART 模型预测验证集...
2025-03-21 22:00:52,399 - 使用时间加权方式计算模型评分...
2025-03-21 22:00:52,401 - DART 评估结果 - RMSE: 62.7504, K: 0.6220, 加权评分: 0.7393
2025-03-21 22:00:52,401 - ✅ DART 成为当前最佳模型 (基于加权评分)
2025-03-21 22:00:52,412 - DART 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\1months\DART.joblib
2025-03-21 22:00:52,413 - 
--------------------------------------------------
【训练 GOSS 模型】
--------------------------------------------------
2025-03-21 22:00:52,413 - 模型参数: {'boosting_type': 'goss', 'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'top_rate': 0.2, 'other_rate': 0.1, 'name': 'GOSS'}
2025-03-21 22:00:52,413 - 开始训练 GOSS 模型...
2025-03-21 22:01:05,825 - GOSS 模型训练完成
2025-03-21 22:01:05,825 - 使用 GOSS 模型预测验证集...
2025-03-21 22:01:05,832 - 使用时间加权方式计算模型评分...
2025-03-21 22:01:05,835 - GOSS 评估结果 - RMSE: 68.2680, K: 0.4465, 加权评分: 0.6427
2025-03-21 22:01:05,847 - GOSS 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\1months\GOSS.joblib
2025-03-21 22:01:05,849 - Scaler 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\1months\scaler.joblib
2025-03-21 22:01:05,857 - 最佳模型 'DART' 已额外保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\1months\model.joblib
2025-03-21 22:01:05,857 - 1个月数据的模型训练完成
2025-03-21 22:01:05,857 - 
--------------------------------------------------
【更新每种算法的最佳模型】
--------------------------------------------------
2025-03-21 22:01:05,857 - ✅ 发现更好的GBDT模型 (来自1个月数据)
2025-03-21 22:01:05,857 -    新评分: 0.6447, 旧评分: -inf
2025-03-21 22:01:05,858 - ✅ 发现更好的DART模型 (来自1个月数据)
2025-03-21 22:01:05,858 -    新评分: 0.7393, 旧评分: -inf
2025-03-21 22:01:05,858 - ✅ 发现更好的GOSS模型 (来自1个月数据)
2025-03-21 22:01:05,858 -    新评分: 0.6427, 旧评分: -inf
2025-03-21 22:01:05,858 - 
--------------------------------------------------
【训练数据集: 3个月】
--------------------------------------------------
2025-03-21 22:01:05,858 - 使用3个月的数据进行训练...
2025-03-21 22:01:05,858 - 过滤数据为最近3个月...
2025-03-21 22:01:05,863 - 过滤后的数据量: 8737
2025-03-21 22:01:05,863 - 对3个月数据进行预处理...
2025-03-21 22:01:05,871 - 预处理后的特征维度: (8737, 304), 目标变量维度: (8737,)
2025-03-21 22:01:05,872 - 数据集划分完成，训练集: (7863, 304), 验证集: (874, 304)
2025-03-21 22:01:05,872 - 提取了 874 个验证集时间戳，用于时间加权评估
2025-03-21 22:01:05,872 - 执行特征工程，滞后特征数: 4...
2025-03-21 22:01:05,996 - 特征工程后的特征维度 - 训练集: (7860, 859), 验证集: (871, 859)
2025-03-21 22:01:05,996 - 数据标准化...
2025-03-21 22:01:06,073 - 数据标准化完成
2025-03-21 22:01:06,073 - 创建时间窗口，窗口大小: 16...
2025-03-21 22:01:06,226 - 时间窗口创建完成 - 训练集: (7845, 16, 859), 验证集: (856, 16, 859)
2025-03-21 22:01:06,226 - 调整时间戳长度以匹配窗口化后的验证集 - 原始长度: 874, 目标长度: 856
2025-03-21 22:01:06,226 - 时间戳已截断至匹配窗口化后的验证集长度: 856
2025-03-21 22:01:06,227 - 为3个月数据创建模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\3months
2025-03-21 22:01:06,227 - 开始训练3个月数据的模型...
2025-03-21 22:01:06,227 - 
--------------------------------------------------
【开始模型训练与评估】
--------------------------------------------------
2025-03-21 22:01:06,227 - 模型和 scaler 将被保存到目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\3months
2025-03-21 22:01:06,227 - 
--------------------------------------------------
【训练 GBDT 模型】
--------------------------------------------------
2025-03-21 22:01:06,227 - 模型参数: {'boosting_type': 'gbdt', 'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'name': 'GBDT'}
2025-03-21 22:01:06,227 - 开始训练 GBDT 模型...
2025-03-21 22:01:18,086 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 22:01:18,086 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 22:01:18,086 - 未找到GBDT模型文件
2025-03-21 22:01:18,087 - 未找到DART模型文件
2025-03-21 22:01:18,087 - 未找到GOSS模型文件
2025-03-21 22:01:18,087 - 未找到任何可用模型文件
2025-03-21 22:01:18,087 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 22:01:29,503 - GBDT 模型训练完成
2025-03-21 22:01:29,503 - 使用 GBDT 模型预测验证集...
2025-03-21 22:01:29,523 - 使用时间加权方式计算模型评分...
2025-03-21 22:01:29,526 - GBDT 评估结果 - RMSE: 53.7633, K: 0.6220, 加权评分: 0.7498
2025-03-21 22:01:29,526 - ✅ GBDT 成为当前最佳模型 (基于加权评分)
2025-03-21 22:01:29,536 - GBDT 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\3months\GBDT.joblib
2025-03-21 22:01:29,536 - 
--------------------------------------------------
【训练 DART 模型】
--------------------------------------------------
2025-03-21 22:01:29,537 - 模型参数: {'boosting_type': 'dart', 'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'drop_rate': 0.1, 'name': 'DART'}
2025-03-21 22:01:29,537 - 开始训练 DART 模型...
2025-03-21 22:01:48,090 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 22:01:48,090 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 22:01:48,091 - 未找到GBDT模型文件
2025-03-21 22:01:48,091 - 未找到DART模型文件
2025-03-21 22:01:48,091 - 未找到GOSS模型文件
2025-03-21 22:01:48,091 - 未找到任何可用模型文件
2025-03-21 22:01:48,091 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 22:01:53,141 - DART 模型训练完成
2025-03-21 22:01:53,142 - 使用 DART 模型预测验证集...
2025-03-21 22:01:53,162 - 使用时间加权方式计算模型评分...
2025-03-21 22:01:53,170 - DART 评估结果 - RMSE: 60.1716, K: 0.7051, 加权评分: 0.7855
2025-03-21 22:01:53,171 - ✅ DART 成为当前最佳模型 (基于加权评分)
2025-03-21 22:01:53,181 - DART 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\3months\DART.joblib
2025-03-21 22:01:53,181 - 
--------------------------------------------------
【训练 GOSS 模型】
--------------------------------------------------
2025-03-21 22:01:53,182 - 模型参数: {'boosting_type': 'goss', 'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'top_rate': 0.2, 'other_rate': 0.1, 'name': 'GOSS'}
2025-03-21 22:01:53,182 - 开始训练 GOSS 模型...
2025-03-21 22:02:14,730 - GOSS 模型训练完成
2025-03-21 22:02:14,730 - 使用 GOSS 模型预测验证集...
2025-03-21 22:02:14,751 - 使用时间加权方式计算模型评分...
2025-03-21 22:02:14,759 - GOSS 评估结果 - RMSE: 53.4696, K: 0.6275, 加权评分: 0.7529
2025-03-21 22:02:14,775 - GOSS 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\3months\GOSS.joblib
2025-03-21 22:02:14,776 - Scaler 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\3months\scaler.joblib
2025-03-21 22:02:14,784 - 最佳模型 'DART' 已额外保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\3months\model.joblib
2025-03-21 22:02:14,784 - 3个月数据的模型训练完成
2025-03-21 22:02:14,784 - 
--------------------------------------------------
【更新每种算法的最佳模型】
--------------------------------------------------
2025-03-21 22:02:14,785 - ✅ 发现更好的GBDT模型 (来自3个月数据)
2025-03-21 22:02:14,785 -    新评分: 0.7498, 旧评分: 0.6447
2025-03-21 22:02:14,785 - ✅ 发现更好的DART模型 (来自3个月数据)
2025-03-21 22:02:14,785 -    新评分: 0.7855, 旧评分: 0.7393
2025-03-21 22:02:14,785 - ✅ 发现更好的GOSS模型 (来自3个月数据)
2025-03-21 22:02:14,785 -    新评分: 0.7529, 旧评分: 0.6427
2025-03-21 22:02:14,785 - 
--------------------------------------------------
【训练数据集: 6个月】
--------------------------------------------------
2025-03-21 22:02:14,785 - 使用6个月的数据进行训练...
2025-03-21 22:02:14,785 - 过滤数据为最近6个月...
2025-03-21 22:02:14,799 - 过滤后的数据量: 17327
2025-03-21 22:02:14,799 - 对6个月数据进行预处理...
2025-03-21 22:02:14,813 - 预处理后的特征维度: (17327, 304), 目标变量维度: (17327,)
2025-03-21 22:02:14,814 - 数据集划分完成，训练集: (15594, 304), 验证集: (1733, 304)
2025-03-21 22:02:14,814 - 提取了 1733 个验证集时间戳，用于时间加权评估
2025-03-21 22:02:14,814 - 执行特征工程，滞后特征数: 4...
2025-03-21 22:02:14,956 - 特征工程后的特征维度 - 训练集: (15591, 859), 验证集: (1730, 859)
2025-03-21 22:02:14,956 - 数据标准化...
2025-03-21 22:02:15,103 - 数据标准化完成
2025-03-21 22:02:15,103 - 创建时间窗口，窗口大小: 16...
2025-03-21 22:02:15,461 - 时间窗口创建完成 - 训练集: (15576, 16, 859), 验证集: (1715, 16, 859)
2025-03-21 22:02:15,461 - 调整时间戳长度以匹配窗口化后的验证集 - 原始长度: 1733, 目标长度: 1715
2025-03-21 22:02:15,461 - 时间戳已截断至匹配窗口化后的验证集长度: 1715
2025-03-21 22:02:15,461 - 为6个月数据创建模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\6months
2025-03-21 22:02:15,461 - 开始训练6个月数据的模型...
2025-03-21 22:02:15,461 - 
--------------------------------------------------
【开始模型训练与评估】
--------------------------------------------------
2025-03-21 22:02:15,462 - 模型和 scaler 将被保存到目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\6months
2025-03-21 22:02:15,462 - 
--------------------------------------------------
【训练 GBDT 模型】
--------------------------------------------------
2025-03-21 22:02:15,462 - 模型参数: {'boosting_type': 'gbdt', 'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'name': 'GBDT'}
2025-03-21 22:02:15,462 - 开始训练 GBDT 模型...
2025-03-21 22:02:18,093 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 22:02:18,093 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 22:02:18,093 - 未找到GBDT模型文件
2025-03-21 22:02:18,093 - 未找到DART模型文件
2025-03-21 22:02:18,093 - 未找到GOSS模型文件
2025-03-21 22:02:18,094 - 未找到任何可用模型文件
2025-03-21 22:02:18,094 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 22:02:48,104 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 22:02:48,104 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 22:02:48,104 - 未找到GBDT模型文件
2025-03-21 22:02:48,104 - 未找到DART模型文件
2025-03-21 22:02:48,105 - 未找到GOSS模型文件
2025-03-21 22:02:48,105 - 未找到任何可用模型文件
2025-03-21 22:02:48,105 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 22:02:48,946 - GBDT 模型训练完成
2025-03-21 22:02:48,946 - 使用 GBDT 模型预测验证集...
2025-03-21 22:02:48,991 - 使用时间加权方式计算模型评分...
2025-03-21 22:02:48,997 - GBDT 评估结果 - RMSE: 50.8665, K: 0.6900, 加权评分: 0.7872
2025-03-21 22:02:48,997 - ✅ GBDT 成为当前最佳模型 (基于加权评分)
2025-03-21 22:02:49,006 - GBDT 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\6months\GBDT.joblib
2025-03-21 22:02:49,006 - 
--------------------------------------------------
【训练 DART 模型】
--------------------------------------------------
2025-03-21 22:02:49,007 - 模型参数: {'boosting_type': 'dart', 'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'drop_rate': 0.1, 'name': 'DART'}
2025-03-21 22:02:49,007 - 开始训练 DART 模型...
2025-03-21 22:03:18,117 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 22:03:18,118 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 22:03:18,118 - 未找到GBDT模型文件
2025-03-21 22:03:18,118 - 未找到DART模型文件
2025-03-21 22:03:18,118 - 未找到GOSS模型文件
2025-03-21 22:03:18,118 - 未找到任何可用模型文件
2025-03-21 22:03:18,118 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 22:03:23,198 - DART 模型训练完成
2025-03-21 22:03:23,198 - 使用 DART 模型预测验证集...
2025-03-21 22:03:23,242 - 使用时间加权方式计算模型评分...
2025-03-21 22:03:23,249 - DART 评估结果 - RMSE: 68.5842, K: 0.6994, 加权评分: 0.7739
2025-03-21 22:03:23,259 - DART 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\6months\DART.joblib
2025-03-21 22:03:23,259 - 
--------------------------------------------------
【训练 GOSS 模型】
--------------------------------------------------
2025-03-21 22:03:23,260 - 模型参数: {'boosting_type': 'goss', 'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'top_rate': 0.2, 'other_rate': 0.1, 'name': 'GOSS'}
2025-03-21 22:03:23,260 - 开始训练 GOSS 模型...
2025-03-21 22:03:48,126 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 22:03:48,126 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 22:03:48,126 - 未找到GBDT模型文件
2025-03-21 22:03:48,127 - 未找到DART模型文件
2025-03-21 22:03:48,127 - 未找到GOSS模型文件
2025-03-21 22:03:48,127 - 未找到任何可用模型文件
2025-03-21 22:03:48,127 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 22:03:55,131 - GOSS 模型训练完成
2025-03-21 22:03:55,131 - 使用 GOSS 模型预测验证集...
2025-03-21 22:03:55,180 - 使用时间加权方式计算模型评分...
2025-03-21 22:03:55,193 - GOSS 评估结果 - RMSE: 49.3663, K: 0.6978, 加权评分: 0.7928
2025-03-21 22:03:55,193 - ✅ GOSS 成为当前最佳模型 (基于加权评分)
2025-03-21 22:03:55,209 - GOSS 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\6months\GOSS.joblib
2025-03-21 22:03:55,210 - Scaler 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\6months\scaler.joblib
2025-03-21 22:03:55,224 - 最佳模型 'GOSS' 已额外保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\6months\model.joblib
2025-03-21 22:03:55,225 - 6个月数据的模型训练完成
2025-03-21 22:03:55,225 - 
--------------------------------------------------
【更新每种算法的最佳模型】
--------------------------------------------------
2025-03-21 22:03:55,225 - ✅ 发现更好的GBDT模型 (来自6个月数据)
2025-03-21 22:03:55,225 -    新评分: 0.7872, 旧评分: 0.7498
2025-03-21 22:03:55,225 - ❌ 6个月数据的DART模型不是最佳模型
2025-03-21 22:03:55,225 -    当前评分: 0.7739, 最佳评分: 0.7855
2025-03-21 22:03:55,225 - ✅ 发现更好的GOSS模型 (来自6个月数据)
2025-03-21 22:03:55,225 -    新评分: 0.7928, 旧评分: 0.7529
2025-03-21 22:03:55,225 - 
--------------------------------------------------
【训练数据集: 9个月】
--------------------------------------------------
2025-03-21 22:03:55,225 - 使用9个月的数据进行训练...
2025-03-21 22:03:55,226 - 过滤数据为最近9个月...
2025-03-21 22:03:55,246 - 过滤后的数据量: 24928
2025-03-21 22:03:55,246 - 对9个月数据进行预处理...
2025-03-21 22:03:55,270 - 预处理后的特征维度: (24928, 304), 目标变量维度: (24928,)
2025-03-21 22:03:55,274 - 数据集划分完成，训练集: (22435, 304), 验证集: (2493, 304)
2025-03-21 22:03:55,274 - 提取了 2493 个验证集时间戳，用于时间加权评估
2025-03-21 22:03:55,274 - 执行特征工程，滞后特征数: 4...
2025-03-21 22:03:55,476 - 特征工程后的特征维度 - 训练集: (22432, 859), 验证集: (2490, 859)
2025-03-21 22:03:55,476 - 数据标准化...
2025-03-21 22:03:55,686 - 数据标准化完成
2025-03-21 22:03:55,686 - 创建时间窗口，窗口大小: 16...
2025-03-21 22:03:56,218 - 时间窗口创建完成 - 训练集: (22417, 16, 859), 验证集: (2475, 16, 859)
2025-03-21 22:03:56,218 - 调整时间戳长度以匹配窗口化后的验证集 - 原始长度: 2493, 目标长度: 2475
2025-03-21 22:03:56,218 - 时间戳已截断至匹配窗口化后的验证集长度: 2475
2025-03-21 22:03:56,219 - 为9个月数据创建模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\9months
2025-03-21 22:03:56,219 - 开始训练9个月数据的模型...
2025-03-21 22:03:56,219 - 
--------------------------------------------------
【开始模型训练与评估】
--------------------------------------------------
2025-03-21 22:03:56,219 - 模型和 scaler 将被保存到目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\9months
2025-03-21 22:03:56,219 - 
--------------------------------------------------
【训练 GBDT 模型】
--------------------------------------------------
2025-03-21 22:03:56,219 - 模型参数: {'boosting_type': 'gbdt', 'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'name': 'GBDT'}
2025-03-21 22:03:56,219 - 开始训练 GBDT 模型...
2025-03-21 22:04:18,135 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 22:04:18,135 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 22:04:18,136 - 未找到GBDT模型文件
2025-03-21 22:04:18,136 - 未找到DART模型文件
2025-03-21 22:04:18,136 - 未找到GOSS模型文件
2025-03-21 22:04:18,136 - 未找到任何可用模型文件
2025-03-21 22:04:18,137 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 22:04:37,948 - GBDT 模型训练完成
2025-03-21 22:04:37,948 - 使用 GBDT 模型预测验证集...
2025-03-21 22:04:38,035 - 使用时间加权方式计算模型评分...
2025-03-21 22:04:38,048 - GBDT 评估结果 - RMSE: 48.8180, K: 0.6768, 加权评分: 0.7836
2025-03-21 22:04:38,048 - ✅ GBDT 成为当前最佳模型 (基于加权评分)
2025-03-21 22:04:38,056 - GBDT 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\9months\GBDT.joblib
2025-03-21 22:04:38,056 - 
--------------------------------------------------
【训练 DART 模型】
--------------------------------------------------
2025-03-21 22:04:38,056 - 模型参数: {'boosting_type': 'dart', 'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'drop_rate': 0.1, 'name': 'DART'}
2025-03-21 22:04:38,056 - 开始训练 DART 模型...
2025-03-21 22:04:48,145 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 22:04:48,145 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 22:04:48,145 - 未找到GBDT模型文件
2025-03-21 22:04:48,145 - 未找到DART模型文件
2025-03-21 22:04:48,145 - 未找到GOSS模型文件
2025-03-21 22:04:48,145 - 未找到任何可用模型文件
2025-03-21 22:04:48,145 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 22:05:18,152 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 22:05:18,152 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 22:05:18,152 - 未找到GBDT模型文件
2025-03-21 22:05:18,153 - 未找到DART模型文件
2025-03-21 22:05:18,153 - 未找到GOSS模型文件
2025-03-21 22:05:18,153 - 未找到任何可用模型文件
2025-03-21 22:05:18,153 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 22:05:20,793 - DART 模型训练完成
2025-03-21 22:05:20,793 - 使用 DART 模型预测验证集...
2025-03-21 22:05:20,895 - 使用时间加权方式计算模型评分...
2025-03-21 22:05:20,916 - DART 评估结果 - RMSE: 61.0135, K: 0.7109, 加权评分: 0.7877
2025-03-21 22:05:20,917 - ✅ DART 成为当前最佳模型 (基于加权评分)
2025-03-21 22:05:20,925 - DART 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\9months\DART.joblib
2025-03-21 22:05:20,925 - 
--------------------------------------------------
【训练 GOSS 模型】
--------------------------------------------------
2025-03-21 22:05:20,925 - 模型参数: {'boosting_type': 'goss', 'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'top_rate': 0.2, 'other_rate': 0.1, 'name': 'GOSS'}
2025-03-21 22:05:20,925 - 开始训练 GOSS 模型...
2025-03-21 22:05:48,155 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 22:05:48,155 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 22:05:48,155 - 未找到GBDT模型文件
2025-03-21 22:05:48,156 - 未找到DART模型文件
2025-03-21 22:05:48,156 - 未找到GOSS模型文件
2025-03-21 22:05:48,156 - 未找到任何可用模型文件
2025-03-21 22:05:48,156 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 22:06:00,630 - GOSS 模型训练完成
2025-03-21 22:06:00,630 - 使用 GOSS 模型预测验证集...
2025-03-21 22:06:00,777 - 使用时间加权方式计算模型评分...
2025-03-21 22:06:00,786 - GOSS 评估结果 - RMSE: 48.8096, K: 0.6796, 加权评分: 0.7852
2025-03-21 22:06:00,802 - GOSS 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\9months\GOSS.joblib
2025-03-21 22:06:00,803 - Scaler 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\9months\scaler.joblib
2025-03-21 22:06:00,810 - 最佳模型 'DART' 已额外保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\9months\model.joblib
2025-03-21 22:06:00,810 - 9个月数据的模型训练完成
2025-03-21 22:06:00,810 - 
--------------------------------------------------
【更新每种算法的最佳模型】
--------------------------------------------------
2025-03-21 22:06:00,810 - ❌ 9个月数据的GBDT模型不是最佳模型
2025-03-21 22:06:00,810 -    当前评分: 0.7836, 最佳评分: 0.7872
2025-03-21 22:06:00,811 - ✅ 发现更好的DART模型 (来自9个月数据)
2025-03-21 22:06:00,811 -    新评分: 0.7877, 旧评分: 0.7855
2025-03-21 22:06:00,811 - ❌ 9个月数据的GOSS模型不是最佳模型
2025-03-21 22:06:00,811 -    当前评分: 0.7852, 最佳评分: 0.7928
2025-03-21 22:06:00,811 - 
--------------------------------------------------
【训练数据集: 12个月】
--------------------------------------------------
2025-03-21 22:06:00,811 - 使用12个月的数据进行训练...
2025-03-21 22:06:00,811 - 过滤数据为最近12个月...
2025-03-21 22:06:00,834 - 过滤后的数据量: 33664
2025-03-21 22:06:00,834 - 对12个月数据进行预处理...
2025-03-21 22:06:00,857 - 预处理后的特征维度: (33664, 304), 目标变量维度: (33664,)
2025-03-21 22:06:00,861 - 数据集划分完成，训练集: (30297, 304), 验证集: (3367, 304)
2025-03-21 22:06:00,861 - 提取了 3367 个验证集时间戳，用于时间加权评估
2025-03-21 22:06:00,861 - 执行特征工程，滞后特征数: 4...
2025-03-21 22:06:01,101 - 特征工程后的特征维度 - 训练集: (30294, 859), 验证集: (3364, 859)
2025-03-21 22:06:01,101 - 数据标准化...
2025-03-21 22:06:01,382 - 数据标准化完成
2025-03-21 22:06:01,382 - 创建时间窗口，窗口大小: 16...
2025-03-21 22:06:02,088 - 时间窗口创建完成 - 训练集: (30279, 16, 859), 验证集: (3349, 16, 859)
2025-03-21 22:06:02,088 - 调整时间戳长度以匹配窗口化后的验证集 - 原始长度: 3367, 目标长度: 3349
2025-03-21 22:06:02,088 - 时间戳已截断至匹配窗口化后的验证集长度: 3349
2025-03-21 22:06:02,092 - 为12个月数据创建模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\12months
2025-03-21 22:06:02,092 - 开始训练12个月数据的模型...
2025-03-21 22:06:02,092 - 
--------------------------------------------------
【开始模型训练与评估】
--------------------------------------------------
2025-03-21 22:06:02,092 - 模型和 scaler 将被保存到目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\12months
2025-03-21 22:06:02,092 - 
--------------------------------------------------
【训练 GBDT 模型】
--------------------------------------------------
2025-03-21 22:06:02,093 - 模型参数: {'boosting_type': 'gbdt', 'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'name': 'GBDT'}
2025-03-21 22:06:02,093 - 开始训练 GBDT 模型...
2025-03-21 22:06:18,164 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 22:06:18,164 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 22:06:18,164 - 未找到GBDT模型文件
2025-03-21 22:06:18,164 - 未找到DART模型文件
2025-03-21 22:06:18,164 - 未找到GOSS模型文件
2025-03-21 22:06:18,164 - 未找到任何可用模型文件
2025-03-21 22:06:18,164 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 22:06:48,171 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 22:06:48,171 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 22:06:48,171 - 未找到GBDT模型文件
2025-03-21 22:06:48,171 - 未找到DART模型文件
2025-03-21 22:06:48,171 - 未找到GOSS模型文件
2025-03-21 22:06:48,172 - 未找到任何可用模型文件
2025-03-21 22:06:48,172 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 22:06:59,493 - GBDT 模型训练完成
2025-03-21 22:06:59,493 - 使用 GBDT 模型预测验证集...
2025-03-21 22:06:59,705 - 使用时间加权方式计算模型评分...
2025-03-21 22:06:59,734 - GBDT 评估结果 - RMSE: 45.8674, K: 0.7136, 加权评分: 0.8056
2025-03-21 22:06:59,734 - ✅ GBDT 成为当前最佳模型 (基于加权评分)
2025-03-21 22:06:59,743 - GBDT 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\12months\GBDT.joblib
2025-03-21 22:06:59,743 - 
--------------------------------------------------
【训练 DART 模型】
--------------------------------------------------
2025-03-21 22:06:59,743 - 模型参数: {'boosting_type': 'dart', 'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'drop_rate': 0.1, 'name': 'DART'}
2025-03-21 22:06:59,743 - 开始训练 DART 模型...
2025-03-21 22:07:18,175 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 22:07:18,175 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 22:07:18,175 - 未找到GBDT模型文件
2025-03-21 22:07:18,175 - 未找到DART模型文件
2025-03-21 22:07:18,175 - 未找到GOSS模型文件
2025-03-21 22:07:18,175 - 未找到任何可用模型文件
2025-03-21 22:07:18,175 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 22:07:48,179 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 22:07:48,179 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 22:07:48,179 - 未找到GBDT模型文件
2025-03-21 22:07:48,180 - 未找到DART模型文件
2025-03-21 22:07:48,180 - 未找到GOSS模型文件
2025-03-21 22:07:48,180 - 未找到任何可用模型文件
2025-03-21 22:07:48,180 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 22:08:03,026 - DART 模型训练完成
2025-03-21 22:08:03,026 - 使用 DART 模型预测验证集...
2025-03-21 22:08:03,313 - 使用时间加权方式计算模型评分...
2025-03-21 22:08:03,324 - DART 评估结果 - RMSE: 61.3973, K: 0.7155, 加权评分: 0.7898
2025-03-21 22:08:03,335 - DART 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\12months\DART.joblib
2025-03-21 22:08:03,335 - 
--------------------------------------------------
【训练 GOSS 模型】
--------------------------------------------------
2025-03-21 22:08:03,335 - 模型参数: {'boosting_type': 'goss', 'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'top_rate': 0.2, 'other_rate': 0.1, 'name': 'GOSS'}
2025-03-21 22:08:03,335 - 开始训练 GOSS 模型...
2025-03-21 22:08:18,187 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 22:08:18,187 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 22:08:18,187 - 未找到GBDT模型文件
2025-03-21 22:08:18,188 - 未找到DART模型文件
2025-03-21 22:08:18,188 - 未找到GOSS模型文件
2025-03-21 22:08:18,188 - 未找到任何可用模型文件
2025-03-21 22:08:18,188 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 22:08:48,194 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 22:08:48,194 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 22:08:48,194 - 未找到GBDT模型文件
2025-03-21 22:08:48,194 - 未找到DART模型文件
2025-03-21 22:08:48,195 - 未找到GOSS模型文件
2025-03-21 22:08:48,195 - 未找到任何可用模型文件
2025-03-21 22:08:48,195 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 22:09:06,032 - GOSS 模型训练完成
2025-03-21 22:09:06,033 - 使用 GOSS 模型预测验证集...
2025-03-21 22:09:06,406 - 使用时间加权方式计算模型评分...
2025-03-21 22:09:06,433 - GOSS 评估结果 - RMSE: 46.6498, K: 0.7086, 加权评分: 0.8024
2025-03-21 22:09:06,449 - GOSS 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\12months\GOSS.joblib
2025-03-21 22:09:06,451 - Scaler 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\12months\scaler.joblib
2025-03-21 22:09:06,459 - 最佳模型 'GBDT' 已额外保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\12months\model.joblib
2025-03-21 22:09:06,459 - 12个月数据的模型训练完成
2025-03-21 22:09:06,459 - 
--------------------------------------------------
【更新每种算法的最佳模型】
--------------------------------------------------
2025-03-21 22:09:06,460 - ✅ 发现更好的GBDT模型 (来自12个月数据)
2025-03-21 22:09:06,460 -    新评分: 0.8056, 旧评分: 0.7872
2025-03-21 22:09:06,460 - ✅ 发现更好的DART模型 (来自12个月数据)
2025-03-21 22:09:06,460 -    新评分: 0.7898, 旧评分: 0.7877
2025-03-21 22:09:06,460 - ✅ 发现更好的GOSS模型 (来自12个月数据)
2025-03-21 22:09:06,460 -    新评分: 0.8024, 旧评分: 0.7928
2025-03-21 22:09:06,460 - 
--------------------------------------------------
【训练数据集: 全部数据】
--------------------------------------------------
2025-03-21 22:09:06,460 - 使用全部数据的数据进行训练...
2025-03-21 22:09:06,460 - 使用全部数据...
2025-03-21 22:09:06,467 - 过滤后的数据量: 38172
2025-03-21 22:09:06,467 - 对全部数据数据进行预处理...
2025-03-21 22:09:06,499 - 预处理后的特征维度: (38172, 304), 目标变量维度: (38172,)
2025-03-21 22:09:06,504 - 数据集划分完成，训练集: (34354, 304), 验证集: (3818, 304)
2025-03-21 22:09:06,504 - 提取了 3818 个验证集时间戳，用于时间加权评估
2025-03-21 22:09:06,504 - 执行特征工程，滞后特征数: 4...
2025-03-21 22:09:06,829 - 特征工程后的特征维度 - 训练集: (34351, 859), 验证集: (3815, 859)
2025-03-21 22:09:06,829 - 数据标准化...
2025-03-21 22:09:07,156 - 数据标准化完成
2025-03-21 22:09:07,156 - 创建时间窗口，窗口大小: 16...
2025-03-21 22:09:07,979 - 时间窗口创建完成 - 训练集: (34336, 16, 859), 验证集: (3800, 16, 859)
2025-03-21 22:09:07,980 - 调整时间戳长度以匹配窗口化后的验证集 - 原始长度: 3818, 目标长度: 3800
2025-03-21 22:09:07,980 - 时间戳已截断至匹配窗口化后的验证集长度: 3800
2025-03-21 22:09:07,980 - 为全部数据数据创建模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\all_data
2025-03-21 22:09:07,980 - 开始训练全部数据数据的模型...
2025-03-21 22:09:07,980 - 
--------------------------------------------------
【开始模型训练与评估】
--------------------------------------------------
2025-03-21 22:09:07,980 - 模型和 scaler 将被保存到目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\all_data
2025-03-21 22:09:07,980 - 
--------------------------------------------------
【训练 GBDT 模型】
--------------------------------------------------
2025-03-21 22:09:07,980 - 模型参数: {'boosting_type': 'gbdt', 'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'name': 'GBDT'}
2025-03-21 22:09:07,981 - 开始训练 GBDT 模型...
2025-03-21 22:09:18,208 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 22:09:18,208 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 22:09:18,208 - 未找到GBDT模型文件
2025-03-21 22:09:18,208 - 未找到DART模型文件
2025-03-21 22:09:18,208 - 未找到GOSS模型文件
2025-03-21 22:09:18,209 - 未找到任何可用模型文件
2025-03-21 22:09:18,209 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 22:09:48,217 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 22:09:48,217 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 22:09:48,217 - 未找到GBDT模型文件
2025-03-21 22:09:48,217 - 未找到DART模型文件
2025-03-21 22:09:48,217 - 未找到GOSS模型文件
2025-03-21 22:09:48,217 - 未找到任何可用模型文件
2025-03-21 22:09:48,218 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 22:10:18,227 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 22:10:18,227 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 22:10:18,227 - 未找到GBDT模型文件
2025-03-21 22:10:18,227 - 未找到DART模型文件
2025-03-21 22:10:18,228 - 未找到GOSS模型文件
2025-03-21 22:10:18,228 - 未找到任何可用模型文件
2025-03-21 22:10:18,228 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 22:10:25,887 - GBDT 模型训练完成
2025-03-21 22:10:25,887 - 使用 GBDT 模型预测验证集...
2025-03-21 22:10:26,405 - 使用时间加权方式计算模型评分...
2025-03-21 22:10:26,420 - GBDT 评估结果 - RMSE: 46.2606, K: 0.6942, 加权评分: 0.7956
2025-03-21 22:10:26,420 - ✅ GBDT 成为当前最佳模型 (基于加权评分)
2025-03-21 22:10:26,429 - GBDT 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\all_data\GBDT.joblib
2025-03-21 22:10:26,429 - 
--------------------------------------------------
【训练 DART 模型】
--------------------------------------------------
2025-03-21 22:10:26,429 - 模型参数: {'boosting_type': 'dart', 'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'drop_rate': 0.1, 'name': 'DART'}
2025-03-21 22:10:26,429 - 开始训练 DART 模型...
2025-03-21 22:10:48,234 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 22:10:48,234 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 22:10:48,234 - 未找到GBDT模型文件
2025-03-21 22:10:48,234 - 未找到DART模型文件
2025-03-21 22:10:48,234 - 未找到GOSS模型文件
2025-03-21 22:10:48,234 - 未找到任何可用模型文件
2025-03-21 22:10:48,235 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 22:11:18,241 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 22:11:18,241 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 22:11:18,242 - 未找到GBDT模型文件
2025-03-21 22:11:18,242 - 未找到DART模型文件
2025-03-21 22:11:18,242 - 未找到GOSS模型文件
2025-03-21 22:11:18,242 - 未找到任何可用模型文件
2025-03-21 22:11:18,242 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 22:11:48,209 - DART 模型训练完成
2025-03-21 22:11:48,210 - 使用 DART 模型预测验证集...
2025-03-21 22:11:48,249 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 22:11:48,249 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 22:11:48,249 - 未找到GBDT模型文件
2025-03-21 22:11:48,249 - 未找到DART模型文件
2025-03-21 22:11:48,249 - 未找到GOSS模型文件
2025-03-21 22:11:48,249 - 未找到任何可用模型文件
2025-03-21 22:11:48,249 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 22:11:48,746 - 使用时间加权方式计算模型评分...
2025-03-21 22:11:48,779 - DART 评估结果 - RMSE: 59.3663, K: 0.7118, 加权评分: 0.7903
2025-03-21 22:11:48,793 - DART 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\all_data\DART.joblib
2025-03-21 22:11:48,793 - 
--------------------------------------------------
【训练 GOSS 模型】
--------------------------------------------------
2025-03-21 22:11:48,793 - 模型参数: {'boosting_type': 'goss', 'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'top_rate': 0.2, 'other_rate': 0.1, 'name': 'GOSS'}
2025-03-21 22:11:48,793 - 开始训练 GOSS 模型...
2025-03-21 22:12:18,251 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 22:12:18,251 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 22:12:18,251 - 未找到GBDT模型文件
2025-03-21 22:12:18,251 - 未找到DART模型文件
2025-03-21 22:12:18,251 - 未找到GOSS模型文件
2025-03-21 22:12:18,251 - 未找到任何可用模型文件
2025-03-21 22:12:18,252 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 22:12:48,252 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 22:12:48,252 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 22:12:48,252 - 未找到GBDT模型文件
2025-03-21 22:12:48,253 - 未找到DART模型文件
2025-03-21 22:12:48,253 - 未找到GOSS模型文件
2025-03-21 22:12:48,253 - 未找到任何可用模型文件
2025-03-21 22:12:48,253 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 22:13:09,069 - GOSS 模型训练完成
2025-03-21 22:13:09,070 - 使用 GOSS 模型预测验证集...
2025-03-21 22:13:09,698 - 使用时间加权方式计算模型评分...
2025-03-21 22:13:09,710 - GOSS 评估结果 - RMSE: 46.2717, K: 0.6971, 加权评分: 0.7970
2025-03-21 22:13:09,711 - ✅ GOSS 成为当前最佳模型 (基于加权评分)
2025-03-21 22:13:09,724 - GOSS 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\all_data\GOSS.joblib
2025-03-21 22:13:09,725 - Scaler 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\all_data\scaler.joblib
2025-03-21 22:13:09,738 - 最佳模型 'GOSS' 已额外保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\all_data\model.joblib
2025-03-21 22:13:09,738 - 全部数据数据的模型训练完成
2025-03-21 22:13:09,739 - 
--------------------------------------------------
【更新每种算法的最佳模型】
--------------------------------------------------
2025-03-21 22:13:09,739 - ❌ 全部数据数据的GBDT模型不是最佳模型
2025-03-21 22:13:09,739 -    当前评分: 0.7956, 最佳评分: 0.8056
2025-03-21 22:13:09,739 - ✅ 发现更好的DART模型 (来自全部数据数据)
2025-03-21 22:13:09,739 -    新评分: 0.7903, 旧评分: 0.7898
2025-03-21 22:13:09,739 - ❌ 全部数据数据的GOSS模型不是最佳模型
2025-03-21 22:13:09,739 -    当前评分: 0.7970, 最佳评分: 0.8024
2025-03-21 22:13:09,739 - 
--------------------------------------------------
【保存每种算法的最佳模型】
--------------------------------------------------
2025-03-21 22:13:09,750 - 最佳GBDT模型 (使用12个月数据) 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models\GBDT.joblib
2025-03-21 22:13:09,750 - RMSE: 45.8674, K: 0.7136, 评分: 0.8056
2025-03-21 22:13:09,762 - 最佳DART模型 (使用全部数据数据) 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models\DART.joblib
2025-03-21 22:13:09,762 - RMSE: 59.3663, K: 0.7118, 评分: 0.7903
2025-03-21 22:13:09,781 - 最佳GOSS模型 (使用12个月数据) 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models\GOSS.joblib
2025-03-21 22:13:09,782 - RMSE: 46.6498, K: 0.7086, 评分: 0.8024
2025-03-21 22:13:10,151 - 多数据集训练完成! 已为每种算法选择最佳模型
2025-03-21 22:13:10,151 -   - 最佳GBDT模型: 使用12个月数据, RMSE=45.8674, K=0.7136, 评分=0.8056
2025-03-21 22:13:10,151 -   - 最佳DART模型: 使用全部数据数据, RMSE=59.3663, K=0.7118, 评分=0.7903
2025-03-21 22:13:10,151 -   - 最佳GOSS模型: 使用12个月数据, RMSE=46.6498, K=0.7086, 评分=0.8024
2025-03-21 22:13:10,151 - 
================================================================================
2025-03-21 22:13:10,151 - >>> 开始计算模型权重 <<<
2025-03-21 22:13:10,151 - ================================================================================

2025-03-21 22:13:10,151 - 开始计算模型权重
2025-03-21 22:13:10,151 - 从训练数据集中提取最后三天数据进行权重优化
2025-03-21 22:13:10,152 - ✅ 已从训练数据集提取最后三天数据，共 289 条记录
2025-03-21 22:13:10,153 - 开始计算最优模型权重...
2025-03-21 22:13:10,153 - 
--------------------------------------------------
【计算模型权重】
--------------------------------------------------
2025-03-21 22:13:10,191 - 加载最佳模型和对应的scaler...
2025-03-21 22:13:10,191 - ✅ 已加载 GBDT 模型和scaler
2025-03-21 22:13:10,191 - ✅ 已加载 DART 模型和scaler
2025-03-21 22:13:10,191 - ✅ 已加载 GOSS 模型和scaler
2025-03-21 22:13:10,192 - 预处理验证数据，共 289 条记录...
2025-03-21 22:13:10,195 - 验证数据预处理完成，特征维度: (289, 304)
2025-03-21 22:13:10,231 - 验证数据特征工程完成，特征维度: (286, 859)
2025-03-21 22:13:10,231 - 使用各模型进行预测...
2025-03-21 22:13:10,239 - 使用 GBDT 模型预测...
2025-03-21 22:13:10,292 - ✅ GBDT 模型预测完成，预测结果数量: 271
2025-03-21 22:13:10,304 - 使用 DART 模型预测...
2025-03-21 22:13:10,348 - ✅ DART 模型预测完成，预测结果数量: 271
2025-03-21 22:13:10,357 - 使用 GOSS 模型预测...
2025-03-21 22:13:10,401 - ✅ GOSS 模型预测完成，预测结果数量: 271
2025-03-21 22:13:10,401 - 对齐预测结果，使用最小长度: 271
2025-03-21 22:13:10,402 - 创建线性回归的特征矩阵 (271, 3) 和目标向量 (271,)
2025-03-21 22:13:10,402 - 训练线性回归模型计算最优权重...
2025-03-21 22:13:10,403 - 线性回归得到的权重: {'GBDT': np.float64(0.0), 'DART': np.float64(0.0), 'GOSS': np.float64(0.9413418792089218), 'INTERCEPT': np.float64(-0.0258769107539365)}
2025-03-21 22:13:10,403 - 最终计算的模型权重: {'GBDT': np.float64(0.0), 'DART': np.float64(0.0), 'GOSS': np.float64(0.9413418792089218), 'INTERCEPT': np.float64(-0.0258769107539365)}
2025-03-21 22:13:10,406 - 计算得到的最优权重: {'GBDT': np.float64(0.0), 'DART': np.float64(0.0), 'GOSS': np.float64(0.9413418792089218), 'INTERCEPT': np.float64(-0.0258769107539365)}
2025-03-21 22:13:10,407 - 模型权重已保存到: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\model_weights.joblib
2025-03-21 22:13:10,436 - ✅ 训练完成，已创建标志文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\20250321_train_done.flag
2025-03-21 22:13:10,436 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 22:13:10,436 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 22:13:10,436 - 发现GBDT模型文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models\GBDT.joblib
2025-03-21 22:13:10,436 - ✅ 模型已成功保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321，模型可用。
2025-03-21 22:13:18,257 - ✅ 发现新的预测文件：D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv\20250321.csv，执行预测...
2025-03-21 22:13:18,257 - 
============================================================
【风电功率预测开始】
============================================================
2025-03-21 22:13:18,257 - 配置信息:
2025-03-21 22:13:18,257 -   - 数据文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv\20250321.csv
2025-03-21 22:13:18,258 -   - 模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 22:13:18,258 -   - 窗口大小: 16
2025-03-21 22:13:18,258 -   - 滞后特征数: 4
2025-03-21 22:13:18,258 - 
============================================================
【预处理新数据】
============================================================
2025-03-21 22:13:18,258 - 加载数据文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv\20250321.csv
2025-03-21 22:13:18,274 - 数据加载完成，去除缺失值后共 109 条记录
2025-03-21 22:13:18,338 - 数据前5行预览:
         Timestamp    129.128_1    129.128_2  ...  ws200_13   ws200_14   ws200_15
0  2024/4/16 20:00  15974.26563  16293.82813  ...  9.541195  10.863499  12.404554
1  2024/4/16 20:15  15974.26563  16293.82813  ...  9.280917  10.585079  12.259521
2  2024/4/16 20:30  15974.26563  16293.82813  ...  9.020693  10.307371  12.115601
3  2024/4/16 20:45  15974.26563  16293.82813  ...  8.760527  10.030434  11.972834
4  2024/4/16 21:00  15974.26563  16293.82813  ...  8.500424   9.754334  11.831263

[5 rows x 301 columns]
2025-03-21 22:13:18,338 - 预处理数据...
2025-03-21 22:13:18,340 - 预处理完成，特征维度: (109, 304)
2025-03-21 22:13:18,340 - 执行特征工程，滞后特征数: 4...
2025-03-21 22:13:18,373 - 特征工程完成，特征维度: (106, 859)
2025-03-21 22:13:18,373 - 新数据预处理完成，共 106 个样本
2025-03-21 22:13:18,373 - ✅ 发现最佳模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models，尝试使用多模型加权预测
2025-03-21 22:13:18,373 - 
============================================================
【加载多个模型】
============================================================
2025-03-21 22:13:18,373 - 从目录加载模型和 scaler: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 22:13:18,374 - 加载 GBDT 模型和 scaler...
2025-03-21 22:13:18,384 - ✅ 已成功加载 GBDT 模型和对应的 scaler
2025-03-21 22:13:18,384 - 加载 DART 模型和 scaler...
2025-03-21 22:13:18,396 - ✅ 已成功加载 DART 模型和对应的 scaler
2025-03-21 22:13:18,396 - 加载 GOSS 模型和 scaler...
2025-03-21 22:13:18,406 - ✅ 已成功加载 GOSS 模型和对应的 scaler
2025-03-21 22:13:18,406 - 加载完成，共加载了 3 个模型: GBDT, DART, GOSS
2025-03-21 22:13:18,406 - 尝试加载模型权重文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\model_weights.joblib
2025-03-21 22:13:18,406 - ✅ 已加载模型权重: {'GBDT': np.float64(0.0), 'DART': np.float64(0.0), 'GOSS': np.float64(0.9413418792089218), 'INTERCEPT': np.float64(-0.0258769107539365)}
2025-03-21 22:13:18,406 - 
============================================================
【使用多模型加权预测】
============================================================
2025-03-21 22:13:18,406 - 使用自定义权重: {'GBDT': np.float64(0.0), 'DART': np.float64(0.0), 'GOSS': np.float64(0.9413418792089218), 'INTERCEPT': np.float64(-0.0258769107539365)}
2025-03-21 22:13:18,406 - ❌ GBDT 模型权重为0，跳过
2025-03-21 22:13:18,406 - ❌ DART 模型权重为0，跳过
2025-03-21 22:13:18,406 - 使用 GOSS 模型进行预测 (权重: 0.9413)...
2025-03-21 22:13:18,409 - GOSS: 数据标准化完成
2025-03-21 22:13:18,411 - GOSS: 时间窗口创建完成，窗口数量: 91
2025-03-21 22:13:18,430 - ✅ GOSS 模型预测完成，生成了 91 个预测值
2025-03-21 22:13:18,430 -    统计: 最小值=180.04, 最大值=286.40, 平均值=224.81
2025-03-21 22:13:18,430 - 所有预测结果对齐到最小长度: 91
2025-03-21 22:13:18,430 - 开始计算加权平均预测结果...
2025-03-21 22:13:18,430 -   加入 GOSS 模型贡献 (权重: 0.9413)
2025-03-21 22:13:18,430 -   加入常数偏置项 (值: -0.0259)
2025-03-21 22:13:18,430 - 加权平均预测完成，生成了 91 个预测值
2025-03-21 22:13:18,430 - 加权预测结果统计: 最小值=169.46, 最大值=269.57, 平均值=211.60
2025-03-21 22:13:18,431 - ✅ 多模型加权预测完成，使用模型: GBDT, DART, GOSS
2025-03-21 22:13:18,431 - 
============================================================
【保存预测结果】
============================================================
2025-03-21 22:13:18,432 - 创建输出目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\results\shortresult\20250321
2025-03-21 22:13:18,433 - 预测结果数据框创建完成，共 91 行
2025-03-21 22:13:18,435 - ✅ 预测结果已保存到文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\results\shortresult\20250321\20250321.csv
2025-03-21 22:13:18,435 - 尝试将预测结果导入数据库...
2025-03-21 22:13:18,435 - 发送HTTP请求到: http://localhost:5000/prediction2database/batch_shortl_power
2025-03-21 22:13:20,634 - ✅ 数据已成功导入数据库
2025-03-21 22:13:20,634 -    总记录数: 91, 更新: 91, 插入: 0
2025-03-21 22:13:20,634 - ✅ 预测结果已保存到: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\results\shortresult\20250321\20250321.csv
2025-03-21 22:13:20,635 - ✅ 创建预测完成标志文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\results\shortresult\20250321\20250321_predict_done.flag
2025-03-21 22:13:20,635 - 
============================================================
【风电功率预测完成】
============================================================
2025-03-21 22:13:20,635 - 风电功率预测完成
2025-03-21 22:13:20,640 - ✅ 预测执行完成
2025-03-21 22:13:20,640 - 
================================================================================
2025-03-21 22:13:20,640 - >>> 系统任务完成 <<<
2025-03-21 22:13:20,640 - ================================================================================

2025-03-21 22:13:20,640 - 系统任务完成
2025-03-21 22:13:20,640 - 今天的训练和预测任务已完成。
2025-03-21 22:31:33,144 - 
================================================================================
2025-03-21 22:31:33,144 - >>> 自动训练预测系统启动 <<<
2025-03-21 22:31:33,144 - ================================================================================

2025-03-21 22:31:33,144 - 自动训练预测系统启动
2025-03-21 22:31:33,144 - 今天的日期是: 20250321
2025-03-21 22:31:33,144 - 创建监视线程...
2025-03-21 22:31:33,144 - 启动训练线程...
2025-03-21 22:31:33,145 - 启动预测线程...
2025-03-21 22:31:33,145 - 
================================================================================
2025-03-21 22:31:33,145 - >>> 启动训练监视线程 <<<
2025-03-21 22:31:33,145 - 
================================================================================
2025-03-21 22:31:33,145 - 等待线程完成...
2025-03-21 22:31:33,145 - ================================================================================

2025-03-21 22:31:33,145 - >>> 启动预测监视线程 <<<
2025-03-21 22:31:33,145 - 启动训练监视线程
2025-03-21 22:31:33,145 - ================================================================================

2025-03-21 22:31:33,146 - 训练文件路径: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short\20250321.csv
2025-03-21 22:31:33,146 - 启动预测监视线程
2025-03-21 22:31:33,146 - 模型存储目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 22:31:33,146 - 预测数据文件路径: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv\20250321.csv
2025-03-21 22:31:33,146 - 训练完成标志文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\20250321_train_done.flag
2025-03-21 22:31:33,146 - 模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 22:31:33,146 - 开始监视 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short 文件夹以进行训练...
2025-03-21 22:31:33,146 - 预测完成标志文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\results\shortresult\20250321\20250321_predict_done.flag
2025-03-21 22:31:33,146 - 开始监视 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv 文件夹以进行预测...
2025-03-21 22:31:33,146 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 22:31:33,146 - ✅ 发现新的训练文件：D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short\20250321.csv，执行训练...
2025-03-21 22:31:33,147 - 未找到best_models目录，检查传统模型文件
2025-03-21 22:31:33,147 - 
================================================================================
2025-03-21 22:31:33,147 - >>> 开始模型训练 <<<
2025-03-21 22:31:33,147 - 未找到任何可用模型文件
2025-03-21 22:31:33,147 - ================================================================================

2025-03-21 22:31:33,147 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 22:31:33,147 - 配置信息:
2025-03-21 22:31:33,147 -   - 窗口大小: 16
2025-03-21 22:31:33,147 -   - 滞后特征数: 4
2025-03-21 22:31:33,147 -   - 训练集比例: 0.9
2025-03-21 22:31:33,147 -   - 输出目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\train_predictions\short_predictions
2025-03-21 22:31:33,147 -   - 模型存储路径: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 22:31:33,147 - 输出结果将保存到: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\train_predictions\short_predictions
2025-03-21 22:31:33,147 - 
================================================================================
2025-03-21 22:31:33,147 - >>> 数据加载与预处理 <<<
2025-03-21 22:31:33,148 - ================================================================================

2025-03-21 22:31:33,148 - 加载数据文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short\20250321.csv
2025-03-21 22:31:33,148 - 开始加载和预处理数据...
2025-03-21 22:31:33,890 - 数据加载完成，共 38079 条记录
2025-03-21 22:31:33,909 - 数据前5行预览: 
       Timestamp    129.128_1    129.128_2  ...  ws200_15  wp_true    ws_all
0  2023/3/2 0:00  15950.07031  16250.82031  ...  8.808324    26.02  4.092251
1  2023/3/2 0:15  15950.07031  16250.82031  ...  8.549524    19.92  3.833974
2  2023/3/2 0:30  15950.07031  16250.82031  ...  8.295010    14.90  3.591723
3  2023/3/2 0:45  15950.07031  16250.82031  ...  8.045185     8.43  3.206756
4  2023/3/2 1:00  15950.07031  16250.82031  ...  7.800503     5.47  2.986988

[5 rows x 303 columns]
2025-03-21 22:31:33,924 - 数据集时间范围: 2023-03-02 至 2024-04-16, 共 13 个月
2025-03-21 22:31:33,924 - 将使用以下时间段训练模型: [1, 3, 6, 9, 12, None]
2025-03-21 22:31:33,924 - 
================================================================================
2025-03-21 22:31:33,924 - >>> 开始多数据集训练 <<<
2025-03-21 22:31:33,924 - ================================================================================

2025-03-21 22:31:33,924 - 将使用多种时间跨度的数据训练模型...
2025-03-21 22:31:33,924 - 
--------------------------------------------------
【使用多个数据集训练模型】
--------------------------------------------------
2025-03-21 22:31:33,925 - 最佳模型将保存到: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 22:31:33,925 - 获取统一参数成功，包含 3 种模型类型
2025-03-21 22:31:33,925 - 
--------------------------------------------------
【训练数据集: 1个月】
--------------------------------------------------
2025-03-21 22:31:33,925 - 使用1个月的数据进行训练...
2025-03-21 22:31:33,925 - 过滤数据为最近1个月...
2025-03-21 22:31:33,927 - 过滤后的数据量: 2977
2025-03-21 22:31:33,927 - 对1个月数据进行预处理...
2025-03-21 22:31:33,931 - 预处理后的特征维度: (2977, 304), 目标变量维度: (2977,)
2025-03-21 22:31:33,931 - 数据集划分完成，训练集: (2679, 304), 验证集: (298, 304)
2025-03-21 22:31:33,931 - 提取了 298 个验证集时间戳，用于时间加权评估
2025-03-21 22:31:33,931 - 执行特征工程，滞后特征数: 4...
2025-03-21 22:31:33,976 - 特征工程后的特征维度 - 训练集: (2676, 859), 验证集: (295, 859)
2025-03-21 22:31:33,976 - 数据标准化...
2025-03-21 22:31:34,005 - 数据标准化完成
2025-03-21 22:31:34,005 - 创建时间窗口，窗口大小: 16...
2025-03-21 22:31:34,052 - 时间窗口创建完成 - 训练集: (2661, 16, 859), 验证集: (280, 16, 859)
2025-03-21 22:31:34,052 - 调整时间戳长度以匹配窗口化后的验证集 - 原始长度: 298, 目标长度: 280
2025-03-21 22:31:34,052 - 时间戳已截断至匹配窗口化后的验证集长度: 280
2025-03-21 22:31:34,052 - 为1个月数据创建模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\1months
2025-03-21 22:31:34,053 - 开始训练1个月数据的模型...
2025-03-21 22:31:34,053 - 
--------------------------------------------------
【开始模型训练与评估】
--------------------------------------------------
2025-03-21 22:31:34,053 - 模型和 scaler 将被保存到目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\1months
2025-03-21 22:31:34,053 - 
--------------------------------------------------
【训练 GBDT 模型】
--------------------------------------------------
2025-03-21 22:31:34,053 - 模型参数: {'boosting_type': 'gbdt', 'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'name': 'GBDT'}
2025-03-21 22:31:34,053 - 开始训练 GBDT 模型...
2025-03-21 22:31:50,845 - GBDT 模型训练完成
2025-03-21 22:31:50,845 - 使用 GBDT 模型预测验证集...
2025-03-21 22:31:50,852 - 使用时间加权方式计算模型评分...
2025-03-21 22:31:50,853 - GBDT 评估结果 - RMSE: 46.9289, K: 0.7493, 加权评分: 0.8239
2025-03-21 22:31:50,853 - ✅ GBDT 成为当前最佳模型 (基于加权评分)
2025-03-21 22:31:50,864 - GBDT 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\1months\GBDT.joblib
2025-03-21 22:31:50,864 - 
--------------------------------------------------
【训练 DART 模型】
--------------------------------------------------
2025-03-21 22:31:50,865 - 模型参数: {'boosting_type': 'dart', 'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'drop_rate': 0.1, 'name': 'DART'}
2025-03-21 22:31:50,865 - 开始训练 DART 模型...
2025-03-21 22:32:03,165 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 22:32:03,165 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 22:32:03,166 - 未找到GBDT模型文件
2025-03-21 22:32:03,166 - 未找到DART模型文件
2025-03-21 22:32:03,166 - 未找到GOSS模型文件
2025-03-21 22:32:03,166 - 未找到任何可用模型文件
2025-03-21 22:32:03,167 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 22:32:33,172 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 22:32:33,173 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 22:32:33,173 - 未找到GBDT模型文件
2025-03-21 22:32:33,173 - 未找到DART模型文件
2025-03-21 22:32:33,174 - 未找到GOSS模型文件
2025-03-21 22:32:33,174 - 未找到任何可用模型文件
2025-03-21 22:32:33,174 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 22:32:35,736 - DART 模型训练完成
2025-03-21 22:32:35,736 - 使用 DART 模型预测验证集...
2025-03-21 22:32:35,745 - 使用时间加权方式计算模型评分...
2025-03-21 22:32:35,749 - DART 评估结果 - RMSE: 59.7976, K: 0.7575, 加权评分: 0.8134
2025-03-21 22:32:35,759 - DART 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\1months\DART.joblib
2025-03-21 22:32:35,759 - 
--------------------------------------------------
【训练 GOSS 模型】
--------------------------------------------------
2025-03-21 22:32:35,759 - 模型参数: {'boosting_type': 'goss', 'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'top_rate': 0.2, 'other_rate': 0.1, 'name': 'GOSS'}
2025-03-21 22:32:35,759 - 开始训练 GOSS 模型...
2025-03-21 22:33:03,192 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 22:33:03,192 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 22:33:03,192 - 未找到GBDT模型文件
2025-03-21 22:33:03,193 - 未找到DART模型文件
2025-03-21 22:33:03,193 - 未找到GOSS模型文件
2025-03-21 22:33:03,193 - 未找到任何可用模型文件
2025-03-21 22:33:03,193 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 22:33:13,600 - GOSS 模型训练完成
2025-03-21 22:33:13,600 - 使用 GOSS 模型预测验证集...
2025-03-21 22:33:13,610 - 使用时间加权方式计算模型评分...
2025-03-21 22:33:13,613 - GOSS 评估结果 - RMSE: 46.4994, K: 0.7440, 加权评分: 0.8218
2025-03-21 22:33:13,632 - GOSS 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\1months\GOSS.joblib
2025-03-21 22:33:13,634 - Scaler 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\1months\scaler.joblib
2025-03-21 22:33:13,643 - 最佳模型 'GBDT' 已额外保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\1months\model.joblib
2025-03-21 22:33:13,643 - 1个月数据的模型训练完成
2025-03-21 22:33:13,643 - 
--------------------------------------------------
【更新每种算法的最佳模型】
--------------------------------------------------
2025-03-21 22:33:13,643 - ✅ 发现更好的GBDT模型 (来自1个月数据)
2025-03-21 22:33:13,643 -    新评分: 0.8239, 旧评分: -inf
2025-03-21 22:33:13,643 - ✅ 发现更好的DART模型 (来自1个月数据)
2025-03-21 22:33:13,644 -    新评分: 0.8134, 旧评分: -inf
2025-03-21 22:33:13,644 - ✅ 发现更好的GOSS模型 (来自1个月数据)
2025-03-21 22:33:13,644 -    新评分: 0.8218, 旧评分: -inf
2025-03-21 22:33:13,644 - 
--------------------------------------------------
【训练数据集: 3个月】
--------------------------------------------------
2025-03-21 22:33:13,644 - 使用3个月的数据进行训练...
2025-03-21 22:33:13,644 - 过滤数据为最近3个月...
2025-03-21 22:33:13,653 - 过滤后的数据量: 8737
2025-03-21 22:33:13,653 - 对3个月数据进行预处理...
2025-03-21 22:33:13,666 - 预处理后的特征维度: (8737, 304), 目标变量维度: (8737,)
2025-03-21 22:33:13,667 - 数据集划分完成，训练集: (7863, 304), 验证集: (874, 304)
2025-03-21 22:33:13,668 - 提取了 874 个验证集时间戳，用于时间加权评估
2025-03-21 22:33:13,668 - 执行特征工程，滞后特征数: 4...
2025-03-21 22:33:13,864 - 特征工程后的特征维度 - 训练集: (7860, 859), 验证集: (871, 859)
2025-03-21 22:33:13,864 - 数据标准化...
2025-03-21 22:33:14,030 - 数据标准化完成
2025-03-21 22:33:14,030 - 创建时间窗口，窗口大小: 16...
2025-03-21 22:33:14,299 - 时间窗口创建完成 - 训练集: (7845, 16, 859), 验证集: (856, 16, 859)
2025-03-21 22:33:14,300 - 调整时间戳长度以匹配窗口化后的验证集 - 原始长度: 874, 目标长度: 856
2025-03-21 22:33:14,300 - 时间戳已截断至匹配窗口化后的验证集长度: 856
2025-03-21 22:33:14,301 - 为3个月数据创建模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\3months
2025-03-21 22:33:14,301 - 开始训练3个月数据的模型...
2025-03-21 22:33:14,301 - 
--------------------------------------------------
【开始模型训练与评估】
--------------------------------------------------
2025-03-21 22:33:14,301 - 模型和 scaler 将被保存到目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\3months
2025-03-21 22:33:14,301 - 
--------------------------------------------------
【训练 GBDT 模型】
--------------------------------------------------
2025-03-21 22:33:14,302 - 模型参数: {'boosting_type': 'gbdt', 'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'name': 'GBDT'}
2025-03-21 22:33:14,302 - 开始训练 GBDT 模型...
2025-03-21 22:33:33,205 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 22:33:33,205 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 22:33:33,206 - 未找到GBDT模型文件
2025-03-21 22:33:33,206 - 未找到DART模型文件
2025-03-21 22:33:33,206 - 未找到GOSS模型文件
2025-03-21 22:33:33,207 - 未找到任何可用模型文件
2025-03-21 22:33:33,207 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 22:34:03,213 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 22:34:03,214 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 22:34:03,214 - 未找到GBDT模型文件
2025-03-21 22:34:03,215 - 未找到DART模型文件
2025-03-21 22:34:03,215 - 未找到GOSS模型文件
2025-03-21 22:34:03,215 - 未找到任何可用模型文件
2025-03-21 22:34:03,215 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 22:34:21,913 - GBDT 模型训练完成
2025-03-21 22:34:21,913 - 使用 GBDT 模型预测验证集...
2025-03-21 22:34:21,942 - 使用时间加权方式计算模型评分...
2025-03-21 22:34:21,950 - GBDT 评估结果 - RMSE: 45.6520, K: 0.6927, 加权评分: 0.7973
2025-03-21 22:34:21,950 - ✅ GBDT 成为当前最佳模型 (基于加权评分)
2025-03-21 22:34:21,959 - GBDT 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\3months\GBDT.joblib
2025-03-21 22:34:21,959 - 
--------------------------------------------------
【训练 DART 模型】
--------------------------------------------------
2025-03-21 22:34:21,960 - 模型参数: {'boosting_type': 'dart', 'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'drop_rate': 0.1, 'name': 'DART'}
2025-03-21 22:34:21,960 - 开始训练 DART 模型...
2025-03-21 22:34:33,231 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 22:34:33,231 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 22:34:33,232 - 未找到GBDT模型文件
2025-03-21 22:34:33,232 - 未找到DART模型文件
2025-03-21 22:34:33,232 - 未找到GOSS模型文件
2025-03-21 22:34:33,232 - 未找到任何可用模型文件
2025-03-21 22:34:33,232 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 22:35:03,239 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 22:35:03,239 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 22:35:03,240 - 未找到GBDT模型文件
2025-03-21 22:35:03,241 - 未找到DART模型文件
2025-03-21 22:35:03,241 - 未找到GOSS模型文件
2025-03-21 22:35:03,242 - 未找到任何可用模型文件
2025-03-21 22:35:03,242 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 22:35:31,475 - DART 模型训练完成
2025-03-21 22:35:31,475 - 使用 DART 模型预测验证集...
2025-03-21 22:35:31,515 - 使用时间加权方式计算模型评分...
2025-03-21 22:35:31,523 - DART 评估结果 - RMSE: 58.6206, K: 0.7230, 加权评分: 0.7975
2025-03-21 22:35:31,523 - ✅ DART 成为当前最佳模型 (基于加权评分)
2025-03-21 22:35:31,534 - DART 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\3months\DART.joblib
2025-03-21 22:35:31,534 - 
--------------------------------------------------
【训练 GOSS 模型】
--------------------------------------------------
2025-03-21 22:35:31,534 - 模型参数: {'boosting_type': 'goss', 'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'top_rate': 0.2, 'other_rate': 0.1, 'name': 'GOSS'}
2025-03-21 22:35:31,534 - 开始训练 GOSS 模型...
2025-03-21 22:35:33,245 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 22:35:33,245 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 22:35:33,245 - 未找到GBDT模型文件
2025-03-21 22:35:33,246 - 未找到DART模型文件
2025-03-21 22:35:33,246 - 未找到GOSS模型文件
2025-03-21 22:35:33,246 - 未找到任何可用模型文件
2025-03-21 22:35:33,247 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 22:36:03,250 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 22:36:03,250 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 22:36:03,251 - 未找到GBDT模型文件
2025-03-21 22:36:03,251 - 未找到DART模型文件
2025-03-21 22:36:03,251 - 未找到GOSS模型文件
2025-03-21 22:36:03,251 - 未找到任何可用模型文件
2025-03-21 22:36:03,252 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 22:36:31,030 - GOSS 模型训练完成
2025-03-21 22:36:31,030 - 使用 GOSS 模型预测验证集...
2025-03-21 22:36:31,065 - 使用时间加权方式计算模型评分...
2025-03-21 22:36:31,072 - GOSS 评估结果 - RMSE: 45.0612, K: 0.6962, 加权评分: 0.7996
2025-03-21 22:36:31,072 - ✅ GOSS 成为当前最佳模型 (基于加权评分)
2025-03-21 22:36:31,089 - GOSS 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\3months\GOSS.joblib
2025-03-21 22:36:31,091 - Scaler 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\3months\scaler.joblib
2025-03-21 22:36:31,107 - 最佳模型 'GOSS' 已额外保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\3months\model.joblib
2025-03-21 22:36:31,107 - 3个月数据的模型训练完成
2025-03-21 22:36:31,107 - 
--------------------------------------------------
【更新每种算法的最佳模型】
--------------------------------------------------
2025-03-21 22:36:31,107 - ❌ 3个月数据的GBDT模型不是最佳模型
2025-03-21 22:36:31,107 -    当前评分: 0.7973, 最佳评分: 0.8239
2025-03-21 22:36:31,107 - ❌ 3个月数据的DART模型不是最佳模型
2025-03-21 22:36:31,108 -    当前评分: 0.7975, 最佳评分: 0.8134
2025-03-21 22:36:31,108 - ❌ 3个月数据的GOSS模型不是最佳模型
2025-03-21 22:36:31,108 -    当前评分: 0.7996, 最佳评分: 0.8218
2025-03-21 22:36:31,108 - 
--------------------------------------------------
【训练数据集: 6个月】
--------------------------------------------------
2025-03-21 22:36:31,108 - 使用6个月的数据进行训练...
2025-03-21 22:36:31,108 - 过滤数据为最近6个月...
2025-03-21 22:36:31,122 - 过滤后的数据量: 17327
2025-03-21 22:36:31,122 - 对6个月数据进行预处理...
2025-03-21 22:36:31,142 - 预处理后的特征维度: (17327, 304), 目标变量维度: (17327,)
2025-03-21 22:36:31,144 - 数据集划分完成，训练集: (15594, 304), 验证集: (1733, 304)
2025-03-21 22:36:31,144 - 提取了 1733 个验证集时间戳，用于时间加权评估
2025-03-21 22:36:31,144 - 执行特征工程，滞后特征数: 4...
2025-03-21 22:36:31,371 - 特征工程后的特征维度 - 训练集: (15591, 859), 验证集: (1730, 859)
2025-03-21 22:36:31,371 - 数据标准化...
2025-03-21 22:36:31,665 - 数据标准化完成
2025-03-21 22:36:31,666 - 创建时间窗口，窗口大小: 16...
2025-03-21 22:36:32,233 - 时间窗口创建完成 - 训练集: (15576, 16, 859), 验证集: (1715, 16, 859)
2025-03-21 22:36:32,233 - 调整时间戳长度以匹配窗口化后的验证集 - 原始长度: 1733, 目标长度: 1715
2025-03-21 22:36:32,233 - 时间戳已截断至匹配窗口化后的验证集长度: 1715
2025-03-21 22:36:32,234 - 为6个月数据创建模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\6months
2025-03-21 22:36:32,234 - 开始训练6个月数据的模型...
2025-03-21 22:36:32,234 - 
--------------------------------------------------
【开始模型训练与评估】
--------------------------------------------------
2025-03-21 22:36:32,235 - 模型和 scaler 将被保存到目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\6months
2025-03-21 22:36:32,235 - 
--------------------------------------------------
【训练 GBDT 模型】
--------------------------------------------------
2025-03-21 22:36:32,235 - 模型参数: {'boosting_type': 'gbdt', 'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'name': 'GBDT'}
2025-03-21 22:36:32,235 - 开始训练 GBDT 模型...
2025-03-21 22:36:33,261 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 22:36:33,261 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 22:36:33,261 - 未找到GBDT模型文件
2025-03-21 22:36:33,262 - 未找到DART模型文件
2025-03-21 22:36:33,262 - 未找到GOSS模型文件
2025-03-21 22:36:33,262 - 未找到任何可用模型文件
2025-03-21 22:36:33,262 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 22:37:03,276 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 22:37:03,277 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 22:37:03,277 - 未找到GBDT模型文件
2025-03-21 22:37:03,278 - 未找到DART模型文件
2025-03-21 22:37:03,278 - 未找到GOSS模型文件
2025-03-21 22:37:03,278 - 未找到任何可用模型文件
2025-03-21 22:37:03,279 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 22:37:33,295 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 22:37:33,296 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 22:37:33,296 - 未找到GBDT模型文件
2025-03-21 22:37:33,296 - 未找到DART模型文件
2025-03-21 22:37:33,296 - 未找到GOSS模型文件
2025-03-21 22:37:33,297 - 未找到任何可用模型文件
2025-03-21 22:37:33,297 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 22:37:55,661 - GBDT 模型训练完成
2025-03-21 22:37:55,661 - 使用 GBDT 模型预测验证集...
2025-03-21 22:37:55,718 - 使用时间加权方式计算模型评分...
2025-03-21 22:37:55,725 - GBDT 评估结果 - RMSE: 47.6133, K: 0.7509, 加权评分: 0.8227
2025-03-21 22:37:55,725 - ✅ GBDT 成为当前最佳模型 (基于加权评分)
2025-03-21 22:37:55,733 - GBDT 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\6months\GBDT.joblib
2025-03-21 22:37:55,733 - 
--------------------------------------------------
【训练 DART 模型】
--------------------------------------------------
2025-03-21 22:37:55,733 - 模型参数: {'boosting_type': 'dart', 'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'drop_rate': 0.1, 'name': 'DART'}
2025-03-21 22:37:55,733 - 开始训练 DART 模型...
2025-03-21 22:38:03,307 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 22:38:03,308 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 22:38:03,308 - 未找到GBDT模型文件
2025-03-21 22:38:03,308 - 未找到DART模型文件
2025-03-21 22:38:03,308 - 未找到GOSS模型文件
2025-03-21 22:38:03,308 - 未找到任何可用模型文件
2025-03-21 22:38:03,308 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 22:38:32,451 - DART 模型训练完成
2025-03-21 22:38:32,451 - 使用 DART 模型预测验证集...
2025-03-21 22:38:32,499 - 使用时间加权方式计算模型评分...
2025-03-21 22:38:32,506 - DART 评估结果 - RMSE: 69.5040, K: 0.7182, 加权评分: 0.7828
2025-03-21 22:38:32,516 - DART 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\6months\DART.joblib
2025-03-21 22:38:32,516 - 
--------------------------------------------------
【训练 GOSS 模型】
--------------------------------------------------
2025-03-21 22:38:32,516 - 模型参数: {'boosting_type': 'goss', 'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'top_rate': 0.2, 'other_rate': 0.1, 'name': 'GOSS'}
2025-03-21 22:38:32,516 - 开始训练 GOSS 模型...
2025-03-21 22:38:33,310 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 22:38:33,310 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 22:38:33,310 - 未找到GBDT模型文件
2025-03-21 22:38:33,310 - 未找到DART模型文件
2025-03-21 22:38:33,310 - 未找到GOSS模型文件
2025-03-21 22:38:33,310 - 未找到任何可用模型文件
2025-03-21 22:38:33,310 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 22:39:03,323 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 22:39:03,323 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 22:39:03,324 - 未找到GBDT模型文件
2025-03-21 22:39:03,324 - 未找到DART模型文件
2025-03-21 22:39:03,324 - 未找到GOSS模型文件
2025-03-21 22:39:03,324 - 未找到任何可用模型文件
2025-03-21 22:39:03,325 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 22:39:05,086 - GOSS 模型训练完成
2025-03-21 22:39:05,086 - 使用 GOSS 模型预测验证集...
2025-03-21 22:39:05,135 - 使用时间加权方式计算模型评分...
2025-03-21 22:39:05,142 - GOSS 评估结果 - RMSE: 46.5543, K: 0.7556, 加权评分: 0.8263
2025-03-21 22:39:05,142 - ✅ GOSS 成为当前最佳模型 (基于加权评分)
2025-03-21 22:39:05,155 - GOSS 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\6months\GOSS.joblib
2025-03-21 22:39:05,157 - Scaler 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\6months\scaler.joblib
2025-03-21 22:39:05,172 - 最佳模型 'GOSS' 已额外保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\6months\model.joblib
2025-03-21 22:39:05,172 - 6个月数据的模型训练完成
2025-03-21 22:39:05,173 - 
--------------------------------------------------
【更新每种算法的最佳模型】
--------------------------------------------------
2025-03-21 22:39:05,173 - ❌ 6个月数据的GBDT模型不是最佳模型
2025-03-21 22:39:05,173 -    当前评分: 0.8227, 最佳评分: 0.8239
2025-03-21 22:39:05,173 - ❌ 6个月数据的DART模型不是最佳模型
2025-03-21 22:39:05,173 -    当前评分: 0.7828, 最佳评分: 0.8134
2025-03-21 22:39:05,173 - ✅ 发现更好的GOSS模型 (来自6个月数据)
2025-03-21 22:39:05,173 -    新评分: 0.8263, 旧评分: 0.8218
2025-03-21 22:39:05,173 - 
--------------------------------------------------
【训练数据集: 9个月】
--------------------------------------------------
2025-03-21 22:39:05,173 - 使用9个月的数据进行训练...
2025-03-21 22:39:05,173 - 过滤数据为最近9个月...
2025-03-21 22:39:05,190 - 过滤后的数据量: 24928
2025-03-21 22:39:05,190 - 对9个月数据进行预处理...
2025-03-21 22:39:05,214 - 预处理后的特征维度: (24928, 304), 目标变量维度: (24928,)
2025-03-21 22:39:05,218 - 数据集划分完成，训练集: (22435, 304), 验证集: (2493, 304)
2025-03-21 22:39:05,218 - 提取了 2493 个验证集时间戳，用于时间加权评估
2025-03-21 22:39:05,218 - 执行特征工程，滞后特征数: 4...
2025-03-21 22:39:05,415 - 特征工程后的特征维度 - 训练集: (22432, 859), 验证集: (2490, 859)
2025-03-21 22:39:05,415 - 数据标准化...
2025-03-21 22:39:05,628 - 数据标准化完成
2025-03-21 22:39:05,628 - 创建时间窗口，窗口大小: 16...
2025-03-21 22:39:06,168 - 时间窗口创建完成 - 训练集: (22417, 16, 859), 验证集: (2475, 16, 859)
2025-03-21 22:39:06,169 - 调整时间戳长度以匹配窗口化后的验证集 - 原始长度: 2493, 目标长度: 2475
2025-03-21 22:39:06,169 - 时间戳已截断至匹配窗口化后的验证集长度: 2475
2025-03-21 22:39:06,169 - 为9个月数据创建模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\9months
2025-03-21 22:39:06,169 - 开始训练9个月数据的模型...
2025-03-21 22:39:06,169 - 
--------------------------------------------------
【开始模型训练与评估】
--------------------------------------------------
2025-03-21 22:39:06,169 - 模型和 scaler 将被保存到目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\9months
2025-03-21 22:39:06,169 - 
--------------------------------------------------
【训练 GBDT 模型】
--------------------------------------------------
2025-03-21 22:39:06,169 - 模型参数: {'boosting_type': 'gbdt', 'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'name': 'GBDT'}
2025-03-21 22:39:06,170 - 开始训练 GBDT 模型...
2025-03-21 22:39:33,325 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 22:39:33,325 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 22:39:33,326 - 未找到GBDT模型文件
2025-03-21 22:39:33,326 - 未找到DART模型文件
2025-03-21 22:39:33,326 - 未找到GOSS模型文件
2025-03-21 22:39:33,326 - 未找到任何可用模型文件
2025-03-21 22:39:33,326 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 22:39:48,144 - GBDT 模型训练完成
2025-03-21 22:39:48,144 - 使用 GBDT 模型预测验证集...
2025-03-21 22:39:48,257 - 使用时间加权方式计算模型评分...
2025-03-21 22:39:48,265 - GBDT 评估结果 - RMSE: 45.3379, K: 0.7183, 加权评分: 0.8095
2025-03-21 22:39:48,266 - ✅ GBDT 成为当前最佳模型 (基于加权评分)
2025-03-21 22:39:48,276 - GBDT 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\9months\GBDT.joblib
2025-03-21 22:39:48,276 - 
--------------------------------------------------
【训练 DART 模型】
--------------------------------------------------
2025-03-21 22:39:48,276 - 模型参数: {'boosting_type': 'dart', 'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'drop_rate': 0.1, 'name': 'DART'}
2025-03-21 22:39:48,276 - 开始训练 DART 模型...
2025-03-21 22:40:03,340 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 22:40:03,340 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 22:40:03,340 - 未找到GBDT模型文件
2025-03-21 22:40:03,340 - 未找到DART模型文件
2025-03-21 22:40:03,340 - 未找到GOSS模型文件
2025-03-21 22:40:03,340 - 未找到任何可用模型文件
2025-03-21 22:40:03,340 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 22:40:31,348 - DART 模型训练完成
2025-03-21 22:40:31,348 - 使用 DART 模型预测验证集...
2025-03-21 22:40:31,439 - 使用时间加权方式计算模型评分...
2025-03-21 22:40:31,461 - DART 评估结果 - RMSE: 59.6573, K: 0.7310, 加权评分: 0.7997
2025-03-21 22:40:31,473 - DART 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\9months\DART.joblib
2025-03-21 22:40:31,473 - 
--------------------------------------------------
【训练 GOSS 模型】
--------------------------------------------------
2025-03-21 22:40:31,473 - 模型参数: {'boosting_type': 'goss', 'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'top_rate': 0.2, 'other_rate': 0.1, 'name': 'GOSS'}
2025-03-21 22:40:31,473 - 开始训练 GOSS 模型...
2025-03-21 22:40:33,346 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 22:40:33,346 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 22:40:33,346 - 未找到GBDT模型文件
2025-03-21 22:40:33,346 - 未找到DART模型文件
2025-03-21 22:40:33,346 - 未找到GOSS模型文件
2025-03-21 22:40:33,346 - 未找到任何可用模型文件
2025-03-21 22:40:33,346 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 22:41:03,355 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 22:41:03,355 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 22:41:03,356 - 未找到GBDT模型文件
2025-03-21 22:41:03,356 - 未找到DART模型文件
2025-03-21 22:41:03,356 - 未找到GOSS模型文件
2025-03-21 22:41:03,356 - 未找到任何可用模型文件
2025-03-21 22:41:03,356 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 22:41:11,559 - GOSS 模型训练完成
2025-03-21 22:41:11,559 - 使用 GOSS 模型预测验证集...
2025-03-21 22:41:11,698 - 使用时间加权方式计算模型评分...
2025-03-21 22:41:11,706 - GOSS 评估结果 - RMSE: 44.9975, K: 0.7203, 加权评分: 0.8109
2025-03-21 22:41:11,706 - ✅ GOSS 成为当前最佳模型 (基于加权评分)
2025-03-21 22:41:11,721 - GOSS 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\9months\GOSS.joblib
2025-03-21 22:41:11,722 - Scaler 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\9months\scaler.joblib
2025-03-21 22:41:11,733 - 最佳模型 'GOSS' 已额外保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\9months\model.joblib
2025-03-21 22:41:11,733 - 9个月数据的模型训练完成
2025-03-21 22:41:11,733 - 
--------------------------------------------------
【更新每种算法的最佳模型】
--------------------------------------------------
2025-03-21 22:41:11,733 - ❌ 9个月数据的GBDT模型不是最佳模型
2025-03-21 22:41:11,733 -    当前评分: 0.8095, 最佳评分: 0.8239
2025-03-21 22:41:11,733 - ❌ 9个月数据的DART模型不是最佳模型
2025-03-21 22:41:11,733 -    当前评分: 0.7997, 最佳评分: 0.8134
2025-03-21 22:41:11,733 - ❌ 9个月数据的GOSS模型不是最佳模型
2025-03-21 22:41:11,733 -    当前评分: 0.8109, 最佳评分: 0.8263
2025-03-21 22:41:11,733 - 
--------------------------------------------------
【训练数据集: 12个月】
--------------------------------------------------
2025-03-21 22:41:11,733 - 使用12个月的数据进行训练...
2025-03-21 22:41:11,733 - 过滤数据为最近12个月...
2025-03-21 22:41:11,755 - 过滤后的数据量: 33664
2025-03-21 22:41:11,755 - 对12个月数据进行预处理...
2025-03-21 22:41:11,777 - 预处理后的特征维度: (33664, 304), 目标变量维度: (33664,)
2025-03-21 22:41:11,780 - 数据集划分完成，训练集: (30297, 304), 验证集: (3367, 304)
2025-03-21 22:41:11,780 - 提取了 3367 个验证集时间戳，用于时间加权评估
2025-03-21 22:41:11,780 - 执行特征工程，滞后特征数: 4...
2025-03-21 22:41:12,008 - 特征工程后的特征维度 - 训练集: (30294, 859), 验证集: (3364, 859)
2025-03-21 22:41:12,008 - 数据标准化...
2025-03-21 22:41:12,295 - 数据标准化完成
2025-03-21 22:41:12,295 - 创建时间窗口，窗口大小: 16...
2025-03-21 22:41:12,983 - 时间窗口创建完成 - 训练集: (30279, 16, 859), 验证集: (3349, 16, 859)
2025-03-21 22:41:12,983 - 调整时间戳长度以匹配窗口化后的验证集 - 原始长度: 3367, 目标长度: 3349
2025-03-21 22:41:12,983 - 时间戳已截断至匹配窗口化后的验证集长度: 3349
2025-03-21 22:41:12,984 - 为12个月数据创建模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\12months
2025-03-21 22:41:12,984 - 开始训练12个月数据的模型...
2025-03-21 22:41:12,984 - 
--------------------------------------------------
【开始模型训练与评估】
--------------------------------------------------
2025-03-21 22:41:12,984 - 模型和 scaler 将被保存到目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\12months
2025-03-21 22:41:12,984 - 
--------------------------------------------------
【训练 GBDT 模型】
--------------------------------------------------
2025-03-21 22:41:12,984 - 模型参数: {'boosting_type': 'gbdt', 'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'name': 'GBDT'}
2025-03-21 22:41:12,984 - 开始训练 GBDT 模型...
2025-03-21 22:41:33,361 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 22:41:33,361 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 22:41:33,361 - 未找到GBDT模型文件
2025-03-21 22:41:33,361 - 未找到DART模型文件
2025-03-21 22:41:33,361 - 未找到GOSS模型文件
2025-03-21 22:41:33,361 - 未找到任何可用模型文件
2025-03-21 22:41:33,361 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 22:42:03,369 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 22:42:03,369 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 22:42:03,369 - 未找到GBDT模型文件
2025-03-21 22:42:03,369 - 未找到DART模型文件
2025-03-21 22:42:03,369 - 未找到GOSS模型文件
2025-03-21 22:42:03,369 - 未找到任何可用模型文件
2025-03-21 22:42:03,369 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 22:42:09,443 - GBDT 模型训练完成
2025-03-21 22:42:09,443 - 使用 GBDT 模型预测验证集...
2025-03-21 22:42:09,658 - 使用时间加权方式计算模型评分...
2025-03-21 22:42:09,669 - GBDT 评估结果 - RMSE: 44.9687, K: 0.7256, 加权评分: 0.8135
2025-03-21 22:42:09,669 - ✅ GBDT 成为当前最佳模型 (基于加权评分)
2025-03-21 22:42:09,680 - GBDT 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\12months\GBDT.joblib
2025-03-21 22:42:09,680 - 
--------------------------------------------------
【训练 DART 模型】
--------------------------------------------------
2025-03-21 22:42:09,680 - 模型参数: {'boosting_type': 'dart', 'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'drop_rate': 0.1, 'name': 'DART'}
2025-03-21 22:42:09,680 - 开始训练 DART 模型...
2025-03-21 22:42:33,372 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 22:42:33,372 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 22:42:33,372 - 未找到GBDT模型文件
2025-03-21 22:42:33,372 - 未找到DART模型文件
2025-03-21 22:42:33,372 - 未找到GOSS模型文件
2025-03-21 22:42:33,372 - 未找到任何可用模型文件
2025-03-21 22:42:33,372 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 22:43:03,377 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 22:43:03,377 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 22:43:03,378 - 未找到GBDT模型文件
2025-03-21 22:43:03,378 - 未找到DART模型文件
2025-03-21 22:43:03,378 - 未找到GOSS模型文件
2025-03-21 22:43:03,378 - 未找到任何可用模型文件
2025-03-21 22:43:03,378 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 22:43:13,367 - DART 模型训练完成
2025-03-21 22:43:13,367 - 使用 DART 模型预测验证集...
2025-03-21 22:43:13,637 - 使用时间加权方式计算模型评分...
2025-03-21 22:43:13,665 - DART 评估结果 - RMSE: 61.1318, K: 0.7215, 加权评分: 0.7932
2025-03-21 22:43:13,677 - DART 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\12months\DART.joblib
2025-03-21 22:43:13,678 - 
--------------------------------------------------
【训练 GOSS 模型】
--------------------------------------------------
2025-03-21 22:43:13,678 - 模型参数: {'boosting_type': 'goss', 'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'top_rate': 0.2, 'other_rate': 0.1, 'name': 'GOSS'}
2025-03-21 22:43:13,678 - 开始训练 GOSS 模型...
2025-03-21 22:43:33,381 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 22:43:33,381 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 22:43:33,381 - 未找到GBDT模型文件
2025-03-21 22:43:33,381 - 未找到DART模型文件
2025-03-21 22:43:33,381 - 未找到GOSS模型文件
2025-03-21 22:43:33,381 - 未找到任何可用模型文件
2025-03-21 22:43:33,381 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 22:44:03,394 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 22:44:03,394 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 22:44:03,394 - 未找到GBDT模型文件
2025-03-21 22:44:03,394 - 未找到DART模型文件
2025-03-21 22:44:03,395 - 未找到GOSS模型文件
2025-03-21 22:44:03,395 - 未找到任何可用模型文件
2025-03-21 22:44:03,395 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 22:44:17,690 - GOSS 模型训练完成
2025-03-21 22:44:17,690 - 使用 GOSS 模型预测验证集...
2025-03-21 22:44:18,088 - 使用时间加权方式计算模型评分...
2025-03-21 22:44:18,118 - GOSS 评估结果 - RMSE: 45.5586, K: 0.7227, 加权评分: 0.8115
2025-03-21 22:44:18,136 - GOSS 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\12months\GOSS.joblib
2025-03-21 22:44:18,138 - Scaler 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\12months\scaler.joblib
2025-03-21 22:44:18,147 - 最佳模型 'GBDT' 已额外保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\12months\model.joblib
2025-03-21 22:44:18,147 - 12个月数据的模型训练完成
2025-03-21 22:44:18,147 - 
--------------------------------------------------
【更新每种算法的最佳模型】
--------------------------------------------------
2025-03-21 22:44:18,147 - ❌ 12个月数据的GBDT模型不是最佳模型
2025-03-21 22:44:18,147 -    当前评分: 0.8135, 最佳评分: 0.8239
2025-03-21 22:44:18,148 - ❌ 12个月数据的DART模型不是最佳模型
2025-03-21 22:44:18,148 -    当前评分: 0.7932, 最佳评分: 0.8134
2025-03-21 22:44:18,148 - ❌ 12个月数据的GOSS模型不是最佳模型
2025-03-21 22:44:18,148 -    当前评分: 0.8115, 最佳评分: 0.8263
2025-03-21 22:44:18,148 - 
--------------------------------------------------
【训练数据集: 全部数据】
--------------------------------------------------
2025-03-21 22:44:18,148 - 使用全部数据的数据进行训练...
2025-03-21 22:44:18,148 - 使用全部数据...
2025-03-21 22:44:18,153 - 过滤后的数据量: 38079
2025-03-21 22:44:18,153 - 对全部数据数据进行预处理...
2025-03-21 22:44:18,184 - 预处理后的特征维度: (38079, 304), 目标变量维度: (38079,)
2025-03-21 22:44:18,190 - 数据集划分完成，训练集: (34271, 304), 验证集: (3808, 304)
2025-03-21 22:44:18,190 - 提取了 3808 个验证集时间戳，用于时间加权评估
2025-03-21 22:44:18,190 - 执行特征工程，滞后特征数: 4...
2025-03-21 22:44:18,508 - 特征工程后的特征维度 - 训练集: (34268, 859), 验证集: (3805, 859)
2025-03-21 22:44:18,508 - 数据标准化...
2025-03-21 22:44:18,850 - 数据标准化完成
2025-03-21 22:44:18,850 - 创建时间窗口，窗口大小: 16...
2025-03-21 22:44:19,696 - 时间窗口创建完成 - 训练集: (34253, 16, 859), 验证集: (3790, 16, 859)
2025-03-21 22:44:19,697 - 调整时间戳长度以匹配窗口化后的验证集 - 原始长度: 3808, 目标长度: 3790
2025-03-21 22:44:19,697 - 时间戳已截断至匹配窗口化后的验证集长度: 3790
2025-03-21 22:44:19,697 - 为全部数据数据创建模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\all_data
2025-03-21 22:44:19,697 - 开始训练全部数据数据的模型...
2025-03-21 22:44:19,697 - 
--------------------------------------------------
【开始模型训练与评估】
--------------------------------------------------
2025-03-21 22:44:19,697 - 模型和 scaler 将被保存到目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\all_data
2025-03-21 22:44:19,697 - 
--------------------------------------------------
【训练 GBDT 模型】
--------------------------------------------------
2025-03-21 22:44:19,698 - 模型参数: {'boosting_type': 'gbdt', 'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'name': 'GBDT'}
2025-03-21 22:44:19,698 - 开始训练 GBDT 模型...
2025-03-21 22:44:33,401 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 22:44:33,401 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 22:44:33,401 - 未找到GBDT模型文件
2025-03-21 22:44:33,402 - 未找到DART模型文件
2025-03-21 22:44:33,402 - 未找到GOSS模型文件
2025-03-21 22:44:33,402 - 未找到任何可用模型文件
2025-03-21 22:44:33,402 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 22:45:03,409 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 22:45:03,409 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 22:45:03,409 - 未找到GBDT模型文件
2025-03-21 22:45:03,409 - 未找到DART模型文件
2025-03-21 22:45:03,409 - 未找到GOSS模型文件
2025-03-21 22:45:03,409 - 未找到任何可用模型文件
2025-03-21 22:45:03,409 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 22:45:33,419 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 22:45:33,419 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 22:45:33,419 - 未找到GBDT模型文件
2025-03-21 22:45:33,419 - 未找到DART模型文件
2025-03-21 22:45:33,420 - 未找到GOSS模型文件
2025-03-21 22:45:33,420 - 未找到任何可用模型文件
2025-03-21 22:45:33,420 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 22:45:38,232 - GBDT 模型训练完成
2025-03-21 22:45:38,232 - 使用 GBDT 模型预测验证集...
2025-03-21 22:45:38,706 - 使用时间加权方式计算模型评分...
2025-03-21 22:45:38,718 - GBDT 评估结果 - RMSE: 44.0932, K: 0.7130, 加权评分: 0.8084
2025-03-21 22:45:38,718 - ✅ GBDT 成为当前最佳模型 (基于加权评分)
2025-03-21 22:45:38,731 - GBDT 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\all_data\GBDT.joblib
2025-03-21 22:45:38,731 - 
--------------------------------------------------
【训练 DART 模型】
--------------------------------------------------
2025-03-21 22:45:38,731 - 模型参数: {'boosting_type': 'dart', 'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'drop_rate': 0.1, 'name': 'DART'}
2025-03-21 22:45:38,731 - 开始训练 DART 模型...
2025-03-21 22:46:03,424 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 22:46:03,424 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 22:46:03,425 - 未找到GBDT模型文件
2025-03-21 22:46:03,425 - 未找到DART模型文件
2025-03-21 22:46:03,425 - 未找到GOSS模型文件
2025-03-21 22:46:03,425 - 未找到任何可用模型文件
2025-03-21 22:46:03,425 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 22:46:33,433 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 22:46:33,434 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 22:46:33,434 - 未找到GBDT模型文件
2025-03-21 22:46:33,434 - 未找到DART模型文件
2025-03-21 22:46:33,434 - 未找到GOSS模型文件
2025-03-21 22:46:33,435 - 未找到任何可用模型文件
2025-03-21 22:46:33,435 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 22:47:03,470 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 22:47:03,470 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 22:47:03,470 - 未找到GBDT模型文件
2025-03-21 22:47:03,471 - 未找到DART模型文件
2025-03-21 22:47:03,471 - 未找到GOSS模型文件
2025-03-21 22:47:03,471 - 未找到任何可用模型文件
2025-03-21 22:47:03,471 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 22:47:33,513 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 22:47:33,514 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 22:47:33,514 - 未找到GBDT模型文件
2025-03-21 22:47:33,514 - 未找到DART模型文件
2025-03-21 22:47:33,515 - 未找到GOSS模型文件
2025-03-21 22:47:33,515 - 未找到任何可用模型文件
2025-03-21 22:47:33,515 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 22:48:03,584 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 22:48:03,584 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 22:48:03,585 - 未找到GBDT模型文件
2025-03-21 22:48:03,585 - 未找到DART模型文件
2025-03-21 22:48:03,585 - 未找到GOSS模型文件
2025-03-21 22:48:03,585 - 未找到任何可用模型文件
2025-03-21 22:48:03,586 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 22:48:26,963 - DART 模型训练完成
2025-03-21 22:48:26,963 - 使用 DART 模型预测验证集...
2025-03-21 22:48:27,789 - 使用时间加权方式计算模型评分...
2025-03-21 22:48:27,825 - DART 评估结果 - RMSE: 58.7057, K: 0.7212, 加权评分: 0.7960
2025-03-21 22:48:27,841 - DART 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\all_data\DART.joblib
2025-03-21 22:48:27,841 - 
--------------------------------------------------
【训练 GOSS 模型】
--------------------------------------------------
2025-03-21 22:48:27,842 - 模型参数: {'boosting_type': 'goss', 'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'top_rate': 0.2, 'other_rate': 0.1, 'name': 'GOSS'}
2025-03-21 22:48:27,842 - 开始训练 GOSS 模型...
2025-03-21 22:48:33,596 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 22:48:33,596 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 22:48:33,597 - 未找到GBDT模型文件
2025-03-21 22:48:33,597 - 未找到DART模型文件
2025-03-21 22:48:33,597 - 未找到GOSS模型文件
2025-03-21 22:48:33,597 - 未找到任何可用模型文件
2025-03-21 22:48:33,597 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 22:49:03,599 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 22:49:03,599 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 22:49:03,599 - 未找到GBDT模型文件
2025-03-21 22:49:03,600 - 未找到DART模型文件
2025-03-21 22:49:03,600 - 未找到GOSS模型文件
2025-03-21 22:49:03,600 - 未找到任何可用模型文件
2025-03-21 22:49:03,600 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 22:49:33,603 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 22:49:33,603 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 22:49:33,603 - 未找到GBDT模型文件
2025-03-21 22:49:33,604 - 未找到DART模型文件
2025-03-21 22:49:33,604 - 未找到GOSS模型文件
2025-03-21 22:49:33,604 - 未找到任何可用模型文件
2025-03-21 22:49:33,604 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 22:50:03,609 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 22:50:03,609 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 22:50:03,609 - 未找到GBDT模型文件
2025-03-21 22:50:03,610 - 未找到DART模型文件
2025-03-21 22:50:03,610 - 未找到GOSS模型文件
2025-03-21 22:50:03,610 - 未找到任何可用模型文件
2025-03-21 22:50:03,610 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 22:50:33,619 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 22:50:33,619 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 22:50:33,619 - 未找到GBDT模型文件
2025-03-21 22:50:33,620 - 未找到DART模型文件
2025-03-21 22:50:33,620 - 未找到GOSS模型文件
2025-03-21 22:50:33,620 - 未找到任何可用模型文件
2025-03-21 22:50:33,620 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 22:51:03,641 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 22:51:03,642 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 22:51:03,642 - 未找到GBDT模型文件
2025-03-21 22:51:03,643 - 未找到DART模型文件
2025-03-21 22:51:03,643 - 未找到GOSS模型文件
2025-03-21 22:51:03,643 - 未找到任何可用模型文件
2025-03-21 22:51:03,644 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-21 22:51:14,061 - GOSS 模型训练完成
2025-03-21 22:51:14,061 - 使用 GOSS 模型预测验证集...
2025-03-21 22:51:15,003 - 使用时间加权方式计算模型评分...
2025-03-21 22:51:15,040 - GOSS 评估结果 - RMSE: 43.5141, K: 0.7185, 加权评分: 0.8118
2025-03-21 22:51:15,041 - ✅ GOSS 成为当前最佳模型 (基于加权评分)
2025-03-21 22:51:15,062 - GOSS 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\all_data\GOSS.joblib
2025-03-21 22:51:15,065 - Scaler 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\all_data\scaler.joblib
2025-03-21 22:51:15,086 - 最佳模型 'GOSS' 已额外保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\all_data\model.joblib
2025-03-21 22:51:15,086 - 全部数据数据的模型训练完成
2025-03-21 22:51:15,086 - 
--------------------------------------------------
【更新每种算法的最佳模型】
--------------------------------------------------
2025-03-21 22:51:15,086 - ❌ 全部数据数据的GBDT模型不是最佳模型
2025-03-21 22:51:15,086 -    当前评分: 0.8084, 最佳评分: 0.8239
2025-03-21 22:51:15,086 - ❌ 全部数据数据的DART模型不是最佳模型
2025-03-21 22:51:15,086 -    当前评分: 0.7960, 最佳评分: 0.8134
2025-03-21 22:51:15,087 - ❌ 全部数据数据的GOSS模型不是最佳模型
2025-03-21 22:51:15,087 -    当前评分: 0.8118, 最佳评分: 0.8263
2025-03-21 22:51:15,087 - 
--------------------------------------------------
【保存每种算法的最佳模型】
--------------------------------------------------
2025-03-21 22:51:15,103 - 最佳GBDT模型 (使用1个月数据) 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models\GBDT.joblib
2025-03-21 22:51:15,103 - RMSE: 46.9289, K: 0.7493, 评分: 0.8239
2025-03-21 22:51:15,118 - 最佳DART模型 (使用1个月数据) 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models\DART.joblib
2025-03-21 22:51:15,118 - RMSE: 59.7976, K: 0.7575, 评分: 0.8134
2025-03-21 22:51:15,141 - 最佳GOSS模型 (使用6个月数据) 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models\GOSS.joblib
2025-03-21 22:51:15,142 - RMSE: 46.5543, K: 0.7556, 评分: 0.8263
2025-03-21 22:51:15,593 - 多数据集训练完成! 已为每种算法选择最佳模型
2025-03-21 22:51:15,593 -   - 最佳GBDT模型: 使用1个月数据, RMSE=46.9289, K=0.7493, 评分=0.8239
2025-03-21 22:51:15,594 -   - 最佳DART模型: 使用1个月数据, RMSE=59.7976, K=0.7575, 评分=0.8134
2025-03-21 22:51:15,594 -   - 最佳GOSS模型: 使用6个月数据, RMSE=46.5543, K=0.7556, 评分=0.8263
2025-03-21 22:51:15,594 - 
================================================================================
2025-03-21 22:51:15,594 - >>> 开始计算模型权重 <<<
2025-03-21 22:51:15,594 - ================================================================================

2025-03-21 22:51:15,594 - 开始计算模型权重
2025-03-21 22:51:15,594 - 从训练数据集中提取最后三天数据进行权重优化
2025-03-21 22:51:15,597 - ✅ 已从训练数据集提取最后三天数据，共 289 条记录
2025-03-21 22:51:15,597 - 开始计算最优模型权重...
2025-03-21 22:51:15,597 - 
--------------------------------------------------
【计算模型权重】
--------------------------------------------------
2025-03-21 22:51:15,646 - 加载最佳模型和对应的scaler...
2025-03-21 22:51:15,646 - ✅ 已加载 GBDT 模型和scaler
2025-03-21 22:51:15,646 - ✅ 已加载 DART 模型和scaler
2025-03-21 22:51:15,646 - ✅ 已加载 GOSS 模型和scaler
2025-03-21 22:51:15,646 - 预处理验证数据，共 289 条记录...
2025-03-21 22:51:15,650 - 验证数据预处理完成，特征维度: (289, 304)
2025-03-21 22:51:15,734 - 验证数据特征工程完成，特征维度: (286, 859)
2025-03-21 22:51:15,734 - 使用各模型进行预测...
2025-03-21 22:51:15,748 - 使用 GBDT 模型预测...
2025-03-21 22:51:15,819 - ✅ GBDT 模型预测完成，预测结果数量: 271
2025-03-21 22:51:15,834 - 使用 DART 模型预测...
2025-03-21 22:51:15,903 - ✅ DART 模型预测完成，预测结果数量: 271
2025-03-21 22:51:15,921 - 使用 GOSS 模型预测...
2025-03-21 22:51:15,990 - ✅ GOSS 模型预测完成，预测结果数量: 271
2025-03-21 22:51:15,990 - 对齐预测结果，使用最小长度: 271
2025-03-21 22:51:15,990 - 创建线性回归的特征矩阵 (271, 3) 和目标向量 (271,)
2025-03-21 22:51:15,990 - 训练线性回归模型计算最优权重...
2025-03-21 22:51:15,992 - 线性回归得到的权重: {'GBDT': np.float64(0.0), 'DART': np.float64(0.0), 'GOSS': np.float64(0.7556228434738881), 'INTERCEPT': np.float64(54.051189252622265)}
2025-03-21 22:51:15,992 - 最终计算的模型权重: {'GBDT': np.float64(0.0), 'DART': np.float64(0.0), 'GOSS': np.float64(0.7556228434738881), 'INTERCEPT': np.float64(54.051189252622265)}
2025-03-21 22:51:15,995 - 计算得到的最优权重: {'GBDT': np.float64(0.0), 'DART': np.float64(0.0), 'GOSS': np.float64(0.7556228434738881), 'INTERCEPT': np.float64(54.051189252622265)}
2025-03-21 22:51:15,996 - 模型权重已保存到: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\model_weights.joblib
2025-03-21 22:51:16,029 - ✅ 训练完成，已创建标志文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\20250321_train_done.flag
2025-03-21 22:51:16,030 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 22:51:16,030 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 22:51:16,030 - 发现GBDT模型文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models\GBDT.joblib
2025-03-21 22:51:16,030 - ✅ 模型已成功保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321，模型可用。
2025-03-21 22:51:33,658 - ✅ 发现新的预测文件：D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv\20250321.csv，执行预测...
2025-03-21 22:51:33,658 - 
============================================================
【风电功率预测开始】
============================================================
2025-03-21 22:51:33,658 - 配置信息:
2025-03-21 22:51:33,659 -   - 数据文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv\20250321.csv
2025-03-21 22:51:33,659 -   - 模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321
2025-03-21 22:51:33,659 -   - 窗口大小: 16
2025-03-21 22:51:33,659 -   - 滞后特征数: 4
2025-03-21 22:51:33,659 - 
============================================================
【预处理新数据】
============================================================
2025-03-21 22:51:33,659 - 加载数据文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv\20250321.csv
2025-03-21 22:51:33,677 - 数据加载完成，去除缺失值后共 111 条记录
2025-03-21 22:51:33,823 - 数据前5行预览:
         Timestamp    129.128_1    129.128_2  ...  ws200_13   ws200_14   ws200_15
0  2024/4/16 19:30  15974.26563  16293.82813  ...  9.588719  10.699799  12.128573
1  2024/4/16 19:45  15974.26563  16293.82813  ...  9.553943  10.777429  12.265793
2  2024/4/16 20:00  15974.26563  16293.82813  ...  9.541195  10.863499  12.404554
3  2024/4/16 20:15  15974.26563  16293.82813  ...  9.280917  10.585079  12.259521
4  2024/4/16 20:30  15974.26563  16293.82813  ...  9.020693  10.307371  12.115601

[5 rows x 301 columns]
2025-03-21 22:51:33,824 - 预处理数据...
2025-03-21 22:51:33,827 - 预处理完成，特征维度: (111, 304)
2025-03-21 22:51:33,827 - 执行特征工程，滞后特征数: 4...
2025-03-21 22:51:33,905 - 特征工程完成，特征维度: (108, 859)
2025-03-21 22:51:33,906 - 新数据预处理完成，共 108 个样本
2025-03-21 22:51:33,906 - ✅ 发现最佳模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models，尝试使用多模型加权预测
2025-03-21 22:51:33,907 - 
============================================================
【加载多个模型】
============================================================
2025-03-21 22:51:33,907 - 从目录加载模型和 scaler: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\best_models
2025-03-21 22:51:33,907 - 加载 GBDT 模型和 scaler...
2025-03-21 22:51:33,924 - ✅ 已成功加载 GBDT 模型和对应的 scaler
2025-03-21 22:51:33,925 - 加载 DART 模型和 scaler...
2025-03-21 22:51:33,939 - ✅ 已成功加载 DART 模型和对应的 scaler
2025-03-21 22:51:33,939 - 加载 GOSS 模型和 scaler...
2025-03-21 22:51:33,951 - ✅ 已成功加载 GOSS 模型和对应的 scaler
2025-03-21 22:51:33,952 - 加载完成，共加载了 3 个模型: GBDT, DART, GOSS
2025-03-21 22:51:33,952 - 尝试加载模型权重文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250321\model_weights.joblib
2025-03-21 22:51:33,952 - ✅ 已加载模型权重: {'GBDT': np.float64(0.0), 'DART': np.float64(0.0), 'GOSS': np.float64(0.7556228434738881), 'INTERCEPT': np.float64(54.051189252622265)}
2025-03-21 22:51:33,952 - 
============================================================
【使用多模型加权预测】
============================================================
2025-03-21 22:51:33,952 - 使用自定义权重: {'GBDT': np.float64(0.0), 'DART': np.float64(0.0), 'GOSS': np.float64(0.7556228434738881), 'INTERCEPT': np.float64(54.051189252622265)}
2025-03-21 22:51:33,952 - ❌ GBDT 模型权重为0，跳过
2025-03-21 22:51:33,953 - ❌ DART 模型权重为0，跳过
2025-03-21 22:51:33,953 - 使用 GOSS 模型进行预测 (权重: 0.7556)...
2025-03-21 22:51:33,959 - GOSS: 数据标准化完成
2025-03-21 22:51:33,961 - GOSS: 时间窗口创建完成，窗口数量: 93
2025-03-21 22:51:33,987 - ✅ GOSS 模型预测完成，生成了 93 个预测值
2025-03-21 22:51:33,987 -    统计: 最小值=203.84, 最大值=267.76, 平均值=242.42
2025-03-21 22:51:33,987 - 所有预测结果对齐到最小长度: 93
2025-03-21 22:51:33,987 - 开始计算加权平均预测结果...
2025-03-21 22:51:33,987 -   加入 GOSS 模型贡献 (权重: 0.7556)
2025-03-21 22:51:33,987 -   加入常数偏置项 (值: 54.0512)
2025-03-21 22:51:33,987 - 加权平均预测完成，生成了 93 个预测值
2025-03-21 22:51:33,988 - 加权预测结果统计: 最小值=208.08, 最大值=256.37, 平均值=237.23
2025-03-21 22:51:33,988 - ✅ 多模型加权预测完成，使用模型: GBDT, DART, GOSS
2025-03-21 22:51:33,989 - 
============================================================
【保存预测结果】
============================================================
2025-03-21 22:51:33,990 - 创建输出目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\results\shortresult\20250321
2025-03-21 22:51:33,990 - 预测结果数据框创建完成，共 93 行
2025-03-21 22:51:33,993 - ✅ 预测结果已保存到文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\results\shortresult\20250321\20250321.csv
2025-03-21 22:51:33,994 - 尝试将预测结果导入数据库...
2025-03-21 22:51:33,994 - 发送HTTP请求到: http://localhost:5000/prediction2database/batch_shortl_power
2025-03-21 22:51:36,164 - ✅ 数据已成功导入数据库
2025-03-21 22:51:36,164 -    总记录数: 93, 更新: 93, 插入: 0
2025-03-21 22:51:36,164 - ✅ 预测结果已保存到: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\results\shortresult\20250321\20250321.csv
2025-03-21 22:51:36,165 - ✅ 创建预测完成标志文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\results\shortresult\20250321\20250321_predict_done.flag
2025-03-21 22:51:36,165 - 
============================================================
【风电功率预测完成】
============================================================
2025-03-21 22:51:36,165 - 风电功率预测完成
2025-03-21 22:51:36,172 - ✅ 预测执行完成
2025-03-21 22:51:36,173 - 
================================================================================
2025-03-21 22:51:36,173 - >>> 系统任务完成 <<<
2025-03-21 22:51:36,173 - ================================================================================

2025-03-21 22:51:36,173 - 系统任务完成
2025-03-21 22:51:36,173 - 今天的训练和预测任务已完成。
