2025-03-22 09:01:28,183 - 
================================================================================
2025-03-22 09:01:28,183 - >>> 自动训练预测系统启动 <<<
2025-03-22 09:01:28,183 - ================================================================================

2025-03-22 09:01:28,183 - 自动训练预测系统启动
2025-03-22 09:01:28,183 - 今天的日期是: 20250322
2025-03-22 09:01:28,183 - 创建监视线程...
2025-03-22 09:01:28,184 - 启动训练线程...
2025-03-22 09:01:28,184 - 启动预测线程...
2025-03-22 09:01:28,184 - 
================================================================================
2025-03-22 09:01:28,184 - >>> 启动训练监视线程 <<<
2025-03-22 09:01:28,184 - 等待线程完成...
2025-03-22 09:01:28,184 - 
================================================================================
2025-03-22 09:01:28,185 - ================================================================================

2025-03-22 09:01:28,185 - >>> 启动预测监视线程 <<<
2025-03-22 09:01:28,185 - 启动训练监视线程
2025-03-22 09:01:28,185 - ================================================================================

2025-03-22 09:01:28,185 - 启动预测监视线程
2025-03-22 09:01:28,185 - 训练文件路径: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short\20250322.csv
2025-03-22 09:01:28,185 - 预测数据文件路径: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv\20250322.csv
2025-03-22 09:01:28,185 - 模型存储目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322
2025-03-22 09:01:28,185 - 模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322
2025-03-22 09:01:28,185 - 训练完成标志文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\20250322_train_done.flag
2025-03-22 09:01:28,186 - 预测完成标志文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\results\shortresult\20250322\20250322_predict_done.flag
2025-03-22 09:01:28,186 - 开始监视 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short 文件夹以进行训练...
2025-03-22 09:01:28,186 - 开始监视 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv 文件夹以进行预测...
2025-03-22 09:01:28,186 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322
2025-03-22 09:01:28,186 - ✅ 发现新的训练文件：D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short\20250322.csv，执行训练...
2025-03-22 09:01:28,186 - 未找到best_models目录，检查传统模型文件
2025-03-22 09:01:28,186 - 
================================================================================
2025-03-22 09:01:28,186 - 未找到任何可用模型文件
2025-03-22 09:01:28,186 - >>> 开始模型训练 <<<
2025-03-22 09:01:28,186 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-22 09:01:28,186 - ================================================================================

2025-03-22 09:01:28,187 - 配置信息:
2025-03-22 09:01:28,187 -   - 窗口大小: 16
2025-03-22 09:01:28,187 -   - 滞后特征数: 4
2025-03-22 09:01:28,187 -   - 训练集比例: 0.9
2025-03-22 09:01:28,187 -   - 输出目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\train_predictions\short_predictions
2025-03-22 09:01:28,187 -   - 模型存储路径: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322
2025-03-22 09:01:28,187 - 输出结果将保存到: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\train_predictions\short_predictions
2025-03-22 09:01:28,187 - 
================================================================================
2025-03-22 09:01:28,187 - >>> 数据加载与预处理 <<<
2025-03-22 09:01:28,187 - ================================================================================

2025-03-22 09:01:28,187 - 加载数据文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short\20250322.csv
2025-03-22 09:01:28,187 - 开始加载和预处理数据...
2025-03-22 09:01:28,299 - 数据加载完成，共 2973 条记录
2025-03-22 09:01:28,320 - 数据前5行预览: 
        Timestamp    129.128_1    129.128_2  ...  ws200_15  wp_true    ws_all
0  2024/3/18 0:00  15974.26563  16293.82813  ...  9.731182   227.36  8.047185
1  2024/3/18 0:15  15974.26563  16293.82813  ...  9.603328   247.36  8.295189
2  2024/3/18 0:30  15974.26563  16293.82813  ...  9.476844   255.30  8.392767
3  2024/3/18 0:45  15974.26563  16293.82813  ...  9.351785   267.26  8.539846
4  2024/3/18 1:00  15974.26563  16293.82813  ...  9.228210   279.18  8.687130

[5 rows x 303 columns]
2025-03-22 09:01:28,323 - 数据集时间范围: 2024-03-18 至 2024-04-17, 共 1 个月
2025-03-22 09:01:28,323 - 根据数据集实际时间范围(1个月)，优化months_list: [1, 3, 6, 9, 12, None] -> [1, None]
2025-03-22 09:01:28,323 - 将使用以下时间段训练模型: [1, None]
2025-03-22 09:01:28,323 - 
================================================================================
2025-03-22 09:01:28,323 - >>> 开始多数据集训练 <<<
2025-03-22 09:01:28,323 - ================================================================================

2025-03-22 09:01:28,323 - 将使用多种时间跨度的数据训练模型...
2025-03-22 09:01:28,324 - 
--------------------------------------------------
【使用多个数据集训练模型】
--------------------------------------------------
2025-03-22 09:01:28,324 - 最佳模型将保存到: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\best_models
2025-03-22 09:01:28,324 - 获取统一参数成功，包含 3 种模型类型
2025-03-22 09:01:28,324 - 
--------------------------------------------------
【训练数据集: 1个月】
--------------------------------------------------
2025-03-22 09:01:28,324 - 使用1个月的数据进行训练...
2025-03-22 09:01:28,324 - 过滤数据为最近1个月...
2025-03-22 09:01:28,326 - 过滤后的数据量: 2973
2025-03-22 09:01:28,326 - 对1个月数据进行预处理...
2025-03-22 09:01:28,330 - 预处理后的特征维度: (2973, 304), 目标变量维度: (2973,)
2025-03-22 09:01:28,330 - 数据集划分完成，训练集: (2675, 304), 验证集: (298, 304)
2025-03-22 09:01:28,330 - 提取了 298 个验证集时间戳，用于时间加权评估
2025-03-22 09:01:28,330 - 执行特征工程，滞后特征数: 4...
2025-03-22 09:01:28,383 - 特征工程后的特征维度 - 训练集: (2672, 859), 验证集: (295, 859)
2025-03-22 09:01:28,383 - 数据标准化...
2025-03-22 09:01:28,416 - 数据标准化完成
2025-03-22 09:01:28,416 - 创建时间窗口，窗口大小: 16...
2025-03-22 09:01:28,468 - 时间窗口创建完成 - 训练集: (2657, 16, 859), 验证集: (280, 16, 859)
2025-03-22 09:01:28,468 - 调整时间戳长度以匹配窗口化后的验证集 - 原始长度: 298, 目标长度: 280
2025-03-22 09:01:28,468 - 时间戳已截断至匹配窗口化后的验证集长度: 280
2025-03-22 09:01:28,469 - 为1个月数据创建模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\1months
2025-03-22 09:01:28,469 - 开始训练1个月数据的模型...
2025-03-22 09:01:28,469 - 
--------------------------------------------------
【开始模型训练与评估】
--------------------------------------------------
2025-03-22 09:01:28,469 - 模型和 scaler 将被保存到目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\1months
2025-03-22 09:01:28,469 - 
--------------------------------------------------
【训练 GBDT 模型】
--------------------------------------------------
2025-03-22 09:01:28,469 - 模型参数: {'boosting_type': 'gbdt', 'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'name': 'GBDT'}
2025-03-22 09:01:28,469 - 开始训练 GBDT 模型...
2025-03-22 09:01:44,524 - GBDT 模型训练完成
2025-03-22 09:01:44,524 - 使用 GBDT 模型预测验证集...
2025-03-22 09:01:44,531 - 使用时间加权方式计算模型评分...
2025-03-22 09:01:44,534 - GBDT 评估结果 - RMSE: 67.1426, K: 0.4608, 加权评分: 0.6513
2025-03-22 09:01:44,534 - ✅ GBDT 成为当前最佳模型 (基于加权评分)
2025-03-22 09:01:44,541 - GBDT 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\1months\GBDT.joblib
2025-03-22 09:01:44,541 - 
--------------------------------------------------
【训练 DART 模型】
--------------------------------------------------
2025-03-22 09:01:44,541 - 模型参数: {'boosting_type': 'dart', 'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'drop_rate': 0.1, 'name': 'DART'}
2025-03-22 09:01:44,541 - 开始训练 DART 模型...
2025-03-22 09:01:58,195 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322
2025-03-22 09:01:58,195 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\best_models
2025-03-22 09:01:58,196 - 未找到GBDT模型文件
2025-03-22 09:01:58,196 - 未找到DART模型文件
2025-03-22 09:01:58,196 - 未找到GOSS模型文件
2025-03-22 09:01:58,196 - 未找到任何可用模型文件
2025-03-22 09:01:58,197 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-22 09:02:00,553 - DART 模型训练完成
2025-03-22 09:02:00,553 - 使用 DART 模型预测验证集...
2025-03-22 09:02:00,560 - 使用时间加权方式计算模型评分...
2025-03-22 09:02:00,564 - DART 评估结果 - RMSE: 62.3280, K: 0.6255, 加权评分: 0.7416
2025-03-22 09:02:00,564 - ✅ DART 成为当前最佳模型 (基于加权评分)
2025-03-22 09:02:00,576 - DART 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\1months\DART.joblib
2025-03-22 09:02:00,576 - 
--------------------------------------------------
【训练 GOSS 模型】
--------------------------------------------------
2025-03-22 09:02:00,576 - 模型参数: {'boosting_type': 'goss', 'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'top_rate': 0.2, 'other_rate': 0.1, 'name': 'GOSS'}
2025-03-22 09:02:00,577 - 开始训练 GOSS 模型...
2025-03-22 09:02:13,318 - GOSS 模型训练完成
2025-03-22 09:02:13,318 - 使用 GOSS 模型预测验证集...
2025-03-22 09:02:13,324 - 使用时间加权方式计算模型评分...
2025-03-22 09:02:13,325 - GOSS 评估结果 - RMSE: 68.3105, K: 0.4494, 加权评分: 0.6442
2025-03-22 09:02:13,337 - GOSS 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\1months\GOSS.joblib
2025-03-22 09:02:13,339 - Scaler 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\1months\scaler.joblib
2025-03-22 09:02:13,346 - 最佳模型 'DART' 已额外保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\1months\model.joblib
2025-03-22 09:02:13,346 - 1个月数据的模型训练完成
2025-03-22 09:02:13,346 - 
--------------------------------------------------
【更新每种算法的最佳模型】
--------------------------------------------------
2025-03-22 09:02:13,346 - ✅ 发现更好的GBDT模型 (来自1个月数据)
2025-03-22 09:02:13,347 -    新评分: 0.6513, 旧评分: -inf
2025-03-22 09:02:13,347 - ✅ 发现更好的DART模型 (来自1个月数据)
2025-03-22 09:02:13,347 -    新评分: 0.7416, 旧评分: -inf
2025-03-22 09:02:13,347 - ✅ 发现更好的GOSS模型 (来自1个月数据)
2025-03-22 09:02:13,347 -    新评分: 0.6442, 旧评分: -inf
2025-03-22 09:02:13,347 - 
--------------------------------------------------
【训练数据集: 全部数据】
--------------------------------------------------
2025-03-22 09:02:13,347 - 使用全部数据的数据进行训练...
2025-03-22 09:02:13,347 - 使用全部数据...
2025-03-22 09:02:13,349 - 过滤后的数据量: 2973
2025-03-22 09:02:13,349 - 对全部数据数据进行预处理...
2025-03-22 09:02:13,355 - 预处理后的特征维度: (2973, 304), 目标变量维度: (2973,)
2025-03-22 09:02:13,356 - 数据集划分完成，训练集: (2675, 304), 验证集: (298, 304)
2025-03-22 09:02:13,356 - 提取了 298 个验证集时间戳，用于时间加权评估
2025-03-22 09:02:13,356 - 执行特征工程，滞后特征数: 4...
2025-03-22 09:02:13,460 - 特征工程后的特征维度 - 训练集: (2672, 859), 验证集: (295, 859)
2025-03-22 09:02:13,460 - 数据标准化...
2025-03-22 09:02:13,489 - 数据标准化完成
2025-03-22 09:02:13,489 - 创建时间窗口，窗口大小: 16...
2025-03-22 09:02:13,543 - 时间窗口创建完成 - 训练集: (2657, 16, 859), 验证集: (280, 16, 859)
2025-03-22 09:02:13,543 - 调整时间戳长度以匹配窗口化后的验证集 - 原始长度: 298, 目标长度: 280
2025-03-22 09:02:13,543 - 时间戳已截断至匹配窗口化后的验证集长度: 280
2025-03-22 09:02:13,544 - 为全部数据数据创建模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\all_data
2025-03-22 09:02:13,544 - 开始训练全部数据数据的模型...
2025-03-22 09:02:13,544 - 
--------------------------------------------------
【开始模型训练与评估】
--------------------------------------------------
2025-03-22 09:02:13,544 - 模型和 scaler 将被保存到目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\all_data
2025-03-22 09:02:13,544 - 
--------------------------------------------------
【训练 GBDT 模型】
--------------------------------------------------
2025-03-22 09:02:13,544 - 模型参数: {'boosting_type': 'gbdt', 'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'name': 'GBDT'}
2025-03-22 09:02:13,544 - 开始训练 GBDT 模型...
2025-03-22 09:02:28,200 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322
2025-03-22 09:02:28,200 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\best_models
2025-03-22 09:02:28,200 - 未找到GBDT模型文件
2025-03-22 09:02:28,200 - 未找到DART模型文件
2025-03-22 09:02:28,201 - 未找到GOSS模型文件
2025-03-22 09:02:28,201 - 未找到任何可用模型文件
2025-03-22 09:02:28,201 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-22 09:02:29,908 - GBDT 模型训练完成
2025-03-22 09:02:29,908 - 使用 GBDT 模型预测验证集...
2025-03-22 09:02:29,917 - 使用时间加权方式计算模型评分...
2025-03-22 09:02:29,918 - GBDT 评估结果 - RMSE: 67.1426, K: 0.4608, 加权评分: 0.6513
2025-03-22 09:02:29,918 - ✅ GBDT 成为当前最佳模型 (基于加权评分)
2025-03-22 09:02:29,929 - GBDT 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\all_data\GBDT.joblib
2025-03-22 09:02:29,930 - 
--------------------------------------------------
【训练 DART 模型】
--------------------------------------------------
2025-03-22 09:02:29,930 - 模型参数: {'boosting_type': 'dart', 'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'drop_rate': 0.1, 'name': 'DART'}
2025-03-22 09:02:29,930 - 开始训练 DART 模型...
2025-03-22 09:02:46,223 - DART 模型训练完成
2025-03-22 09:02:46,223 - 使用 DART 模型预测验证集...
2025-03-22 09:02:46,231 - 使用时间加权方式计算模型评分...
2025-03-22 09:02:46,232 - DART 评估结果 - RMSE: 62.3280, K: 0.6255, 加权评分: 0.7416
2025-03-22 09:02:46,232 - ✅ DART 成为当前最佳模型 (基于加权评分)
2025-03-22 09:02:46,245 - DART 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\all_data\DART.joblib
2025-03-22 09:02:46,245 - 
--------------------------------------------------
【训练 GOSS 模型】
--------------------------------------------------
2025-03-22 09:02:46,246 - 模型参数: {'boosting_type': 'goss', 'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'top_rate': 0.2, 'other_rate': 0.1, 'name': 'GOSS'}
2025-03-22 09:02:46,246 - 开始训练 GOSS 模型...
2025-03-22 09:02:58,215 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322
2025-03-22 09:02:58,215 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\best_models
2025-03-22 09:02:58,216 - 未找到GBDT模型文件
2025-03-22 09:02:58,216 - 未找到DART模型文件
2025-03-22 09:02:58,216 - 未找到GOSS模型文件
2025-03-22 09:02:58,217 - 未找到任何可用模型文件
2025-03-22 09:02:58,217 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-22 09:02:59,172 - GOSS 模型训练完成
2025-03-22 09:02:59,172 - 使用 GOSS 模型预测验证集...
2025-03-22 09:02:59,181 - 使用时间加权方式计算模型评分...
2025-03-22 09:02:59,184 - GOSS 评估结果 - RMSE: 68.3105, K: 0.4494, 加权评分: 0.6442
2025-03-22 09:02:59,200 - GOSS 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\all_data\GOSS.joblib
2025-03-22 09:02:59,202 - Scaler 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\all_data\scaler.joblib
2025-03-22 09:02:59,210 - 最佳模型 'DART' 已额外保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\all_data\model.joblib
2025-03-22 09:02:59,210 - 全部数据数据的模型训练完成
2025-03-22 09:02:59,210 - 
--------------------------------------------------
【更新每种算法的最佳模型】
--------------------------------------------------
2025-03-22 09:02:59,210 - ❌ 全部数据数据的GBDT模型不是最佳模型
2025-03-22 09:02:59,210 -    当前评分: 0.6513, 最佳评分: 0.6513
2025-03-22 09:02:59,210 - ❌ 全部数据数据的DART模型不是最佳模型
2025-03-22 09:02:59,210 -    当前评分: 0.7416, 最佳评分: 0.7416
2025-03-22 09:02:59,211 - ❌ 全部数据数据的GOSS模型不是最佳模型
2025-03-22 09:02:59,211 -    当前评分: 0.6442, 最佳评分: 0.6442
2025-03-22 09:02:59,211 - 
--------------------------------------------------
【保存每种算法的最佳模型】
--------------------------------------------------
2025-03-22 09:02:59,220 - 最佳GBDT模型 (使用1个月数据) 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\best_models\GBDT.joblib
2025-03-22 09:02:59,221 - RMSE: 67.1426, K: 0.4608, 评分: 0.6513
2025-03-22 09:02:59,229 - 最佳DART模型 (使用1个月数据) 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\best_models\DART.joblib
2025-03-22 09:02:59,229 - RMSE: 62.3280, K: 0.6255, 评分: 0.7416
2025-03-22 09:02:59,242 - 最佳GOSS模型 (使用1个月数据) 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\best_models\GOSS.joblib
2025-03-22 09:02:59,242 - RMSE: 68.3105, K: 0.4494, 评分: 0.6442
2025-03-22 09:02:59,252 - 多数据集训练完成! 已为每种算法选择最佳模型
2025-03-22 09:02:59,252 -   - 最佳GBDT模型: 使用1个月数据, RMSE=67.1426, K=0.4608, 评分=0.6513
2025-03-22 09:02:59,252 -   - 最佳DART模型: 使用1个月数据, RMSE=62.3280, K=0.6255, 评分=0.7416
2025-03-22 09:02:59,252 -   - 最佳GOSS模型: 使用1个月数据, RMSE=68.3105, K=0.4494, 评分=0.6442
2025-03-22 09:02:59,252 - 
================================================================================
2025-03-22 09:02:59,253 - >>> 开始计算模型权重 <<<
2025-03-22 09:02:59,253 - ================================================================================

2025-03-22 09:02:59,253 - 开始计算模型权重
2025-03-22 09:02:59,253 - 从训练数据集中提取最后三天数据进行权重优化
2025-03-22 09:02:59,254 - ✅ 已从训练数据集提取最后三天数据，共 289 条记录
2025-03-22 09:02:59,254 - 开始计算最优模型权重...
2025-03-22 09:02:59,254 - 
--------------------------------------------------
【计算模型权重】
--------------------------------------------------
2025-03-22 09:02:59,300 - 加载最佳模型和对应的scaler...
2025-03-22 09:02:59,300 - ✅ 已加载 GBDT 模型和scaler
2025-03-22 09:02:59,300 - ✅ 已加载 DART 模型和scaler
2025-03-22 09:02:59,300 - ✅ 已加载 GOSS 模型和scaler
2025-03-22 09:02:59,300 - 预处理验证数据，共 289 条记录...
2025-03-22 09:02:59,304 - 验证数据预处理完成，特征维度: (289, 304)
2025-03-22 09:02:59,345 - 验证数据特征工程完成，特征维度: (286, 859)
2025-03-22 09:02:59,345 - 使用各模型进行预测...
2025-03-22 09:02:59,352 - 使用 GBDT 模型预测...
2025-03-22 09:02:59,359 - ✅ GBDT 模型预测完成，预测结果数量: 271
2025-03-22 09:02:59,368 - 使用 DART 模型预测...
2025-03-22 09:02:59,375 - ✅ DART 模型预测完成，预测结果数量: 271
2025-03-22 09:02:59,385 - 使用 GOSS 模型预测...
2025-03-22 09:02:59,392 - ✅ GOSS 模型预测完成，预测结果数量: 271
2025-03-22 09:02:59,393 - 对齐预测结果，使用最小长度: 271
2025-03-22 09:02:59,393 - 创建线性回归的特征矩阵 (271, 3) 和目标向量 (271,)
2025-03-22 09:02:59,393 - 训练线性回归模型计算最优权重...
2025-03-22 09:02:59,401 - 线性回归得到的权重: {'GBDT': np.float64(0.3378826776996291), 'DART': np.float64(0.18465658902121768), 'GOSS': np.float64(0.0), 'INTERCEPT': np.float64(98.07836551790079)}
2025-03-22 09:02:59,401 - 最终计算的模型权重: {'GBDT': np.float64(0.3378826776996291), 'DART': np.float64(0.18465658902121768), 'GOSS': np.float64(0.0), 'INTERCEPT': np.float64(98.07836551790079)}
2025-03-22 09:02:59,402 - 计算得到的最优权重: {'GBDT': np.float64(0.3378826776996291), 'DART': np.float64(0.18465658902121768), 'GOSS': np.float64(0.0), 'INTERCEPT': np.float64(98.07836551790079)}
2025-03-22 09:02:59,403 - 模型权重已保存到: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\model_weights.joblib
2025-03-22 09:02:59,412 - ✅ 训练完成，已创建标志文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\20250322_train_done.flag
2025-03-22 09:02:59,412 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322
2025-03-22 09:02:59,412 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\best_models
2025-03-22 09:02:59,412 - 发现GBDT模型文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\best_models\GBDT.joblib
2025-03-22 09:02:59,412 - ✅ 模型已成功保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322，模型可用。
2025-03-22 09:03:28,233 - ✅ 发现新的预测文件：D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv\20250322.csv，执行预测...
2025-03-22 09:03:28,234 - 
============================================================
【风电功率预测开始】
============================================================
2025-03-22 09:03:28,234 - 配置信息:
2025-03-22 09:03:28,235 -   - 数据文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv\20250322.csv
2025-03-22 09:03:28,235 -   - 模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322
2025-03-22 09:03:28,236 -   - 窗口大小: 16
2025-03-22 09:03:28,236 -   - 滞后特征数: 4
2025-03-22 09:03:28,237 - 
============================================================
【预处理新数据】
============================================================
2025-03-22 09:03:28,237 - 加载数据文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv\20250322.csv
2025-03-22 09:03:28,251 - 数据加载完成，去除缺失值后共 111 条记录
2025-03-22 09:03:28,318 - 数据前5行预览:
         Timestamp    129.128_1    129.128_2  ...  ws200_13   ws200_14   ws200_15
0  2024/4/16 19:30  15974.26563  16293.82813  ...  9.588719  10.699799  12.128573
1  2024/4/16 19:45  15974.26563  16293.82813  ...  9.553943  10.777429  12.265793
2  2024/4/16 20:00  15974.26563  16293.82813  ...  9.541195  10.863499  12.404554
3  2024/4/16 20:15  15974.26563  16293.82813  ...  9.280917  10.585079  12.259521
4  2024/4/16 20:30  15974.26563  16293.82813  ...  9.020693  10.307371  12.115601

[5 rows x 301 columns]
2025-03-22 09:03:28,318 - 预处理数据...
2025-03-22 09:03:28,321 - 预处理完成，特征维度: (111, 304)
2025-03-22 09:03:28,321 - 执行特征工程，滞后特征数: 4...
2025-03-22 09:03:28,374 - 特征工程完成，特征维度: (108, 859)
2025-03-22 09:03:28,374 - 新数据预处理完成，共 108 个样本
2025-03-22 09:03:28,375 - ✅ 发现最佳模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\best_models，尝试使用多模型加权预测
2025-03-22 09:03:28,375 - 
============================================================
【加载多个模型】
============================================================
2025-03-22 09:03:28,375 - 从目录加载模型和 scaler: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\best_models
2025-03-22 09:03:28,375 - 加载 GBDT 模型和 scaler...
2025-03-22 09:03:28,382 - ✅ 已成功加载 GBDT 模型和对应的 scaler
2025-03-22 09:03:28,383 - 加载 DART 模型和 scaler...
2025-03-22 09:03:28,388 - ✅ 已成功加载 DART 模型和对应的 scaler
2025-03-22 09:03:28,388 - 加载 GOSS 模型和 scaler...
2025-03-22 09:03:28,396 - ✅ 已成功加载 GOSS 模型和对应的 scaler
2025-03-22 09:03:28,397 - 加载完成，共加载了 3 个模型: GBDT, DART, GOSS
2025-03-22 09:03:28,397 - 尝试加载模型权重文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\model_weights.joblib
2025-03-22 09:03:28,397 - ✅ 已加载模型权重: {'GBDT': np.float64(0.3378826776996291), 'DART': np.float64(0.18465658902121768), 'GOSS': np.float64(0.0), 'INTERCEPT': np.float64(98.07836551790079)}
2025-03-22 09:03:28,397 - 
============================================================
【使用多模型加权预测】
============================================================
2025-03-22 09:03:28,397 - 使用自定义权重: {'GBDT': np.float64(0.3378826776996291), 'DART': np.float64(0.18465658902121768), 'GOSS': np.float64(0.0), 'INTERCEPT': np.float64(98.07836551790079)}
2025-03-22 09:03:28,398 - 使用 GBDT 模型进行预测 (权重: 0.3379)...
2025-03-22 09:03:28,402 - GBDT: 数据标准化完成
2025-03-22 09:03:28,405 - GBDT: 时间窗口创建完成，窗口数量: 93
2025-03-22 09:03:28,410 - ✅ GBDT 模型预测完成，生成了 93 个预测值
2025-03-22 09:03:28,410 -    统计: 最小值=201.69, 最大值=273.76, 平均值=250.31
2025-03-22 09:03:28,410 - 使用 DART 模型进行预测 (权重: 0.1847)...
2025-03-22 09:03:28,415 - DART: 数据标准化完成
2025-03-22 09:03:28,417 - DART: 时间窗口创建完成，窗口数量: 93
2025-03-22 09:03:28,421 - ✅ DART 模型预测完成，生成了 93 个预测值
2025-03-22 09:03:28,421 -    统计: 最小值=160.99, 最大值=218.68, 平均值=199.97
2025-03-22 09:03:28,421 - ❌ GOSS 模型权重为0，跳过
2025-03-22 09:03:28,421 - 所有预测结果对齐到最小长度: 93
2025-03-22 09:03:28,421 - 开始计算加权平均预测结果...
2025-03-22 09:03:28,421 -   加入 GBDT 模型贡献 (权重: 0.3379)
2025-03-22 09:03:28,421 -   加入 DART 模型贡献 (权重: 0.1847)
2025-03-22 09:03:28,421 -   加入常数偏置项 (值: 98.0784)
2025-03-22 09:03:28,421 - 加权平均预测完成，生成了 93 个预测值
2025-03-22 09:03:28,421 - 加权预测结果统计: 最小值=195.95, 最大值=230.83, 平均值=219.58
2025-03-22 09:03:28,422 - ✅ 多模型加权预测完成，使用模型: GBDT, DART, GOSS
2025-03-22 09:03:28,422 - 
============================================================
【保存预测结果】
============================================================
2025-03-22 09:03:28,423 - 创建输出目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\results\shortresult\20250322
2025-03-22 09:03:28,423 - 预测结果数据框创建完成，共 93 行
2025-03-22 09:03:28,426 - ✅ 预测结果已保存到文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\results\shortresult\20250322\20250322.csv
2025-03-22 09:03:28,426 - 尝试将预测结果导入数据库...
2025-03-22 09:03:28,426 - 发送HTTP请求到: http://localhost:5000/prediction2database/batch_shortl_power
2025-03-22 09:03:30,632 - ✅ 数据已成功导入数据库
2025-03-22 09:03:30,632 -    总记录数: 93, 更新: 93, 插入: 0
2025-03-22 09:03:30,632 - ✅ 预测结果已保存到: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\results\shortresult\20250322\20250322.csv
2025-03-22 09:03:30,632 - ✅ 创建预测完成标志文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\results\shortresult\20250322\20250322_predict_done.flag
2025-03-22 09:03:30,632 - 
============================================================
【风电功率预测完成】
============================================================
2025-03-22 09:03:30,632 - 风电功率预测完成
2025-03-22 09:03:30,634 - ✅ 预测执行完成
2025-03-22 09:03:30,634 - 
================================================================================
2025-03-22 09:03:30,634 - >>> 系统任务完成 <<<
2025-03-22 09:03:30,634 - ================================================================================

2025-03-22 09:03:30,634 - 系统任务完成
2025-03-22 09:03:30,634 - 今天的训练和预测任务已完成。
2025-03-22 09:06:22,068 - 
================================================================================
2025-03-22 09:06:22,068 - >>> 自动训练预测系统启动 <<<
2025-03-22 09:06:22,068 - ================================================================================

2025-03-22 09:06:22,068 - 自动训练预测系统启动
2025-03-22 09:06:22,068 - 今天的日期是: 20250322
2025-03-22 09:06:22,068 - 创建监视线程...
2025-03-22 09:06:22,068 - 启动训练线程...
2025-03-22 09:06:22,069 - 启动预测线程...
2025-03-22 09:06:22,069 - 
================================================================================
2025-03-22 09:06:22,069 - >>> 启动训练监视线程 <<<
2025-03-22 09:06:22,069 - ================================================================================

2025-03-22 09:06:22,069 - 启动训练监视线程
2025-03-22 09:06:22,069 - 训练文件路径: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short\20250322.csv
2025-03-22 09:06:22,069 - 等待线程完成...
2025-03-22 09:06:22,069 - 模型存储目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322
2025-03-22 09:06:22,069 - 训练完成标志文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\20250322_train_done.flag
2025-03-22 09:06:22,069 - 
================================================================================
2025-03-22 09:06:22,069 - 开始监视 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short 文件夹以进行训练...
2025-03-22 09:06:22,070 - >>> 启动预测监视线程 <<<
2025-03-22 09:06:22,070 - ================================================================================

2025-03-22 09:06:22,070 - 启动预测监视线程
2025-03-22 09:06:22,070 - ⚠️ 检测到今天的训练已经执行过，跳过...
2025-03-22 09:06:22,070 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322
2025-03-22 09:06:22,070 - 预测数据文件路径: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv\20250322.csv
2025-03-22 09:06:22,070 - 模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322
2025-03-22 09:06:22,070 - 预测完成标志文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\results\shortresult\20250322\20250322_predict_done.flag
2025-03-22 09:06:22,070 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\best_models
2025-03-22 09:06:22,070 - 开始监视 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv 文件夹以进行预测...
2025-03-22 09:06:22,070 - 发现GBDT模型文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\best_models\GBDT.joblib
2025-03-22 09:06:22,071 - ✅ 模型已设置为可用状态
2025-03-22 09:06:22,071 - ⚠️ 检测到今天的预测已经执行过，跳过...
2025-03-22 09:06:22,071 - 
================================================================================
2025-03-22 09:06:22,071 - >>> 系统任务完成 <<<
2025-03-22 09:06:22,071 - ================================================================================

2025-03-22 09:06:22,071 - 系统任务完成
2025-03-22 09:06:22,071 - 今天的训练和预测任务已完成。
2025-03-22 09:21:22,008 - 
================================================================================
2025-03-22 09:21:22,008 - >>> 自动训练预测系统启动 <<<
2025-03-22 09:21:22,008 - ================================================================================

2025-03-22 09:21:22,008 - 自动训练预测系统启动
2025-03-22 09:21:22,008 - 今天的日期是: 20250322
2025-03-22 09:21:22,008 - 创建监视线程...
2025-03-22 09:21:22,008 - 启动训练线程...
2025-03-22 09:21:22,009 - 
================================================================================
2025-03-22 09:21:22,009 - >>> 启动训练监视线程 <<<
2025-03-22 09:21:22,009 - 启动预测线程...
2025-03-22 09:21:22,009 - ================================================================================

2025-03-22 09:21:22,009 - 等待线程完成...
2025-03-22 09:21:22,009 - 启动训练监视线程
2025-03-22 09:21:22,010 - 
================================================================================
2025-03-22 09:21:22,010 - >>> 启动预测监视线程 <<<
2025-03-22 09:21:22,010 - 训练文件路径: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short\20250322.csv
2025-03-22 09:21:22,010 - ================================================================================

2025-03-22 09:21:22,010 - 模型存储目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322
2025-03-22 09:21:22,010 - 启动预测监视线程
2025-03-22 09:21:22,010 - 训练完成标志文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\20250322_train_done.flag
2025-03-22 09:21:22,010 - 开始监视 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short 文件夹以进行训练...
2025-03-22 09:21:22,010 - 预测数据文件路径: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv\20250322.csv
2025-03-22 09:21:22,010 - 模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322
2025-03-22 09:21:22,010 - 预测完成标志文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\results\shortresult\20250322\20250322_predict_done.flag
2025-03-22 09:21:22,010 - ⚠️ 检测到今天的训练已经执行过，跳过...
2025-03-22 09:21:22,010 - 开始监视 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv 文件夹以进行预测...
2025-03-22 09:21:22,011 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322
2025-03-22 09:21:22,011 - ⚠️ 检测到今天的预测已经执行过，跳过...
2025-03-22 09:21:22,011 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\best_models
2025-03-22 09:21:22,011 - 发现GBDT模型文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\best_models\GBDT.joblib
2025-03-22 09:21:22,011 - ✅ 模型已设置为可用状态
2025-03-22 09:21:22,011 - 
================================================================================
2025-03-22 09:21:22,011 - >>> 系统任务完成 <<<
2025-03-22 09:21:22,011 - ================================================================================

2025-03-22 09:21:22,011 - 系统任务完成
2025-03-22 09:21:22,011 - 今天的训练和预测任务已完成。
2025-03-22 09:23:22,811 - 
================================================================================
2025-03-22 09:23:22,811 - >>> 自动训练预测系统启动 <<<
2025-03-22 09:23:22,811 - ================================================================================

2025-03-22 09:23:22,811 - 自动训练预测系统启动
2025-03-22 09:23:22,811 - 今天的日期是: 20250322
2025-03-22 09:23:22,811 - 创建监视线程...
2025-03-22 09:23:22,811 - 启动训练线程...
2025-03-22 09:23:22,812 - 启动预测线程...
2025-03-22 09:23:22,812 - 
================================================================================
2025-03-22 09:23:22,812 - >>> 启动训练监视线程 <<<
2025-03-22 09:23:22,812 - ================================================================================

2025-03-22 09:23:22,812 - 等待线程完成...
2025-03-22 09:23:22,812 - 
================================================================================
2025-03-22 09:23:22,812 - 启动训练监视线程
2025-03-22 09:23:22,812 - >>> 启动预测监视线程 <<<
2025-03-22 09:23:22,812 - ================================================================================

2025-03-22 09:23:22,812 - 训练文件路径: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short\20250322.csv
2025-03-22 09:23:22,813 - 启动预测监视线程
2025-03-22 09:23:22,813 - 模型存储目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322
2025-03-22 09:23:22,813 - 训练完成标志文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\20250322_train_done.flag
2025-03-22 09:23:22,813 - 预测数据文件路径: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv\20250322.csv
2025-03-22 09:23:22,813 - 开始监视 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short 文件夹以进行训练...
2025-03-22 09:23:22,813 - 模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322
2025-03-22 09:23:22,813 - 预测完成标志文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\results\shortresult\20250322\20250322_predict_done.flag
2025-03-22 09:23:22,813 - 开始监视 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv 文件夹以进行预测...
2025-03-22 09:23:22,813 - ⚠️ 检测到今天的训练已经执行过，跳过...
2025-03-22 09:23:22,813 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322
2025-03-22 09:23:22,813 - ⚠️ 检测到今天的预测已经执行过，跳过...
2025-03-22 09:23:22,813 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\best_models
2025-03-22 09:23:22,814 - 发现GBDT模型文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\best_models\GBDT.joblib
2025-03-22 09:23:22,814 - ✅ 模型已设置为可用状态
2025-03-22 09:23:22,814 - 
================================================================================
2025-03-22 09:23:22,814 - >>> 系统任务完成 <<<
2025-03-22 09:23:22,814 - ================================================================================

2025-03-22 09:23:22,814 - 系统任务完成
2025-03-22 09:23:22,814 - 今天的训练和预测任务已完成。
2025-03-22 09:55:18,608 - 
================================================================================
2025-03-22 09:55:18,608 - >>> 自动训练预测系统启动 <<<
2025-03-22 09:55:18,608 - ================================================================================

2025-03-22 09:55:18,608 - 自动训练预测系统启动
2025-03-22 09:55:18,608 - 今天的日期是: 20250322
2025-03-22 09:55:18,608 - 创建监视线程...
2025-03-22 09:55:18,608 - 启动训练线程...
2025-03-22 09:55:18,609 - 
================================================================================
2025-03-22 09:55:18,610 - 启动预测线程...
2025-03-22 09:55:18,610 - >>> 启动训练监视线程 <<<
2025-03-22 09:55:18,610 - ================================================================================

2025-03-22 09:55:18,610 - 启动训练监视线程
2025-03-22 09:55:18,610 - 
================================================================================
2025-03-22 09:55:18,610 - 等待线程完成...
2025-03-22 09:55:18,610 - 训练文件路径: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short\20250322.csv
2025-03-22 09:55:18,610 - >>> 启动预测监视线程 <<<
2025-03-22 09:55:18,611 - ================================================================================

2025-03-22 09:55:18,611 - 模型存储目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322
2025-03-22 09:55:18,611 - 启动预测监视线程
2025-03-22 09:55:18,611 - 训练完成标志文件: ./logs/auto_pre_train\20250322_train_done.flag
2025-03-22 09:55:18,611 - 开始监视 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short 文件夹以进行训练...
2025-03-22 09:55:18,611 - ✅ 发现新的训练文件：D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short\20250322.csv，执行训练...
2025-03-22 09:55:18,611 - 
================================================================================
2025-03-22 09:55:18,611 - >>> 开始模型训练 <<<
2025-03-22 09:55:18,612 - ================================================================================

2025-03-22 09:55:18,612 - 预测数据文件路径: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv\20250322.csv
2025-03-22 09:55:18,612 - 模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322
2025-03-22 09:55:18,612 - 预测完成标志文件: ./logs/auto_pre_train\20250322_predict_done.flag
2025-03-22 09:55:18,612 - 开始监视 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv 文件夹以进行预测...
2025-03-22 09:55:18,612 - 配置信息:
2025-03-22 09:55:18,612 -   - 窗口大小: 16
2025-03-22 09:55:18,612 -   - 滞后特征数: 4
2025-03-22 09:55:18,612 -   - 训练集比例: 0.9
2025-03-22 09:55:18,612 -   - 输出目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\train_predictions\short_predictions
2025-03-22 09:55:18,612 -   - 模型存储路径: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322
2025-03-22 09:55:18,612 - 输出结果将保存到: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\train_predictions\short_predictions
2025-03-22 09:55:18,612 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322
2025-03-22 09:55:18,612 - 
================================================================================
2025-03-22 09:55:18,613 - >>> 数据加载与预处理 <<<
2025-03-22 09:55:18,613 - 未找到best_models目录，检查传统模型文件
2025-03-22 09:55:18,613 - ================================================================================

2025-03-22 09:55:18,613 - 加载数据文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short\20250322.csv
2025-03-22 09:55:18,613 - 开始加载和预处理数据...
2025-03-22 09:55:18,613 - 未找到任何可用模型文件
2025-03-22 09:55:18,614 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-22 09:55:18,722 - 数据加载完成，共 2880 条记录
2025-03-22 09:55:18,742 - 数据前5行预览: 
        Timestamp    129.128_1    129.128_2  ...  ws200_15  wp_true    ws_all
0  2024/3/18 0:00  15974.26563  16293.82813  ...  9.731182   227.36  8.047185
1  2024/3/18 0:15  15974.26563  16293.82813  ...  9.603328   247.36  8.295189
2  2024/3/18 0:30  15974.26563  16293.82813  ...  9.476844   255.30  8.392767
3  2024/3/18 0:45  15974.26563  16293.82813  ...  9.351785   267.26  8.539846
4  2024/3/18 1:00  15974.26563  16293.82813  ...  9.228210   279.18  8.687130

[5 rows x 303 columns]
2025-03-22 09:55:18,744 - 数据集时间范围: 2024-03-18 至 2024-04-16, 共 1 个月
2025-03-22 09:55:18,744 - 根据数据集实际时间范围(1个月)，优化months_list: [1, 3, 6, 9, 12, None] -> [1, None]
2025-03-22 09:55:18,744 - 将使用以下时间段训练模型: [1, None]
2025-03-22 09:55:18,744 - 
================================================================================
2025-03-22 09:55:18,744 - >>> 开始多数据集训练 <<<
2025-03-22 09:55:18,744 - ================================================================================

2025-03-22 09:55:18,744 - 将使用多种时间跨度的数据训练模型...
2025-03-22 09:55:18,744 - 
--------------------------------------------------
【使用多个数据集训练模型】
--------------------------------------------------
2025-03-22 09:55:18,749 - 最佳模型将保存到: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\best_models
2025-03-22 09:55:18,749 - 获取统一参数成功，包含 3 种模型类型
2025-03-22 09:55:18,749 - 
--------------------------------------------------
【训练数据集: 1个月】
--------------------------------------------------
2025-03-22 09:55:18,749 - 使用1个月的数据进行训练...
2025-03-22 09:55:18,749 - 过滤数据为最近1个月...
2025-03-22 09:55:18,750 - 过滤后的数据量: 2880
2025-03-22 09:55:18,750 - 对1个月数据进行预处理...
2025-03-22 09:55:18,754 - 预处理后的特征维度: (2880, 304), 目标变量维度: (2880,)
2025-03-22 09:55:18,754 - 数据集划分完成，训练集: (2592, 304), 验证集: (288, 304)
2025-03-22 09:55:18,755 - 提取了 288 个验证集时间戳，用于时间加权评估
2025-03-22 09:55:18,755 - 执行特征工程，滞后特征数: 4...
2025-03-22 09:55:18,801 - 特征工程后的特征维度 - 训练集: (2589, 859), 验证集: (285, 859)
2025-03-22 09:55:18,801 - 数据标准化...
2025-03-22 09:55:18,829 - 数据标准化完成
2025-03-22 09:55:18,829 - 创建时间窗口，窗口大小: 16...
2025-03-22 09:55:18,877 - 时间窗口创建完成 - 训练集: (2574, 16, 859), 验证集: (270, 16, 859)
2025-03-22 09:55:18,877 - 调整时间戳长度以匹配窗口化后的验证集 - 原始长度: 288, 目标长度: 270
2025-03-22 09:55:18,877 - 时间戳已截断至匹配窗口化后的验证集长度: 270
2025-03-22 09:55:18,878 - 为1个月数据创建模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\1months
2025-03-22 09:55:18,878 - 开始训练1个月数据的模型...
2025-03-22 09:55:18,878 - 
--------------------------------------------------
【开始模型训练与评估】
--------------------------------------------------
2025-03-22 09:55:18,878 - 模型和 scaler 将被保存到目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\1months
2025-03-22 09:55:18,878 - 
--------------------------------------------------
【训练 GBDT 模型】
--------------------------------------------------
2025-03-22 09:55:18,878 - 模型参数: {'boosting_type': 'gbdt', 'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'name': 'GBDT'}
2025-03-22 09:55:18,878 - 开始训练 GBDT 模型...
2025-03-22 09:55:34,889 - GBDT 模型训练完成
2025-03-22 09:55:34,889 - 使用 GBDT 模型预测验证集...
2025-03-22 09:55:34,896 - 使用时间加权方式计算模型评分...
2025-03-22 09:55:34,897 - GBDT 评估结果 - RMSE: 45.2782, K: 0.7483, 加权评分: 0.8257
2025-03-22 09:55:34,897 - ✅ GBDT 成为当前最佳模型 (基于加权评分)
2025-03-22 09:55:34,904 - GBDT 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\1months\GBDT.joblib
2025-03-22 09:55:34,904 - 
--------------------------------------------------
【训练 DART 模型】
--------------------------------------------------
2025-03-22 09:55:34,905 - 模型参数: {'boosting_type': 'dart', 'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'drop_rate': 0.1, 'name': 'DART'}
2025-03-22 09:55:34,905 - 开始训练 DART 模型...
2025-03-22 09:55:48,623 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322
2025-03-22 09:55:48,623 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\best_models
2025-03-22 09:55:48,624 - 未找到GBDT模型文件
2025-03-22 09:55:48,624 - 未找到DART模型文件
2025-03-22 09:55:48,624 - 未找到GOSS模型文件
2025-03-22 09:55:48,624 - 未找到任何可用模型文件
2025-03-22 09:55:48,624 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-22 09:55:51,145 - DART 模型训练完成
2025-03-22 09:55:51,145 - 使用 DART 模型预测验证集...
2025-03-22 09:55:51,150 - 使用时间加权方式计算模型评分...
2025-03-22 09:55:51,151 - DART 评估结果 - RMSE: 60.2261, K: 0.7534, 加权评分: 0.8111
2025-03-22 09:55:51,158 - DART 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\1months\DART.joblib
2025-03-22 09:55:51,158 - 
--------------------------------------------------
【训练 GOSS 模型】
--------------------------------------------------
2025-03-22 09:55:51,158 - 模型参数: {'boosting_type': 'goss', 'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'top_rate': 0.2, 'other_rate': 0.1, 'name': 'GOSS'}
2025-03-22 09:55:51,159 - 开始训练 GOSS 模型...
2025-03-22 09:56:04,008 - GOSS 模型训练完成
2025-03-22 09:56:04,008 - 使用 GOSS 模型预测验证集...
2025-03-22 09:56:04,014 - 使用时间加权方式计算模型评分...
2025-03-22 09:56:04,017 - GOSS 评估结果 - RMSE: 45.9406, K: 0.7410, 加权评分: 0.8214
2025-03-22 09:56:04,034 - GOSS 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\1months\GOSS.joblib
2025-03-22 09:56:04,036 - Scaler 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\1months\scaler.joblib
2025-03-22 09:56:04,044 - 最佳模型 'GBDT' 已额外保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\1months\model.joblib
2025-03-22 09:56:04,044 - 1个月数据的模型训练完成
2025-03-22 09:56:04,044 - 
--------------------------------------------------
【更新每种算法的最佳模型】
--------------------------------------------------
2025-03-22 09:56:04,044 - ✅ 发现更好的GBDT模型 (来自1个月数据)
2025-03-22 09:56:04,044 -    新评分: 0.8257, 旧评分: -inf
2025-03-22 09:56:04,044 - ✅ 发现更好的DART模型 (来自1个月数据)
2025-03-22 09:56:04,044 -    新评分: 0.8111, 旧评分: -inf
2025-03-22 09:56:04,045 - ✅ 发现更好的GOSS模型 (来自1个月数据)
2025-03-22 09:56:04,045 -    新评分: 0.8214, 旧评分: -inf
2025-03-22 09:56:04,045 - 
--------------------------------------------------
【训练数据集: 全部数据】
--------------------------------------------------
2025-03-22 09:56:04,045 - 使用全部数据的数据进行训练...
2025-03-22 09:56:04,045 - 使用全部数据...
2025-03-22 09:56:04,045 - 过滤后的数据量: 2880
2025-03-22 09:56:04,045 - 对全部数据数据进行预处理...
2025-03-22 09:56:04,052 - 预处理后的特征维度: (2880, 304), 目标变量维度: (2880,)
2025-03-22 09:56:04,052 - 数据集划分完成，训练集: (2592, 304), 验证集: (288, 304)
2025-03-22 09:56:04,053 - 提取了 288 个验证集时间戳，用于时间加权评估
2025-03-22 09:56:04,053 - 执行特征工程，滞后特征数: 4...
2025-03-22 09:56:04,140 - 特征工程后的特征维度 - 训练集: (2589, 859), 验证集: (285, 859)
2025-03-22 09:56:04,141 - 数据标准化...
2025-03-22 09:56:04,169 - 数据标准化完成
2025-03-22 09:56:04,169 - 创建时间窗口，窗口大小: 16...
2025-03-22 09:56:04,220 - 时间窗口创建完成 - 训练集: (2574, 16, 859), 验证集: (270, 16, 859)
2025-03-22 09:56:04,220 - 调整时间戳长度以匹配窗口化后的验证集 - 原始长度: 288, 目标长度: 270
2025-03-22 09:56:04,220 - 时间戳已截断至匹配窗口化后的验证集长度: 270
2025-03-22 09:56:04,221 - 为全部数据数据创建模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\all_data
2025-03-22 09:56:04,221 - 开始训练全部数据数据的模型...
2025-03-22 09:56:04,221 - 
--------------------------------------------------
【开始模型训练与评估】
--------------------------------------------------
2025-03-22 09:56:04,221 - 模型和 scaler 将被保存到目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\all_data
2025-03-22 09:56:04,221 - 
--------------------------------------------------
【训练 GBDT 模型】
--------------------------------------------------
2025-03-22 09:56:04,221 - 模型参数: {'boosting_type': 'gbdt', 'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'name': 'GBDT'}
2025-03-22 09:56:04,221 - 开始训练 GBDT 模型...
2025-03-22 09:56:18,639 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322
2025-03-22 09:56:18,639 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\best_models
2025-03-22 09:56:18,640 - 未找到GBDT模型文件
2025-03-22 09:56:18,640 - 未找到DART模型文件
2025-03-22 09:56:18,640 - 未找到GOSS模型文件
2025-03-22 09:56:18,640 - 未找到任何可用模型文件
2025-03-22 09:56:18,640 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-22 09:56:20,485 - GBDT 模型训练完成
2025-03-22 09:56:20,486 - 使用 GBDT 模型预测验证集...
2025-03-22 09:56:20,491 - 使用时间加权方式计算模型评分...
2025-03-22 09:56:20,494 - GBDT 评估结果 - RMSE: 45.2782, K: 0.7483, 加权评分: 0.8257
2025-03-22 09:56:20,494 - ✅ GBDT 成为当前最佳模型 (基于加权评分)
2025-03-22 09:56:20,506 - GBDT 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\all_data\GBDT.joblib
2025-03-22 09:56:20,506 - 
--------------------------------------------------
【训练 DART 模型】
--------------------------------------------------
2025-03-22 09:56:20,506 - 模型参数: {'boosting_type': 'dart', 'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'drop_rate': 0.1, 'name': 'DART'}
2025-03-22 09:56:20,506 - 开始训练 DART 模型...
2025-03-22 09:56:36,836 - DART 模型训练完成
2025-03-22 09:56:36,836 - 使用 DART 模型预测验证集...
2025-03-22 09:56:36,844 - 使用时间加权方式计算模型评分...
2025-03-22 09:56:36,845 - DART 评估结果 - RMSE: 60.2261, K: 0.7534, 加权评分: 0.8111
2025-03-22 09:56:36,851 - DART 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\all_data\DART.joblib
2025-03-22 09:56:36,851 - 
--------------------------------------------------
【训练 GOSS 模型】
--------------------------------------------------
2025-03-22 09:56:36,851 - 模型参数: {'boosting_type': 'goss', 'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'top_rate': 0.2, 'other_rate': 0.1, 'name': 'GOSS'}
2025-03-22 09:56:36,851 - 开始训练 GOSS 模型...
2025-03-22 09:56:48,642 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322
2025-03-22 09:56:48,642 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\best_models
2025-03-22 09:56:48,643 - 未找到GBDT模型文件
2025-03-22 09:56:48,643 - 未找到DART模型文件
2025-03-22 09:56:48,643 - 未找到GOSS模型文件
2025-03-22 09:56:48,643 - 未找到任何可用模型文件
2025-03-22 09:56:48,643 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-22 09:56:49,726 - GOSS 模型训练完成
2025-03-22 09:56:49,726 - 使用 GOSS 模型预测验证集...
2025-03-22 09:56:49,733 - 使用时间加权方式计算模型评分...
2025-03-22 09:56:49,736 - GOSS 评估结果 - RMSE: 45.9406, K: 0.7410, 加权评分: 0.8214
2025-03-22 09:56:49,749 - GOSS 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\all_data\GOSS.joblib
2025-03-22 09:56:49,751 - Scaler 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\all_data\scaler.joblib
2025-03-22 09:56:49,759 - 最佳模型 'GBDT' 已额外保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\all_data\model.joblib
2025-03-22 09:56:49,759 - 全部数据数据的模型训练完成
2025-03-22 09:56:49,759 - 
--------------------------------------------------
【更新每种算法的最佳模型】
--------------------------------------------------
2025-03-22 09:56:49,759 - ❌ 全部数据数据的GBDT模型不是最佳模型
2025-03-22 09:56:49,759 -    当前评分: 0.8257, 最佳评分: 0.8257
2025-03-22 09:56:49,760 - ❌ 全部数据数据的DART模型不是最佳模型
2025-03-22 09:56:49,760 -    当前评分: 0.8111, 最佳评分: 0.8111
2025-03-22 09:56:49,760 - ❌ 全部数据数据的GOSS模型不是最佳模型
2025-03-22 09:56:49,760 -    当前评分: 0.8214, 最佳评分: 0.8214
2025-03-22 09:56:49,760 - 
--------------------------------------------------
【保存每种算法的最佳模型】
--------------------------------------------------
2025-03-22 09:56:49,768 - 最佳GBDT模型 (使用1个月数据) 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\best_models\GBDT.joblib
2025-03-22 09:56:49,768 - RMSE: 45.2782, K: 0.7483, 评分: 0.8257
2025-03-22 09:56:49,778 - 最佳DART模型 (使用1个月数据) 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\best_models\DART.joblib
2025-03-22 09:56:49,778 - RMSE: 60.2261, K: 0.7534, 评分: 0.8111
2025-03-22 09:56:49,790 - 最佳GOSS模型 (使用1个月数据) 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\best_models\GOSS.joblib
2025-03-22 09:56:49,790 - RMSE: 45.9406, K: 0.7410, 评分: 0.8214
2025-03-22 09:56:49,806 - 多数据集训练完成! 已为每种算法选择最佳模型
2025-03-22 09:56:49,806 -   - 最佳GBDT模型: 使用1个月数据, RMSE=45.2782, K=0.7483, 评分=0.8257
2025-03-22 09:56:49,806 -   - 最佳DART模型: 使用1个月数据, RMSE=60.2261, K=0.7534, 评分=0.8111
2025-03-22 09:56:49,807 -   - 最佳GOSS模型: 使用1个月数据, RMSE=45.9406, K=0.7410, 评分=0.8214
2025-03-22 09:56:49,807 - 
================================================================================
2025-03-22 09:56:49,807 - >>> 开始计算模型权重 <<<
2025-03-22 09:56:49,807 - ================================================================================

2025-03-22 09:56:49,807 - 开始计算模型权重
2025-03-22 09:56:49,807 - 从训练数据集中提取最后三天数据进行权重优化
2025-03-22 09:56:49,808 - ✅ 已从训练数据集提取最后三天数据，共 289 条记录
2025-03-22 09:56:49,808 - 开始计算最优模型权重...
2025-03-22 09:56:49,809 - 
--------------------------------------------------
【计算模型权重】
--------------------------------------------------
2025-03-22 09:56:49,833 - 加载最佳模型和对应的scaler...
2025-03-22 09:56:49,833 - ✅ 已加载 GBDT 模型和scaler
2025-03-22 09:56:49,833 - ✅ 已加载 DART 模型和scaler
2025-03-22 09:56:49,833 - ✅ 已加载 GOSS 模型和scaler
2025-03-22 09:56:49,833 - 预处理验证数据，共 289 条记录...
2025-03-22 09:56:49,836 - 验证数据预处理完成，特征维度: (289, 304)
2025-03-22 09:56:49,871 - 验证数据特征工程完成，特征维度: (286, 859)
2025-03-22 09:56:49,871 - 使用各模型进行预测...
2025-03-22 09:56:49,880 - 使用 GBDT 模型预测...
2025-03-22 09:56:49,886 - ✅ GBDT 模型预测完成，预测结果数量: 271
2025-03-22 09:56:49,898 - 使用 DART 模型预测...
2025-03-22 09:56:49,905 - ✅ DART 模型预测完成，预测结果数量: 271
2025-03-22 09:56:49,915 - 使用 GOSS 模型预测...
2025-03-22 09:56:49,921 - ✅ GOSS 模型预测完成，预测结果数量: 271
2025-03-22 09:56:49,921 - 对齐预测结果，使用最小长度: 271
2025-03-22 09:56:49,921 - 创建线性回归的特征矩阵 (271, 3) 和目标向量 (271,)
2025-03-22 09:56:49,921 - 训练线性回归模型计算最优权重...
2025-03-22 09:56:49,922 - 线性回归得到的权重: {'GBDT': np.float64(0.5880583070366863), 'DART': np.float64(0.0), 'GOSS': np.float64(0.0), 'INTERCEPT': np.float64(89.63376777699793)}
2025-03-22 09:56:49,923 - 最终计算的模型权重: {'GBDT': np.float64(0.5880583070366863), 'DART': np.float64(0.0), 'GOSS': np.float64(0.0), 'INTERCEPT': np.float64(89.63376777699793)}
2025-03-22 09:56:49,924 - 计算得到的最优权重: {'GBDT': np.float64(0.5880583070366863), 'DART': np.float64(0.0), 'GOSS': np.float64(0.0), 'INTERCEPT': np.float64(89.63376777699793)}
2025-03-22 09:56:49,924 - 模型权重已保存到: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\model_weights.joblib
2025-03-22 09:56:49,929 - 训练完成，已创建标志文件: ./logs/auto_pre_train\20250322_train_done.flag
2025-03-22 09:56:49,929 - ✅ 训练完成，已创建标志文件
2025-03-22 09:56:49,929 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322
2025-03-22 09:56:49,929 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\best_models
2025-03-22 09:56:49,930 - 发现GBDT模型文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\best_models\GBDT.joblib
2025-03-22 09:56:49,930 - ✅ 模型已成功保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322，模型可用。
2025-03-22 09:57:18,648 - ✅ 发现新的预测文件：D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv\20250322.csv，执行预测...
2025-03-22 09:57:18,648 - 
============================================================
【风电功率预测开始】
============================================================
2025-03-22 09:57:18,648 - 配置信息:
2025-03-22 09:57:18,648 -   - 数据文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv\20250322.csv
2025-03-22 09:57:18,649 -   - 模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322
2025-03-22 09:57:18,649 -   - 窗口大小: 16
2025-03-22 09:57:18,649 -   - 滞后特征数: 4
2025-03-22 09:57:18,649 - 
============================================================
【预处理新数据】
============================================================
2025-03-22 09:57:18,649 - 加载数据文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv\20250322.csv
2025-03-22 09:57:18,662 - 数据加载完成，去除缺失值后共 111 条记录
2025-03-22 09:57:18,716 - 数据前5行预览:
         Timestamp    129.128_1    129.128_2  ...  ws200_13   ws200_14   ws200_15
0  2024/4/16 19:30  15974.26563  16293.82813  ...  9.588719  10.699799  12.128573
1  2024/4/16 19:45  15974.26563  16293.82813  ...  9.553943  10.777429  12.265793
2  2024/4/16 20:00  15974.26563  16293.82813  ...  9.541195  10.863499  12.404554
3  2024/4/16 20:15  15974.26563  16293.82813  ...  9.280917  10.585079  12.259521
4  2024/4/16 20:30  15974.26563  16293.82813  ...  9.020693  10.307371  12.115601

[5 rows x 301 columns]
2025-03-22 09:57:18,716 - 预处理数据...
2025-03-22 09:57:18,718 - 预处理完成，特征维度: (111, 304)
2025-03-22 09:57:18,718 - 执行特征工程，滞后特征数: 4...
2025-03-22 09:57:18,769 - 特征工程完成，特征维度: (108, 859)
2025-03-22 09:57:18,769 - 新数据预处理完成，共 108 个样本
2025-03-22 09:57:18,769 - ✅ 发现最佳模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\best_models，尝试使用多模型加权预测
2025-03-22 09:57:18,769 - 
============================================================
【加载多个模型】
============================================================
2025-03-22 09:57:18,769 - 从目录加载模型和 scaler: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\best_models
2025-03-22 09:57:18,769 - 加载 GBDT 模型和 scaler...
2025-03-22 09:57:18,777 - ✅ 已成功加载 GBDT 模型和对应的 scaler
2025-03-22 09:57:18,777 - 加载 DART 模型和 scaler...
2025-03-22 09:57:18,782 - ✅ 已成功加载 DART 模型和对应的 scaler
2025-03-22 09:57:18,783 - 加载 GOSS 模型和 scaler...
2025-03-22 09:57:18,791 - ✅ 已成功加载 GOSS 模型和对应的 scaler
2025-03-22 09:57:18,791 - 加载完成，共加载了 3 个模型: GBDT, DART, GOSS
2025-03-22 09:57:18,791 - 尝试加载模型权重文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\model_weights.joblib
2025-03-22 09:57:18,792 - ✅ 已加载模型权重: {'GBDT': np.float64(0.5880583070366863), 'DART': np.float64(0.0), 'GOSS': np.float64(0.0), 'INTERCEPT': np.float64(89.63376777699793)}
2025-03-22 09:57:18,792 - 
============================================================
【使用多模型加权预测】
============================================================
2025-03-22 09:57:18,792 - 使用自定义权重: {'GBDT': np.float64(0.5880583070366863), 'DART': np.float64(0.0), 'GOSS': np.float64(0.0), 'INTERCEPT': np.float64(89.63376777699793)}
2025-03-22 09:57:18,792 - 使用 GBDT 模型进行预测 (权重: 0.5881)...
2025-03-22 09:57:18,796 - GBDT: 数据标准化完成
2025-03-22 09:57:18,799 - GBDT: 时间窗口创建完成，窗口数量: 93
2025-03-22 09:57:18,803 - ✅ GBDT 模型预测完成，生成了 93 个预测值
2025-03-22 09:57:18,803 -    统计: 最小值=213.23, 最大值=274.92, 平均值=251.90
2025-03-22 09:57:18,804 - ❌ DART 模型权重为0，跳过
2025-03-22 09:57:18,804 - ❌ GOSS 模型权重为0，跳过
2025-03-22 09:57:18,804 - 所有预测结果对齐到最小长度: 93
2025-03-22 09:57:18,804 - 开始计算加权平均预测结果...
2025-03-22 09:57:18,804 -   加入 GBDT 模型贡献 (权重: 0.5881)
2025-03-22 09:57:18,804 -   加入常数偏置项 (值: 89.6338)
2025-03-22 09:57:18,804 - 加权平均预测完成，生成了 93 个预测值
2025-03-22 09:57:18,804 - 加权预测结果统计: 最小值=215.02, 最大值=251.30, 平均值=237.76
2025-03-22 09:57:18,805 - ✅ 多模型加权预测完成，使用模型: GBDT, DART, GOSS
2025-03-22 09:57:18,805 - 
============================================================
【保存预测结果】
============================================================
2025-03-22 09:57:18,806 - 创建输出目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\results\shortresult\20250322
2025-03-22 09:57:18,806 - 预测结果数据框创建完成，共 93 行
2025-03-22 09:57:18,809 - ✅ 预测结果已保存到文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\results\shortresult\20250322\20250322.csv
2025-03-22 09:57:18,809 - 尝试将预测结果导入数据库...
2025-03-22 09:57:18,809 - 发送HTTP请求到: http://localhost:5000/prediction2database/batch_shortl_power
2025-03-22 09:57:21,010 - ✅ 数据已成功导入数据库
2025-03-22 09:57:21,010 -    总记录数: 93, 更新: 93, 插入: 0
2025-03-22 09:57:21,010 - ✅ 预测结果已保存到: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\results\shortresult\20250322\20250322.csv
2025-03-22 09:57:21,011 - ✅ 创建预测完成标志文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\results\shortresult\20250322\20250322_predict_done.flag
2025-03-22 09:57:21,011 - 
============================================================
【风电功率预测完成】
============================================================
2025-03-22 09:57:21,011 - 风电功率预测完成
2025-03-22 09:57:21,012 - 预测完成，已创建标志文件: ./logs/auto_pre_train\20250322_predict_done.flag
2025-03-22 09:57:21,013 - ✅ 预测执行完成
2025-03-22 09:57:21,013 - 
================================================================================
2025-03-22 09:57:21,013 - >>> 系统任务完成 <<<
2025-03-22 09:57:21,013 - ================================================================================

2025-03-22 09:57:21,013 - 系统任务完成
2025-03-22 09:57:21,013 - 今天的训练和预测任务已完成。
2025-03-22 10:08:02,302 - 
================================================================================
2025-03-22 10:08:02,302 - >>> 自动训练预测系统启动 <<<
2025-03-22 10:08:02,302 - ================================================================================

2025-03-22 10:08:02,302 - 自动训练预测系统启动
2025-03-22 10:08:02,302 - 今天的日期是: 20250322
2025-03-22 10:08:02,302 - 创建监视线程...
2025-03-22 10:08:02,302 - 启动训练线程...
2025-03-22 10:08:02,303 - 启动预测线程...
2025-03-22 10:08:02,303 - 
================================================================================
2025-03-22 10:08:02,303 - >>> 启动训练监视线程 <<<
2025-03-22 10:08:02,303 - ================================================================================

2025-03-22 10:08:02,303 - 
================================================================================
2025-03-22 10:08:02,303 - 启动训练监视线程
2025-03-22 10:08:02,303 - 等待线程完成...
2025-03-22 10:08:02,303 - >>> 启动预测监视线程 <<<
2025-03-22 10:08:02,304 - ================================================================================

2025-03-22 10:08:02,304 - 启动预测监视线程
2025-03-22 10:08:02,304 - 训练文件路径: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short\20250322.csv
2025-03-22 10:08:02,304 - 模型存储目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322
2025-03-22 10:08:02,304 - 训练完成标志文件: ./logs/auto_pre_train\20250322_train_done.flag
2025-03-22 10:08:02,304 - 开始监视 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short 文件夹以进行训练...
2025-03-22 10:08:02,304 - 预测数据文件路径: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv\20250322.csv
2025-03-22 10:08:02,304 - 检测到20250322的训练已经执行过 (标志文件: ./logs/auto_pre_train\20250322_train_done.flag)
2025-03-22 10:08:02,304 - 模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322
2025-03-22 10:08:02,304 - ⚠️ 检测到今天的训练已经执行过，跳过...
2025-03-22 10:08:02,305 - 预测完成标志文件: ./logs/auto_pre_train\20250322_predict_done.flag
2025-03-22 10:08:02,305 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322
2025-03-22 10:08:02,305 - 开始监视 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv 文件夹以进行预测...
2025-03-22 10:08:02,305 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\best_models
2025-03-22 10:08:02,305 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322
2025-03-22 10:08:02,305 - 发现GBDT模型文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\best_models\GBDT.joblib
2025-03-22 10:08:02,305 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\best_models
2025-03-22 10:08:02,305 - ✅ 模型已设置为可用状态
2025-03-22 10:08:02,305 - 发现GBDT模型文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\best_models\GBDT.joblib
2025-03-22 10:08:02,306 - ✅ 发现新的预测文件：D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv\20250322.csv，执行预测...
2025-03-22 10:08:02,306 - 
============================================================
【风电功率预测开始】
============================================================
2025-03-22 10:08:02,306 - 配置信息:
2025-03-22 10:08:02,306 -   - 数据文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv\20250322.csv
2025-03-22 10:08:02,306 -   - 模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322
2025-03-22 10:08:02,306 -   - 窗口大小: 16
2025-03-22 10:08:02,306 -   - 滞后特征数: 4
2025-03-22 10:08:02,306 - 
============================================================
【预处理新数据】
============================================================
2025-03-22 10:08:02,306 - 加载数据文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv\20250322.csv
2025-03-22 10:08:02,313 - 数据加载完成，去除缺失值后共 111 条记录
2025-03-22 10:08:02,373 - 数据前5行预览:
         Timestamp    129.128_1    129.128_2  ...  ws200_13   ws200_14   ws200_15
0  2024/4/16 19:30  15974.26563  16293.82813  ...  9.588719  10.699799  12.128573
1  2024/4/16 19:45  15974.26563  16293.82813  ...  9.553943  10.777429  12.265793
2  2024/4/16 20:00  15974.26563  16293.82813  ...  9.541195  10.863499  12.404554
3  2024/4/16 20:15  15974.26563  16293.82813  ...  9.280917  10.585079  12.259521
4  2024/4/16 20:30  15974.26563  16293.82813  ...  9.020693  10.307371  12.115601

[5 rows x 301 columns]
2025-03-22 10:08:02,373 - 预处理数据...
2025-03-22 10:08:02,376 - 预处理完成，特征维度: (111, 304)
2025-03-22 10:08:02,376 - 执行特征工程，滞后特征数: 4...
2025-03-22 10:08:02,408 - 特征工程完成，特征维度: (108, 859)
2025-03-22 10:08:02,409 - 新数据预处理完成，共 108 个样本
2025-03-22 10:08:02,409 - ✅ 发现最佳模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\best_models，尝试使用多模型加权预测
2025-03-22 10:08:02,409 - 
============================================================
【加载多个模型】
============================================================
2025-03-22 10:08:02,409 - 从目录加载模型和 scaler: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\best_models
2025-03-22 10:08:02,409 - 加载 GBDT 模型和 scaler...
2025-03-22 10:08:02,415 - ✅ 已成功加载 GBDT 模型和对应的 scaler
2025-03-22 10:08:02,416 - 加载 DART 模型和 scaler...
2025-03-22 10:08:02,421 - ✅ 已成功加载 DART 模型和对应的 scaler
2025-03-22 10:08:02,421 - 加载 GOSS 模型和 scaler...
2025-03-22 10:08:02,426 - ✅ 已成功加载 GOSS 模型和对应的 scaler
2025-03-22 10:08:02,426 - 加载完成，共加载了 3 个模型: GBDT, DART, GOSS
2025-03-22 10:08:02,426 - 尝试加载模型权重文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\model_weights.joblib
2025-03-22 10:08:02,426 - ✅ 已加载模型权重: {'GBDT': np.float64(0.5880583070366863), 'DART': np.float64(0.0), 'GOSS': np.float64(0.0), 'INTERCEPT': np.float64(89.63376777699793)}
2025-03-22 10:08:02,426 - 
============================================================
【使用多模型加权预测】
============================================================
2025-03-22 10:08:02,426 - 使用自定义权重: {'GBDT': np.float64(0.5880583070366863), 'DART': np.float64(0.0), 'GOSS': np.float64(0.0), 'INTERCEPT': np.float64(89.63376777699793)}
2025-03-22 10:08:02,426 - 使用 GBDT 模型进行预测 (权重: 0.5881)...
2025-03-22 10:08:02,429 - GBDT: 数据标准化完成
2025-03-22 10:08:02,431 - GBDT: 时间窗口创建完成，窗口数量: 93
2025-03-22 10:08:02,485 - ✅ GBDT 模型预测完成，生成了 93 个预测值
2025-03-22 10:08:02,485 -    统计: 最小值=213.23, 最大值=274.92, 平均值=251.90
2025-03-22 10:08:02,485 - ❌ DART 模型权重为0，跳过
2025-03-22 10:08:02,485 - ❌ GOSS 模型权重为0，跳过
2025-03-22 10:08:02,485 - 所有预测结果对齐到最小长度: 93
2025-03-22 10:08:02,485 - 开始计算加权平均预测结果...
2025-03-22 10:08:02,485 -   加入 GBDT 模型贡献 (权重: 0.5881)
2025-03-22 10:08:02,485 -   加入常数偏置项 (值: 89.6338)
2025-03-22 10:08:02,486 - 加权平均预测完成，生成了 93 个预测值
2025-03-22 10:08:02,486 - 加权预测结果统计: 最小值=215.02, 最大值=251.30, 平均值=237.76
2025-03-22 10:08:02,486 - ✅ 多模型加权预测完成，使用模型: GBDT, DART, GOSS
2025-03-22 10:08:02,486 - 
============================================================
【保存预测结果】
============================================================
2025-03-22 10:08:02,486 - 创建输出目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\results\shortresult\20250322
2025-03-22 10:08:02,487 - 预测结果数据框创建完成，共 93 行
2025-03-22 10:08:02,489 - ✅ 预测结果已保存到文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\results\shortresult\20250322\20250322.csv
2025-03-22 10:08:02,489 - 尝试将预测结果导入数据库...
2025-03-22 10:08:02,489 - 发送HTTP请求到: http://localhost:5000/prediction2database/batch_shortl_power
2025-03-22 10:08:04,650 - ✅ 数据已成功导入数据库
2025-03-22 10:08:04,650 -    总记录数: 93, 更新: 93, 插入: 0
2025-03-22 10:08:04,650 - ✅ 预测结果已保存到: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\results\shortresult\20250322\20250322.csv
2025-03-22 10:08:04,650 - 
============================================================
【风电功率预测完成】
============================================================
2025-03-22 10:08:04,650 - 风电功率预测完成
2025-03-22 10:08:04,652 - 预测完成，已创建标志文件: ./logs/auto_pre_train\20250322_predict_done.flag
2025-03-22 10:08:04,652 - ✅ 预测执行完成
2025-03-22 10:08:04,653 - 
================================================================================
2025-03-22 10:08:04,653 - >>> 系统任务完成 <<<
2025-03-22 10:08:04,653 - ================================================================================

2025-03-22 10:08:04,653 - 系统任务完成
2025-03-22 10:08:04,653 - 今天的训练和预测任务已完成。
2025-03-22 10:16:52,491 - 
================================================================================
2025-03-22 10:16:52,491 - >>> 自动训练预测系统启动 <<<
2025-03-22 10:16:52,491 - ================================================================================

2025-03-22 10:16:52,491 - 自动训练预测系统启动
2025-03-22 10:16:52,491 - 今天的日期是: 20250322
2025-03-22 10:16:52,491 - 创建监视线程...
2025-03-22 10:16:52,491 - 启动训练线程...
2025-03-22 10:16:52,492 - 启动预测线程...
2025-03-22 10:16:52,492 - 
================================================================================
2025-03-22 10:16:52,492 - >>> 启动训练监视线程 <<<
2025-03-22 10:16:52,492 - ================================================================================

2025-03-22 10:16:52,492 - 启动训练监视线程
2025-03-22 10:16:52,492 - 等待线程完成...
2025-03-22 10:16:52,492 - 
================================================================================
2025-03-22 10:16:52,493 - >>> 启动预测监视线程 <<<
2025-03-22 10:16:52,493 - ================================================================================

2025-03-22 10:16:52,493 - 启动预测监视线程
2025-03-22 10:16:52,493 - 训练文件路径: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short\20250322.csv
2025-03-22 10:16:52,493 - 模型存储目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322
2025-03-22 10:16:52,493 - 训练完成标志文件: ./logs/auto_pre_train\20250322_train_done.flag
2025-03-22 10:16:52,493 - 开始监视 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short 文件夹以进行训练...
2025-03-22 10:16:52,493 - 预测数据文件路径: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv\20250322.csv
2025-03-22 10:16:52,494 - 模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322
2025-03-22 10:16:52,494 - ✅ 发现新的训练文件：D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short\20250322.csv，执行训练...
2025-03-22 10:16:52,494 - 预测完成标志文件: ./logs/auto_pre_train\20250322_predict_done.flag
2025-03-22 10:16:52,494 - 开始监视 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv 文件夹以进行预测...
2025-03-22 10:16:52,494 - 
================================================================================
2025-03-22 10:16:52,494 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322
2025-03-22 10:16:52,494 - >>> 开始模型训练 <<<
2025-03-22 10:16:52,494 - ================================================================================

2025-03-22 10:16:52,494 - 未找到best_models目录，检查传统模型文件
2025-03-22 10:16:52,494 - 配置信息:
2025-03-22 10:16:52,495 -   - 窗口大小: 16
2025-03-22 10:16:52,495 -   - 滞后特征数: 4
2025-03-22 10:16:52,495 -   - 训练集比例: 0.9
2025-03-22 10:16:52,495 -   - 输出目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\train_predictions\short_predictions
2025-03-22 10:16:52,495 -   - 模型存储路径: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322
2025-03-22 10:16:52,495 - 输出结果将保存到: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\train_predictions\short_predictions
2025-03-22 10:16:52,495 - 未找到任何可用模型文件
2025-03-22 10:16:52,495 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-22 10:16:52,495 - 
================================================================================
2025-03-22 10:16:52,495 - >>> 数据加载与预处理 <<<
2025-03-22 10:16:52,495 - ================================================================================

2025-03-22 10:16:52,495 - 加载数据文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_short\20250322.csv
2025-03-22 10:16:52,495 - 开始加载和预处理数据...
2025-03-22 10:16:52,596 - 数据加载完成，共 2880 条记录
2025-03-22 10:16:52,617 - 数据前5行预览: 
        Timestamp    129.128_1    129.128_2  ...  ws200_15  wp_true    ws_all
0  2024/3/18 0:00  15974.26563  16293.82813  ...  9.731182   227.36  8.047185
1  2024/3/18 0:15  15974.26563  16293.82813  ...  9.603328   247.36  8.295189
2  2024/3/18 0:30  15974.26563  16293.82813  ...  9.476844   255.30  8.392767
3  2024/3/18 0:45  15974.26563  16293.82813  ...  9.351785   267.26  8.539846
4  2024/3/18 1:00  15974.26563  16293.82813  ...  9.228210   279.18  8.687130

[5 rows x 303 columns]
2025-03-22 10:16:52,619 - 数据集时间范围: 2024-03-18 至 2024-04-16, 共 1 个月
2025-03-22 10:16:52,619 - 根据数据集实际时间范围(1个月)，优化months_list: [1, 3, 6, 9, 12, None] -> [1, None]
2025-03-22 10:16:52,619 - 将使用以下时间段训练模型: [1, None]
2025-03-22 10:16:52,619 - 
================================================================================
2025-03-22 10:16:52,619 - >>> 开始多数据集训练 <<<
2025-03-22 10:16:52,620 - ================================================================================

2025-03-22 10:16:52,620 - 将使用多种时间跨度的数据训练模型...
2025-03-22 10:16:52,620 - 
--------------------------------------------------
【使用多个数据集训练模型】
--------------------------------------------------
2025-03-22 10:16:52,620 - 最佳模型将保存到: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\best_models
2025-03-22 10:16:52,620 - 获取统一参数成功，包含 3 种模型类型
2025-03-22 10:16:52,620 - 
--------------------------------------------------
【训练数据集: 1个月】
--------------------------------------------------
2025-03-22 10:16:52,620 - 使用1个月的数据进行训练...
2025-03-22 10:16:52,620 - 过滤数据为最近1个月...
2025-03-22 10:16:52,622 - 过滤后的数据量: 2880
2025-03-22 10:16:52,622 - 对1个月数据进行预处理...
2025-03-22 10:16:52,625 - 预处理后的特征维度: (2880, 304), 目标变量维度: (2880,)
2025-03-22 10:16:52,625 - 数据集划分完成，训练集: (2592, 304), 验证集: (288, 304)
2025-03-22 10:16:52,625 - 提取了 288 个验证集时间戳，用于时间加权评估
2025-03-22 10:16:52,626 - 执行特征工程，滞后特征数: 4...
2025-03-22 10:16:52,672 - 特征工程后的特征维度 - 训练集: (2589, 859), 验证集: (285, 859)
2025-03-22 10:16:52,673 - 数据标准化...
2025-03-22 10:16:52,700 - 数据标准化完成
2025-03-22 10:16:52,700 - 创建时间窗口，窗口大小: 16...
2025-03-22 10:16:52,749 - 时间窗口创建完成 - 训练集: (2574, 16, 859), 验证集: (270, 16, 859)
2025-03-22 10:16:52,749 - 调整时间戳长度以匹配窗口化后的验证集 - 原始长度: 288, 目标长度: 270
2025-03-22 10:16:52,749 - 时间戳已截断至匹配窗口化后的验证集长度: 270
2025-03-22 10:16:52,749 - 为1个月数据创建模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\1months
2025-03-22 10:16:52,749 - 开始训练1个月数据的模型...
2025-03-22 10:16:52,749 - 
--------------------------------------------------
【开始模型训练与评估】
--------------------------------------------------
2025-03-22 10:16:52,750 - 模型和 scaler 将被保存到目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\1months
2025-03-22 10:16:52,750 - 
--------------------------------------------------
【训练 GBDT 模型】
--------------------------------------------------
2025-03-22 10:16:52,750 - 模型参数: {'boosting_type': 'gbdt', 'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'name': 'GBDT'}
2025-03-22 10:16:52,750 - 开始训练 GBDT 模型...
2025-03-22 10:17:08,770 - GBDT 模型训练完成
2025-03-22 10:17:08,770 - 使用 GBDT 模型预测验证集...
2025-03-22 10:17:08,776 - 使用时间加权方式计算模型评分...
2025-03-22 10:17:08,777 - GBDT 评估结果 - RMSE: 45.2782, K: 0.7483, 加权评分: 0.8257
2025-03-22 10:17:08,777 - ✅ GBDT 成为当前最佳模型 (基于加权评分)
2025-03-22 10:17:08,788 - GBDT 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\1months\GBDT.joblib
2025-03-22 10:17:08,788 - 
--------------------------------------------------
【训练 DART 模型】
--------------------------------------------------
2025-03-22 10:17:08,788 - 模型参数: {'boosting_type': 'dart', 'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'drop_rate': 0.1, 'name': 'DART'}
2025-03-22 10:17:08,788 - 开始训练 DART 模型...
2025-03-22 10:17:22,502 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322
2025-03-22 10:17:22,502 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\best_models
2025-03-22 10:17:22,503 - 未找到GBDT模型文件
2025-03-22 10:17:22,503 - 未找到DART模型文件
2025-03-22 10:17:22,503 - 未找到GOSS模型文件
2025-03-22 10:17:22,503 - 未找到任何可用模型文件
2025-03-22 10:17:22,503 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-22 10:17:25,057 - DART 模型训练完成
2025-03-22 10:17:25,057 - 使用 DART 模型预测验证集...
2025-03-22 10:17:25,064 - 使用时间加权方式计算模型评分...
2025-03-22 10:17:25,068 - DART 评估结果 - RMSE: 60.2261, K: 0.7534, 加权评分: 0.8111
2025-03-22 10:17:25,076 - DART 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\1months\DART.joblib
2025-03-22 10:17:25,076 - 
--------------------------------------------------
【训练 GOSS 模型】
--------------------------------------------------
2025-03-22 10:17:25,076 - 模型参数: {'boosting_type': 'goss', 'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'top_rate': 0.2, 'other_rate': 0.1, 'name': 'GOSS'}
2025-03-22 10:17:25,076 - 开始训练 GOSS 模型...
2025-03-22 10:17:38,103 - GOSS 模型训练完成
2025-03-22 10:17:38,103 - 使用 GOSS 模型预测验证集...
2025-03-22 10:17:38,110 - 使用时间加权方式计算模型评分...
2025-03-22 10:17:38,111 - GOSS 评估结果 - RMSE: 45.9406, K: 0.7410, 加权评分: 0.8214
2025-03-22 10:17:38,129 - GOSS 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\1months\GOSS.joblib
2025-03-22 10:17:38,131 - Scaler 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\1months\scaler.joblib
2025-03-22 10:17:38,139 - 最佳模型 'GBDT' 已额外保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\1months\model.joblib
2025-03-22 10:17:38,139 - 1个月数据的模型训练完成
2025-03-22 10:17:38,139 - 
--------------------------------------------------
【更新每种算法的最佳模型】
--------------------------------------------------
2025-03-22 10:17:38,140 - ✅ 发现更好的GBDT模型 (来自1个月数据)
2025-03-22 10:17:38,140 -    新评分: 0.8257, 旧评分: -inf
2025-03-22 10:17:38,140 - ✅ 发现更好的DART模型 (来自1个月数据)
2025-03-22 10:17:38,140 -    新评分: 0.8111, 旧评分: -inf
2025-03-22 10:17:38,140 - ✅ 发现更好的GOSS模型 (来自1个月数据)
2025-03-22 10:17:38,140 -    新评分: 0.8214, 旧评分: -inf
2025-03-22 10:17:38,140 - 
--------------------------------------------------
【训练数据集: 全部数据】
--------------------------------------------------
2025-03-22 10:17:38,140 - 使用全部数据的数据进行训练...
2025-03-22 10:17:38,140 - 使用全部数据...
2025-03-22 10:17:38,141 - 过滤后的数据量: 2880
2025-03-22 10:17:38,141 - 对全部数据数据进行预处理...
2025-03-22 10:17:38,147 - 预处理后的特征维度: (2880, 304), 目标变量维度: (2880,)
2025-03-22 10:17:38,147 - 数据集划分完成，训练集: (2592, 304), 验证集: (288, 304)
2025-03-22 10:17:38,147 - 提取了 288 个验证集时间戳，用于时间加权评估
2025-03-22 10:17:38,148 - 执行特征工程，滞后特征数: 4...
2025-03-22 10:17:38,240 - 特征工程后的特征维度 - 训练集: (2589, 859), 验证集: (285, 859)
2025-03-22 10:17:38,240 - 数据标准化...
2025-03-22 10:17:38,268 - 数据标准化完成
2025-03-22 10:17:38,268 - 创建时间窗口，窗口大小: 16...
2025-03-22 10:17:38,321 - 时间窗口创建完成 - 训练集: (2574, 16, 859), 验证集: (270, 16, 859)
2025-03-22 10:17:38,321 - 调整时间戳长度以匹配窗口化后的验证集 - 原始长度: 288, 目标长度: 270
2025-03-22 10:17:38,321 - 时间戳已截断至匹配窗口化后的验证集长度: 270
2025-03-22 10:17:38,322 - 为全部数据数据创建模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\all_data
2025-03-22 10:17:38,322 - 开始训练全部数据数据的模型...
2025-03-22 10:17:38,322 - 
--------------------------------------------------
【开始模型训练与评估】
--------------------------------------------------
2025-03-22 10:17:38,322 - 模型和 scaler 将被保存到目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\all_data
2025-03-22 10:17:38,322 - 
--------------------------------------------------
【训练 GBDT 模型】
--------------------------------------------------
2025-03-22 10:17:38,322 - 模型参数: {'boosting_type': 'gbdt', 'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'name': 'GBDT'}
2025-03-22 10:17:38,322 - 开始训练 GBDT 模型...
2025-03-22 10:17:52,517 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322
2025-03-22 10:17:52,517 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\best_models
2025-03-22 10:17:52,517 - 未找到GBDT模型文件
2025-03-22 10:17:52,517 - 未找到DART模型文件
2025-03-22 10:17:52,518 - 未找到GOSS模型文件
2025-03-22 10:17:52,518 - 未找到任何可用模型文件
2025-03-22 10:17:52,518 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-22 10:17:54,545 - GBDT 模型训练完成
2025-03-22 10:17:54,545 - 使用 GBDT 模型预测验证集...
2025-03-22 10:17:54,552 - 使用时间加权方式计算模型评分...
2025-03-22 10:17:54,553 - GBDT 评估结果 - RMSE: 45.2782, K: 0.7483, 加权评分: 0.8257
2025-03-22 10:17:54,553 - ✅ GBDT 成为当前最佳模型 (基于加权评分)
2025-03-22 10:17:54,560 - GBDT 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\all_data\GBDT.joblib
2025-03-22 10:17:54,560 - 
--------------------------------------------------
【训练 DART 模型】
--------------------------------------------------
2025-03-22 10:17:54,560 - 模型参数: {'boosting_type': 'dart', 'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'drop_rate': 0.1, 'name': 'DART'}
2025-03-22 10:17:54,560 - 开始训练 DART 模型...
2025-03-22 10:18:10,911 - DART 模型训练完成
2025-03-22 10:18:10,912 - 使用 DART 模型预测验证集...
2025-03-22 10:18:10,919 - 使用时间加权方式计算模型评分...
2025-03-22 10:18:10,922 - DART 评估结果 - RMSE: 60.2261, K: 0.7534, 加权评分: 0.8111
2025-03-22 10:18:10,928 - DART 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\all_data\DART.joblib
2025-03-22 10:18:10,928 - 
--------------------------------------------------
【训练 GOSS 模型】
--------------------------------------------------
2025-03-22 10:18:10,929 - 模型参数: {'boosting_type': 'goss', 'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'top_rate': 0.2, 'other_rate': 0.1, 'name': 'GOSS'}
2025-03-22 10:18:10,929 - 开始训练 GOSS 模型...
2025-03-22 10:18:22,531 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322
2025-03-22 10:18:22,531 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\best_models
2025-03-22 10:18:22,532 - 未找到GBDT模型文件
2025-03-22 10:18:22,532 - 未找到DART模型文件
2025-03-22 10:18:22,532 - 未找到GOSS模型文件
2025-03-22 10:18:22,532 - 未找到任何可用模型文件
2025-03-22 10:18:22,532 - ⏳ 未有可用模型，等待模型训练完成...
2025-03-22 10:18:23,998 - GOSS 模型训练完成
2025-03-22 10:18:23,999 - 使用 GOSS 模型预测验证集...
2025-03-22 10:18:24,008 - 使用时间加权方式计算模型评分...
2025-03-22 10:18:24,009 - GOSS 评估结果 - RMSE: 45.9406, K: 0.7410, 加权评分: 0.8214
2025-03-22 10:18:24,025 - GOSS 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\all_data\GOSS.joblib
2025-03-22 10:18:24,027 - Scaler 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\all_data\scaler.joblib
2025-03-22 10:18:24,035 - 最佳模型 'GBDT' 已额外保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\all_data\model.joblib
2025-03-22 10:18:24,035 - 全部数据数据的模型训练完成
2025-03-22 10:18:24,035 - 
--------------------------------------------------
【更新每种算法的最佳模型】
--------------------------------------------------
2025-03-22 10:18:24,035 - ❌ 全部数据数据的GBDT模型不是最佳模型
2025-03-22 10:18:24,035 -    当前评分: 0.8257, 最佳评分: 0.8257
2025-03-22 10:18:24,035 - ❌ 全部数据数据的DART模型不是最佳模型
2025-03-22 10:18:24,036 -    当前评分: 0.8111, 最佳评分: 0.8111
2025-03-22 10:18:24,036 - ❌ 全部数据数据的GOSS模型不是最佳模型
2025-03-22 10:18:24,036 -    当前评分: 0.8214, 最佳评分: 0.8214
2025-03-22 10:18:24,036 - 
--------------------------------------------------
【保存每种算法的最佳模型】
--------------------------------------------------
2025-03-22 10:18:24,043 - 最佳GBDT模型 (使用1个月数据) 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\best_models\GBDT.joblib
2025-03-22 10:18:24,043 - RMSE: 45.2782, K: 0.7483, 评分: 0.8257
2025-03-22 10:18:24,052 - 最佳DART模型 (使用1个月数据) 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\best_models\DART.joblib
2025-03-22 10:18:24,052 - RMSE: 60.2261, K: 0.7534, 评分: 0.8111
2025-03-22 10:18:24,064 - 最佳GOSS模型 (使用1个月数据) 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\best_models\GOSS.joblib
2025-03-22 10:18:24,064 - RMSE: 45.9406, K: 0.7410, 评分: 0.8214
2025-03-22 10:18:24,083 - 多数据集训练完成! 已为每种算法选择最佳模型
2025-03-22 10:18:24,083 -   - 最佳GBDT模型: 使用1个月数据, RMSE=45.2782, K=0.7483, 评分=0.8257
2025-03-22 10:18:24,083 -   - 最佳DART模型: 使用1个月数据, RMSE=60.2261, K=0.7534, 评分=0.8111
2025-03-22 10:18:24,083 -   - 最佳GOSS模型: 使用1个月数据, RMSE=45.9406, K=0.7410, 评分=0.8214
2025-03-22 10:18:24,084 - 
================================================================================
2025-03-22 10:18:24,084 - >>> 开始计算模型权重 <<<
2025-03-22 10:18:24,084 - ================================================================================

2025-03-22 10:18:24,084 - 开始计算模型权重
2025-03-22 10:18:24,084 - 从训练数据集中提取最后三天数据进行权重优化
2025-03-22 10:18:24,085 - ✅ 已从训练数据集提取最后三天数据，共 289 条记录
2025-03-22 10:18:24,085 - 开始计算最优模型权重...
2025-03-22 10:18:24,085 - 
--------------------------------------------------
【计算模型权重】
--------------------------------------------------
2025-03-22 10:18:24,109 - 加载最佳模型和对应的scaler...
2025-03-22 10:18:24,109 - ✅ 已加载 GBDT 模型和scaler
2025-03-22 10:18:24,109 - ✅ 已加载 DART 模型和scaler
2025-03-22 10:18:24,109 - ✅ 已加载 GOSS 模型和scaler
2025-03-22 10:18:24,109 - 预处理验证数据，共 289 条记录...
2025-03-22 10:18:24,111 - 验证数据预处理完成，特征维度: (289, 304)
2025-03-22 10:18:24,154 - 验证数据特征工程完成，特征维度: (286, 859)
2025-03-22 10:18:24,155 - 使用各模型进行预测...
2025-03-22 10:18:24,162 - 使用 GBDT 模型预测...
2025-03-22 10:18:24,169 - ✅ GBDT 模型预测完成，预测结果数量: 271
2025-03-22 10:18:24,179 - 使用 DART 模型预测...
2025-03-22 10:18:24,185 - ✅ DART 模型预测完成，预测结果数量: 271
2025-03-22 10:18:24,193 - 使用 GOSS 模型预测...
2025-03-22 10:18:24,199 - ✅ GOSS 模型预测完成，预测结果数量: 271
2025-03-22 10:18:24,200 - 对齐预测结果，使用最小长度: 271
2025-03-22 10:18:24,200 - 创建线性回归的特征矩阵 (271, 3) 和目标向量 (271,)
2025-03-22 10:18:24,200 - 训练线性回归模型计算最优权重...
2025-03-22 10:18:24,201 - 线性回归得到的权重: {'GBDT': np.float64(0.5880583070366863), 'DART': np.float64(0.0), 'GOSS': np.float64(0.0), 'INTERCEPT': np.float64(89.63376777699793)}
2025-03-22 10:18:24,201 - 最终计算的模型权重: {'GBDT': np.float64(0.5880583070366863), 'DART': np.float64(0.0), 'GOSS': np.float64(0.0), 'INTERCEPT': np.float64(89.63376777699793)}
2025-03-22 10:18:24,203 - 计算得到的最优权重: {'GBDT': np.float64(0.5880583070366863), 'DART': np.float64(0.0), 'GOSS': np.float64(0.0), 'INTERCEPT': np.float64(89.63376777699793)}
2025-03-22 10:18:24,204 - 模型权重已保存到: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\model_weights.joblib
2025-03-22 10:18:24,211 - 训练完成，已创建标志文件: ./logs/auto_pre_train\20250322_train_done.flag
2025-03-22 10:18:24,211 - ✅ 训练完成，已创建标志文件
2025-03-22 10:18:24,211 - 检查模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322
2025-03-22 10:18:24,212 - 发现best_models目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\best_models
2025-03-22 10:18:24,212 - 发现GBDT模型文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\best_models\GBDT.joblib
2025-03-22 10:18:24,212 - ✅ 模型已成功保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322，模型可用。
2025-03-22 10:18:52,536 - ✅ 发现新的预测文件：D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv\20250322.csv，执行预测...
2025-03-22 10:18:52,536 - 
============================================================
【风电功率预测开始】
============================================================
2025-03-22 10:18:52,537 - 配置信息:
2025-03-22 10:18:52,537 -   - 数据文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv\20250322.csv
2025-03-22 10:18:52,537 -   - 模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322
2025-03-22 10:18:52,537 -   - 窗口大小: 16
2025-03-22 10:18:52,537 -   - 滞后特征数: 4
2025-03-22 10:18:52,537 - 
============================================================
【预处理新数据】
============================================================
2025-03-22 10:18:52,537 - 加载数据文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\precsv\shortcsv\20250322.csv
2025-03-22 10:18:52,550 - 数据加载完成，去除缺失值后共 111 条记录
2025-03-22 10:18:52,595 - 数据前5行预览:
         Timestamp    129.128_1    129.128_2  ...  ws200_13   ws200_14   ws200_15
0  2024/4/16 19:30  15974.26563  16293.82813  ...  9.588719  10.699799  12.128573
1  2024/4/16 19:45  15974.26563  16293.82813  ...  9.553943  10.777429  12.265793
2  2024/4/16 20:00  15974.26563  16293.82813  ...  9.541195  10.863499  12.404554
3  2024/4/16 20:15  15974.26563  16293.82813  ...  9.280917  10.585079  12.259521
4  2024/4/16 20:30  15974.26563  16293.82813  ...  9.020693  10.307371  12.115601

[5 rows x 301 columns]
2025-03-22 10:18:52,595 - 预处理数据...
2025-03-22 10:18:52,597 - 预处理完成，特征维度: (111, 304)
2025-03-22 10:18:52,597 - 执行特征工程，滞后特征数: 4...
2025-03-22 10:18:52,651 - 特征工程完成，特征维度: (108, 859)
2025-03-22 10:18:52,651 - 新数据预处理完成，共 108 个样本
2025-03-22 10:18:52,651 - ✅ 发现最佳模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\best_models，尝试使用多模型加权预测
2025-03-22 10:18:52,651 - 
============================================================
【加载多个模型】
============================================================
2025-03-22 10:18:52,652 - 从目录加载模型和 scaler: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\best_models
2025-03-22 10:18:52,652 - 加载 GBDT 模型和 scaler...
2025-03-22 10:18:52,659 - ✅ 已成功加载 GBDT 模型和对应的 scaler
2025-03-22 10:18:52,660 - 加载 DART 模型和 scaler...
2025-03-22 10:18:52,668 - ✅ 已成功加载 DART 模型和对应的 scaler
2025-03-22 10:18:52,669 - 加载 GOSS 模型和 scaler...
2025-03-22 10:18:52,677 - ✅ 已成功加载 GOSS 模型和对应的 scaler
2025-03-22 10:18:52,677 - 加载完成，共加载了 3 个模型: GBDT, DART, GOSS
2025-03-22 10:18:52,678 - 尝试加载模型权重文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\shortmodel\20250322\model_weights.joblib
2025-03-22 10:18:52,678 - ✅ 已加载模型权重: {'GBDT': np.float64(0.5880583070366863), 'DART': np.float64(0.0), 'GOSS': np.float64(0.0), 'INTERCEPT': np.float64(89.63376777699793)}
2025-03-22 10:18:52,679 - 
============================================================
【使用多模型加权预测】
============================================================
2025-03-22 10:18:52,679 - 使用自定义权重: {'GBDT': np.float64(0.5880583070366863), 'DART': np.float64(0.0), 'GOSS': np.float64(0.0), 'INTERCEPT': np.float64(89.63376777699793)}
2025-03-22 10:18:52,679 - 使用 GBDT 模型进行预测 (权重: 0.5881)...
2025-03-22 10:18:52,683 - GBDT: 数据标准化完成
2025-03-22 10:18:52,685 - GBDT: 时间窗口创建完成，窗口数量: 93
2025-03-22 10:18:52,689 - ✅ GBDT 模型预测完成，生成了 93 个预测值
2025-03-22 10:18:52,690 -    统计: 最小值=213.23, 最大值=274.92, 平均值=251.90
2025-03-22 10:18:52,690 - ❌ DART 模型权重为0，跳过
2025-03-22 10:18:52,690 - ❌ GOSS 模型权重为0，跳过
2025-03-22 10:18:52,690 - 所有预测结果对齐到最小长度: 93
2025-03-22 10:18:52,690 - 开始计算加权平均预测结果...
2025-03-22 10:18:52,690 -   加入 GBDT 模型贡献 (权重: 0.5881)
2025-03-22 10:18:52,690 -   加入常数偏置项 (值: 89.6338)
2025-03-22 10:18:52,690 - 加权平均预测完成，生成了 93 个预测值
2025-03-22 10:18:52,690 - 加权预测结果统计: 最小值=215.02, 最大值=251.30, 平均值=237.76
2025-03-22 10:18:52,691 - ✅ 多模型加权预测完成，使用模型: GBDT, DART, GOSS
2025-03-22 10:18:52,691 - 
============================================================
【保存预测结果】
============================================================
2025-03-22 10:18:52,691 - 创建输出目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\results\shortresult\20250322
2025-03-22 10:18:52,691 - 预测结果数据框创建完成，共 93 行
2025-03-22 10:18:52,693 - ✅ 预测结果已保存到文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\results\shortresult\20250322\20250322.csv
2025-03-22 10:18:52,693 - 尝试将预测结果导入数据库...
2025-03-22 10:18:52,693 - 发送HTTP请求到: http://localhost:5000/prediction2database/batch_shortl_power
2025-03-22 10:18:54,874 - ✅ 数据已成功导入数据库
2025-03-22 10:18:54,874 -    总记录数: 93, 更新: 93, 插入: 0
2025-03-22 10:18:54,874 - ✅ 预测结果已保存到: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\results\shortresult\20250322\20250322.csv
2025-03-22 10:18:54,874 - 
============================================================
【风电功率预测完成】
============================================================
2025-03-22 10:18:54,874 - 风电功率预测完成
2025-03-22 10:18:54,876 - 预测完成，已创建标志文件: ./logs/auto_pre_train\20250322_predict_done.flag
2025-03-22 10:18:54,876 - ✅ 预测执行完成
2025-03-22 10:18:54,876 - 
================================================================================
2025-03-22 10:18:54,877 - >>> 系统任务完成 <<<
2025-03-22 10:18:54,877 - ================================================================================

2025-03-22 10:18:54,877 - 系统任务完成
2025-03-22 10:18:54,877 - 今天的训练和预测任务已完成。
