2025-03-23 10:38:03,288 - 
================================================================================
2025-03-23 10:38:03,289 - >>> 自动训练系统启动 <<<
2025-03-23 10:38:03,289 - ================================================================================

2025-03-23 10:38:03,289 - 自动训练系统启动
2025-03-23 10:38:03,289 - 今天的日期是: 20250323
2025-03-23 10:38:03,289 - 
================================================================================
2025-03-23 10:38:03,289 - >>> 启动训练监视线程 <<<
2025-03-23 10:38:03,289 - ================================================================================

2025-03-23 10:38:03,289 - 启动训练监视线程
2025-03-23 10:38:03,290 - 训练文件路径: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_supershort\20250323.csv
2025-03-23 10:38:03,290 - 模型存储目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\supershortmodel\20250323
2025-03-23 10:38:03,290 - 训练完成标志文件: ./logs/auto_train\20250323_train_done.flag
2025-03-23 10:38:03,290 - 开始监视 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_supershort 文件夹以进行训练...
2025-03-23 10:38:03,290 - ❌ 未找到训练 CSV 文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_supershort\20250323.csv，等待 30 秒后重试...
2025-03-23 10:38:33,299 - ❌ 未找到训练 CSV 文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_supershort\20250323.csv，等待 30 秒后重试...
2025-03-23 22:31:00,795 - 
================================================================================
2025-03-23 22:31:00,795 - >>> 自动训练系统启动 <<<
2025-03-23 22:31:00,795 - ================================================================================

2025-03-23 22:31:00,795 - 自动训练系统启动
2025-03-23 22:31:00,796 - 今天的日期是: 20250323
2025-03-23 22:31:00,796 - 
================================================================================
2025-03-23 22:31:00,796 - >>> 启动训练监视线程 <<<
2025-03-23 22:31:00,796 - ================================================================================

2025-03-23 22:31:00,796 - 启动训练监视线程
2025-03-23 22:31:00,796 - 训练文件路径: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_supershort\20250323.csv
2025-03-23 22:31:00,796 - 模型存储目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\supershortmodel\20250323
2025-03-23 22:31:00,796 - 训练完成标志文件: ./logs/auto_train\20250323_train_done.flag
2025-03-23 22:31:00,796 - 开始监视 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_supershort 文件夹以进行训练...
2025-03-23 22:31:00,797 - ✅ 发现新的训练文件：D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_supershort\20250323.csv，执行训练...
2025-03-23 22:31:00,797 - 
================================================================================
2025-03-23 22:31:00,797 - >>> 开始模型训练 <<<
2025-03-23 22:31:00,797 - ================================================================================

2025-03-23 22:31:00,797 - 配置信息:
2025-03-23 22:31:00,797 -   - 窗口大小: 16
2025-03-23 22:31:00,797 -   - 滞后特征数: 4
2025-03-23 22:31:00,797 -   - 训练集比例: 0.9
2025-03-23 22:31:00,797 -   - 输出目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\train_predictions\supershort_predictions
2025-03-23 22:31:00,797 -   - 模型存储路径: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\supershortmodel\20250323
2025-03-23 22:31:00,797 - 输出结果将保存到: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\train_predictions\supershort_predictions
2025-03-23 22:31:00,797 - 
================================================================================
2025-03-23 22:31:00,797 - >>> 数据加载与预处理 <<<
2025-03-23 22:31:00,797 - ================================================================================

2025-03-23 22:31:00,797 - 加载数据文件: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\dataset\dataset_supershort\20250323.csv
2025-03-23 22:31:00,798 - 开始加载和预处理数据...
2025-03-23 22:31:00,948 - 数据加载完成，共 2973 条记录
2025-03-23 22:31:00,990 - 数据前5行预览: 
        Timestamp    129.128_1    129.128_2  ...  ws200_15  wp_true    ws_all
0  2024/3/18 0:00  15974.26563  16293.82813  ...  9.731182   227.36  8.047185
1  2024/3/18 0:15  15974.26563  16293.82813  ...  9.603328   247.36  8.295189
2  2024/3/18 0:30  15974.26563  16293.82813  ...  9.476844   255.30  8.392767
3  2024/3/18 0:45  15974.26563  16293.82813  ...  9.351785   267.26  8.539846
4  2024/3/18 1:00  15974.26563  16293.82813  ...  9.228210   279.18  8.687130

[5 rows x 303 columns]
2025-03-23 22:31:00,995 - 数据集时间范围: 2024-03-18 至 2024-04-17, 共 1 个月
2025-03-23 22:31:00,995 - 根据数据集实际时间范围(1个月)，优化months_list: [1, 3, 6, 9, 12, None] -> [1, None]
2025-03-23 22:31:00,995 - 将使用以下时间段训练模型: [1, None]
2025-03-23 22:31:00,995 - 
================================================================================
2025-03-23 22:31:00,995 - >>> 开始多数据集训练 <<<
2025-03-23 22:31:00,996 - ================================================================================

2025-03-23 22:31:00,996 - 将使用多种时间跨度的数据训练模型...
2025-03-23 22:31:00,996 - 
--------------------------------------------------
【使用多个数据集训练模型】
--------------------------------------------------
2025-03-23 22:31:00,997 - 最佳模型将保存到: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\supershortmodel\20250323\best_models
2025-03-23 22:31:00,997 - 获取统一参数成功，包含 3 种模型类型
2025-03-23 22:31:00,997 - 
--------------------------------------------------
【训练数据集: 1个月】
--------------------------------------------------
2025-03-23 22:31:00,997 - 使用1个月的数据进行训练...
2025-03-23 22:31:00,997 - 过滤数据为最近1个月...
2025-03-23 22:31:01,000 - 过滤后的数据量: 2973
2025-03-23 22:31:01,001 - 对1个月数据进行预处理...
2025-03-23 22:31:01,008 - 预处理后的特征维度: (2973, 304), 目标变量维度: (2973,)
2025-03-23 22:31:01,009 - 数据集划分完成，训练集: (2675, 304), 验证集: (298, 304)
2025-03-23 22:31:01,009 - 提取了 298 个验证集时间戳，用于时间加权评估
2025-03-23 22:31:01,009 - 执行特征工程，滞后特征数: 4...
2025-03-23 22:31:01,147 - 特征工程后的特征维度 - 训练集: (2672, 859), 验证集: (295, 859)
2025-03-23 22:31:01,147 - 数据标准化...
2025-03-23 22:31:01,215 - 数据标准化完成
2025-03-23 22:31:01,216 - 创建时间窗口，窗口大小: 16...
2025-03-23 22:31:01,300 - 时间窗口创建完成 - 训练集: (2657, 16, 859), 验证集: (280, 16, 859)
2025-03-23 22:31:01,300 - 调整时间戳长度以匹配窗口化后的验证集 - 原始长度: 298, 目标长度: 280
2025-03-23 22:31:01,300 - 时间戳已截断至匹配窗口化后的验证集长度: 280
2025-03-23 22:31:01,301 - 为1个月数据创建模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\supershortmodel\20250323\1months
2025-03-23 22:31:01,302 - 开始训练1个月数据的模型...
2025-03-23 22:31:01,302 - 
--------------------------------------------------
【开始模型训练与评估】
--------------------------------------------------
2025-03-23 22:31:01,302 - 模型和 scaler 将被保存到目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\supershortmodel\20250323\1months
2025-03-23 22:31:01,302 - 
--------------------------------------------------
【训练 GBDT 模型】
--------------------------------------------------
2025-03-23 22:31:01,302 - 模型参数: {'boosting_type': 'gbdt', 'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'name': 'GBDT'}
2025-03-23 22:31:01,302 - 开始训练 GBDT 模型...
2025-03-23 22:31:44,456 - GBDT 模型训练完成
2025-03-23 22:31:44,456 - 使用 GBDT 模型预测验证集...
2025-03-23 22:31:44,468 - 使用时间加权方式计算模型评分...
2025-03-23 22:31:44,469 - GBDT 评估结果 - RMSE: 67.1426, K: 0.4608, 加权评分: 0.6513
2025-03-23 22:31:44,470 - ✅ GBDT 成为当前最佳模型 (基于加权评分)
2025-03-23 22:31:44,480 - GBDT 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\supershortmodel\20250323\1months\GBDT.joblib
2025-03-23 22:31:44,480 - 
--------------------------------------------------
【训练 DART 模型】
--------------------------------------------------
2025-03-23 22:31:44,480 - 模型参数: {'boosting_type': 'dart', 'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'drop_rate': 0.1, 'name': 'DART'}
2025-03-23 22:31:44,480 - 开始训练 DART 模型...
2025-03-23 22:32:29,531 - DART 模型训练完成
2025-03-23 22:32:29,531 - 使用 DART 模型预测验证集...
2025-03-23 22:32:29,539 - 使用时间加权方式计算模型评分...
2025-03-23 22:32:29,541 - DART 评估结果 - RMSE: 62.3280, K: 0.6255, 加权评分: 0.7416
2025-03-23 22:32:29,541 - ✅ DART 成为当前最佳模型 (基于加权评分)
2025-03-23 22:32:29,552 - DART 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\supershortmodel\20250323\1months\DART.joblib
2025-03-23 22:32:29,552 - 
--------------------------------------------------
【训练 GOSS 模型】
--------------------------------------------------
2025-03-23 22:32:29,552 - 模型参数: {'boosting_type': 'goss', 'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'top_rate': 0.2, 'other_rate': 0.1, 'name': 'GOSS'}
2025-03-23 22:32:29,553 - 开始训练 GOSS 模型...
2025-03-23 22:33:04,858 - GOSS 模型训练完成
2025-03-23 22:33:04,858 - 使用 GOSS 模型预测验证集...
2025-03-23 22:33:04,868 - 使用时间加权方式计算模型评分...
2025-03-23 22:33:04,871 - GOSS 评估结果 - RMSE: 68.3105, K: 0.4494, 加权评分: 0.6442
2025-03-23 22:33:04,891 - GOSS 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\supershortmodel\20250323\1months\GOSS.joblib
2025-03-23 22:33:04,894 - Scaler 已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\supershortmodel\20250323\1months\scaler.joblib
2025-03-23 22:33:04,904 - 最佳模型 'DART' 已额外保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\supershortmodel\20250323\1months\model.joblib
2025-03-23 22:33:04,905 - 1个月数据的模型训练完成
2025-03-23 22:33:04,905 - 
--------------------------------------------------
【更新每种算法的最佳模型】
--------------------------------------------------
2025-03-23 22:33:04,905 - ✅ 发现更好的GBDT模型 (来自1个月数据)
2025-03-23 22:33:04,905 -    新评分: 0.6513, 旧评分: -inf
2025-03-23 22:33:04,905 - ✅ 发现更好的DART模型 (来自1个月数据)
2025-03-23 22:33:04,905 -    新评分: 0.7416, 旧评分: -inf
2025-03-23 22:33:04,905 - ✅ 发现更好的GOSS模型 (来自1个月数据)
2025-03-23 22:33:04,905 -    新评分: 0.6442, 旧评分: -inf
2025-03-23 22:33:04,905 - 
--------------------------------------------------
【训练数据集: 全部数据】
--------------------------------------------------
2025-03-23 22:33:04,905 - 使用全部数据的数据进行训练...
2025-03-23 22:33:04,905 - 使用全部数据...
2025-03-23 22:33:04,906 - 过滤后的数据量: 2973
2025-03-23 22:33:04,906 - 对全部数据数据进行预处理...
2025-03-23 22:33:04,915 - 预处理后的特征维度: (2973, 304), 目标变量维度: (2973,)
2025-03-23 22:33:04,916 - 数据集划分完成，训练集: (2675, 304), 验证集: (298, 304)
2025-03-23 22:33:04,916 - 提取了 298 个验证集时间戳，用于时间加权评估
2025-03-23 22:33:04,916 - 执行特征工程，滞后特征数: 4...
2025-03-23 22:33:05,013 - 特征工程后的特征维度 - 训练集: (2672, 859), 验证集: (295, 859)
2025-03-23 22:33:05,013 - 数据标准化...
2025-03-23 22:33:05,087 - 数据标准化完成
2025-03-23 22:33:05,087 - 创建时间窗口，窗口大小: 16...
2025-03-23 22:33:05,242 - 时间窗口创建完成 - 训练集: (2657, 16, 859), 验证集: (280, 16, 859)
2025-03-23 22:33:05,242 - 调整时间戳长度以匹配窗口化后的验证集 - 原始长度: 298, 目标长度: 280
2025-03-23 22:33:05,242 - 时间戳已截断至匹配窗口化后的验证集长度: 280
2025-03-23 22:33:05,243 - 为全部数据数据创建模型目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\supershortmodel\20250323\all_data
2025-03-23 22:33:05,243 - 开始训练全部数据数据的模型...
2025-03-23 22:33:05,243 - 
--------------------------------------------------
【开始模型训练与评估】
--------------------------------------------------
2025-03-23 22:33:05,243 - 模型和 scaler 将被保存到目录: D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\supershortmodel\20250323\all_data
2025-03-23 22:33:05,244 - 
--------------------------------------------------
【训练 GBDT 模型】
--------------------------------------------------
2025-03-23 22:33:05,244 - 模型参数: {'boosting_type': 'gbdt', 'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'name': 'GBDT'}
2025-03-23 22:33:05,244 - 开始训练 GBDT 模型...
2025-03-23 22:33:48,815 - GBDT 模型训练完成
2025-03-23 22:33:48,815 - 使用 GBDT 模型预测验证集...
2025-03-23 22:33:48,824 - 使用时间加权方式计算模型评分...
2025-03-23 22:33:48,825 - GBDT 评估结果 - RMSE: 67.1426, K: 0.4608, 加权评分: 0.6513
2025-03-23 22:33:48,825 - ✅ GBDT 成为当前最佳模型 (基于加权评分)
2025-03-23 22:33:48,835 - GBDT 模型已保存到 D:\my-vue-project\wind-power-forecast\backend\auto_scripts\models\supershortmodel\20250323\all_data\GBDT.joblib
2025-03-23 22:33:48,836 - 
--------------------------------------------------
【训练 DART 模型】
--------------------------------------------------
2025-03-23 22:33:48,836 - 模型参数: {'boosting_type': 'dart', 'objective': 'regression', 'metric': 'rmse', 'num_leaves': 31, 'learning_rate': 0.05, 'feature_fraction': 0.9, 'drop_rate': 0.1, 'name': 'DART'}
2025-03-23 22:33:48,836 - 开始训练 DART 模型...
